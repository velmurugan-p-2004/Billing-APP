var b2=Object.defineProperty;var I2=(e,t,n)=>t in e?b2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var el=(e,t,n)=>I2(e,typeof t!="symbol"?t+"":t,n);function Eg(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var Ao=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ag(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Sg={exports:{}},Dc={},bg={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ma=Symbol.for("react.element"),N2=Symbol.for("react.portal"),T2=Symbol.for("react.fragment"),_2=Symbol.for("react.strict_mode"),O2=Symbol.for("react.profiler"),M2=Symbol.for("react.provider"),R2=Symbol.for("react.context"),D2=Symbol.for("react.forward_ref"),k2=Symbol.for("react.suspense"),L2=Symbol.for("react.memo"),P2=Symbol.for("react.lazy"),p0=Symbol.iterator;function B2(e){return e===null||typeof e!="object"?null:(e=p0&&e[p0]||e["@@iterator"],typeof e=="function"?e:null)}var Ig={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ng=Object.assign,Tg={};function so(e,t,n){this.props=e,this.context=t,this.refs=Tg,this.updater=n||Ig}so.prototype.isReactComponent={};so.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};so.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _g(){}_g.prototype=so.prototype;function Bd(e,t,n){this.props=e,this.context=t,this.refs=Tg,this.updater=n||Ig}var Fd=Bd.prototype=new _g;Fd.constructor=Bd;Ng(Fd,so.prototype);Fd.isPureReactComponent=!0;var m0=Array.isArray,Og=Object.prototype.hasOwnProperty,jd={current:null},Mg={key:!0,ref:!0,__self:!0,__source:!0};function Rg(e,t,n){var i,a={},l=null,d=null;if(t!=null)for(i in t.ref!==void 0&&(d=t.ref),t.key!==void 0&&(l=""+t.key),t)Og.call(t,i)&&!Mg.hasOwnProperty(i)&&(a[i]=t[i]);var m=arguments.length-2;if(m===1)a.children=n;else if(1<m){for(var p=Array(m),g=0;g<m;g++)p[g]=arguments[g+2];a.children=p}if(e&&e.defaultProps)for(i in m=e.defaultProps,m)a[i]===void 0&&(a[i]=m[i]);return{$$typeof:Ma,type:e,key:l,ref:d,props:a,_owner:jd.current}}function F2(e,t){return{$$typeof:Ma,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ud(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ma}function j2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var x0=/\/+/g;function Eu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?j2(""+e.key):t.toString(36)}function Il(e,t,n,i,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(l){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case Ma:case N2:d=!0}}if(d)return d=e,a=a(d),e=i===""?"."+Eu(d,0):i,m0(a)?(n="",e!=null&&(n=e.replace(x0,"$&/")+"/"),Il(a,t,n,"",function(g){return g})):a!=null&&(Ud(a)&&(a=F2(a,n+(!a.key||d&&d.key===a.key?"":(""+a.key).replace(x0,"$&/")+"/")+e)),t.push(a)),1;if(d=0,i=i===""?".":i+":",m0(e))for(var m=0;m<e.length;m++){l=e[m];var p=i+Eu(l,m);d+=Il(l,t,n,p,a)}else if(p=B2(e),typeof p=="function")for(e=p.call(e),m=0;!(l=e.next()).done;)l=l.value,p=i+Eu(l,m++),d+=Il(l,t,n,p,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return d}function tl(e,t,n){if(e==null)return e;var i=[],a=0;return Il(e,i,"","",function(l){return t.call(n,l,a++)}),i}function U2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var un={current:null},Nl={transition:null},z2={ReactCurrentDispatcher:un,ReactCurrentBatchConfig:Nl,ReactCurrentOwner:jd};function Dg(){throw Error("act(...) is not supported in production builds of React.")}ke.Children={map:tl,forEach:function(e,t,n){tl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return tl(e,function(){t++}),t},toArray:function(e){return tl(e,function(t){return t})||[]},only:function(e){if(!Ud(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ke.Component=so;ke.Fragment=T2;ke.Profiler=O2;ke.PureComponent=Bd;ke.StrictMode=_2;ke.Suspense=k2;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z2;ke.act=Dg;ke.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=Ng({},e.props),a=e.key,l=e.ref,d=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,d=jd.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var m=e.type.defaultProps;for(p in t)Og.call(t,p)&&!Mg.hasOwnProperty(p)&&(i[p]=t[p]===void 0&&m!==void 0?m[p]:t[p])}var p=arguments.length-2;if(p===1)i.children=n;else if(1<p){m=Array(p);for(var g=0;g<p;g++)m[g]=arguments[g+2];i.children=m}return{$$typeof:Ma,type:e.type,key:a,ref:l,props:i,_owner:d}};ke.createContext=function(e){return e={$$typeof:R2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:M2,_context:e},e.Consumer=e};ke.createElement=Rg;ke.createFactory=function(e){var t=Rg.bind(null,e);return t.type=e,t};ke.createRef=function(){return{current:null}};ke.forwardRef=function(e){return{$$typeof:D2,render:e}};ke.isValidElement=Ud;ke.lazy=function(e){return{$$typeof:P2,_payload:{_status:-1,_result:e},_init:U2}};ke.memo=function(e,t){return{$$typeof:L2,type:e,compare:t===void 0?null:t}};ke.startTransition=function(e){var t=Nl.transition;Nl.transition={};try{e()}finally{Nl.transition=t}};ke.unstable_act=Dg;ke.useCallback=function(e,t){return un.current.useCallback(e,t)};ke.useContext=function(e){return un.current.useContext(e)};ke.useDebugValue=function(){};ke.useDeferredValue=function(e){return un.current.useDeferredValue(e)};ke.useEffect=function(e,t){return un.current.useEffect(e,t)};ke.useId=function(){return un.current.useId()};ke.useImperativeHandle=function(e,t,n){return un.current.useImperativeHandle(e,t,n)};ke.useInsertionEffect=function(e,t){return un.current.useInsertionEffect(e,t)};ke.useLayoutEffect=function(e,t){return un.current.useLayoutEffect(e,t)};ke.useMemo=function(e,t){return un.current.useMemo(e,t)};ke.useReducer=function(e,t,n){return un.current.useReducer(e,t,n)};ke.useRef=function(e){return un.current.useRef(e)};ke.useState=function(e){return un.current.useState(e)};ke.useSyncExternalStore=function(e,t,n){return un.current.useSyncExternalStore(e,t,n)};ke.useTransition=function(){return un.current.useTransition()};ke.version="18.3.1";bg.exports=ke;var K=bg.exports;const Vi=Ag(K),V2=Eg({__proto__:null,default:Vi},[K]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H2=K,W2=Symbol.for("react.element"),G2=Symbol.for("react.fragment"),Y2=Object.prototype.hasOwnProperty,X2=H2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,K2={key:!0,ref:!0,__self:!0,__source:!0};function kg(e,t,n){var i,a={},l=null,d=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(d=t.ref);for(i in t)Y2.call(t,i)&&!K2.hasOwnProperty(i)&&(a[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)a[i]===void 0&&(a[i]=t[i]);return{$$typeof:W2,type:e,key:l,ref:d,props:a,_owner:X2.current}}Dc.Fragment=G2;Dc.jsx=kg;Dc.jsxs=kg;Sg.exports=Dc;var A=Sg.exports,of={},Lg={exports:{}},Dn={},Pg={exports:{}},Bg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ee,ae){var ge=ee.length;ee.push(ae);e:for(;0<ge;){var Me=ge-1>>>1,De=ee[Me];if(0<a(De,ae))ee[Me]=ae,ee[ge]=De,ge=Me;else break e}}function n(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var ae=ee[0],ge=ee.pop();if(ge!==ae){ee[0]=ge;e:for(var Me=0,De=ee.length,Pt=De>>>1;Me<Pt;){var Je=2*(Me+1)-1,Er=ee[Je],Z=Je+1,ye=ee[Z];if(0>a(Er,ge))Z<De&&0>a(ye,Er)?(ee[Me]=ye,ee[Z]=ge,Me=Z):(ee[Me]=Er,ee[Je]=ge,Me=Je);else if(Z<De&&0>a(ye,ge))ee[Me]=ye,ee[Z]=ge,Me=Z;else break e}}return ae}function a(ee,ae){var ge=ee.sortIndex-ae.sortIndex;return ge!==0?ge:ee.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var d=Date,m=d.now();e.unstable_now=function(){return d.now()-m}}var p=[],g=[],y=1,v=null,C=3,b=!1,R=!1,M=!1,D=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(ee){for(var ae=n(g);ae!==null;){if(ae.callback===null)i(g);else if(ae.startTime<=ee)i(g),ae.sortIndex=ae.expirationTime,t(p,ae);else break;ae=n(g)}}function L(ee){if(M=!1,I(ee),!R)if(n(p)!==null)R=!0,Ce(V);else{var ae=n(g);ae!==null&&le(L,ae.startTime-ee)}}function V(ee,ae){R=!1,M&&(M=!1,_(Q),Q=-1),b=!0;var ge=C;try{for(I(ae),v=n(p);v!==null&&(!(v.expirationTime>ae)||ee&&!oe());){var Me=v.callback;if(typeof Me=="function"){v.callback=null,C=v.priorityLevel;var De=Me(v.expirationTime<=ae);ae=e.unstable_now(),typeof De=="function"?v.callback=De:v===n(p)&&i(p),I(ae)}else i(p);v=n(p)}if(v!==null)var Pt=!0;else{var Je=n(g);Je!==null&&le(L,Je.startTime-ae),Pt=!1}return Pt}finally{v=null,C=ge,b=!1}}var U=!1,B=null,Q=-1,z=5,ie=-1;function oe(){return!(e.unstable_now()-ie<z)}function $(){if(B!==null){var ee=e.unstable_now();ie=ee;var ae=!0;try{ae=B(!0,ee)}finally{ae?me():(U=!1,B=null)}}else U=!1}var me;if(typeof S=="function")me=function(){S($)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,G=he.port2;he.port1.onmessage=$,me=function(){G.postMessage(null)}}else me=function(){D($,0)};function Ce(ee){B=ee,U||(U=!0,me())}function le(ee,ae){Q=D(function(){ee(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ee){ee.callback=null},e.unstable_continueExecution=function(){R||b||(R=!0,Ce(V))},e.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<ee?Math.floor(1e3/ee):5},e.unstable_getCurrentPriorityLevel=function(){return C},e.unstable_getFirstCallbackNode=function(){return n(p)},e.unstable_next=function(ee){switch(C){case 1:case 2:case 3:var ae=3;break;default:ae=C}var ge=C;C=ae;try{return ee()}finally{C=ge}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ee,ae){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ge=C;C=ee;try{return ae()}finally{C=ge}},e.unstable_scheduleCallback=function(ee,ae,ge){var Me=e.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Me+ge:Me):ge=Me,ee){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=ge+De,ee={id:y++,callback:ae,priorityLevel:ee,startTime:ge,expirationTime:De,sortIndex:-1},ge>Me?(ee.sortIndex=ge,t(g,ee),n(p)===null&&ee===n(g)&&(M?(_(Q),Q=-1):M=!0,le(L,ge-Me))):(ee.sortIndex=De,t(p,ee),R||b||(R=!0,Ce(V))),ee},e.unstable_shouldYield=oe,e.unstable_wrapCallback=function(ee){var ae=C;return function(){var ge=C;C=ae;try{return ee.apply(this,arguments)}finally{C=ge}}}})(Bg);Pg.exports=Bg;var Q2=Pg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z2=K,Mn=Q2;function te(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fg=new Set,ia={};function os(e,t){Zs(e,t),Zs(e+"Capture",t)}function Zs(e,t){for(ia[e]=t,e=0;e<t.length;e++)Fg.add(t[e])}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),af=Object.prototype.hasOwnProperty,q2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y0={},w0={};function $2(e){return af.call(w0,e)?!0:af.call(y0,e)?!1:q2.test(e)?w0[e]=!0:(y0[e]=!0,!1)}function J2(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ey(e,t,n,i){if(t===null||typeof t>"u"||J2(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function fn(e,t,n,i,a,l,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=d}var Xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xt[e]=new fn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xt[t]=new fn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xt[e]=new fn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xt[e]=new fn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xt[e]=new fn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xt[e]=new fn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xt[e]=new fn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xt[e]=new fn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xt[e]=new fn(e,5,!1,e.toLowerCase(),null,!1,!1)});var zd=/[\-:]([a-z])/g;function Vd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(zd,Vd);Xt[t]=new fn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(zd,Vd);Xt[t]=new fn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(zd,Vd);Xt[t]=new fn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xt[e]=new fn(e,1,!1,e.toLowerCase(),null,!1,!1)});Xt.xlinkHref=new fn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xt[e]=new fn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Hd(e,t,n,i){var a=Xt.hasOwnProperty(t)?Xt[t]:null;(a!==null?a.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ey(t,n,a,i)&&(n=null),i||a===null?$2(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,i=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var Wr=Z2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nl=Symbol.for("react.element"),Ns=Symbol.for("react.portal"),Ts=Symbol.for("react.fragment"),Wd=Symbol.for("react.strict_mode"),lf=Symbol.for("react.profiler"),jg=Symbol.for("react.provider"),Ug=Symbol.for("react.context"),Gd=Symbol.for("react.forward_ref"),cf=Symbol.for("react.suspense"),uf=Symbol.for("react.suspense_list"),Yd=Symbol.for("react.memo"),si=Symbol.for("react.lazy"),zg=Symbol.for("react.offscreen"),v0=Symbol.iterator;function So(e){return e===null||typeof e!="object"?null:(e=v0&&e[v0]||e["@@iterator"],typeof e=="function"?e:null)}var xt=Object.assign,Au;function Po(e){if(Au===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Au=t&&t[1]||""}return`
`+Au+e}var Su=!1;function bu(e,t){if(!e||Su)return"";Su=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var i=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){i=g}e.call(t.prototype)}else{try{throw Error()}catch(g){i=g}e()}}catch(g){if(g&&i&&typeof g.stack=="string"){for(var a=g.stack.split(`
`),l=i.stack.split(`
`),d=a.length-1,m=l.length-1;1<=d&&0<=m&&a[d]!==l[m];)m--;for(;1<=d&&0<=m;d--,m--)if(a[d]!==l[m]){if(d!==1||m!==1)do if(d--,m--,0>m||a[d]!==l[m]){var p=`
`+a[d].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=d&&0<=m);break}}}finally{Su=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Po(e):""}function ty(e){switch(e.tag){case 5:return Po(e.type);case 16:return Po("Lazy");case 13:return Po("Suspense");case 19:return Po("SuspenseList");case 0:case 2:case 15:return e=bu(e.type,!1),e;case 11:return e=bu(e.type.render,!1),e;case 1:return e=bu(e.type,!0),e;default:return""}}function ff(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ts:return"Fragment";case Ns:return"Portal";case lf:return"Profiler";case Wd:return"StrictMode";case cf:return"Suspense";case uf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ug:return(e.displayName||"Context")+".Consumer";case jg:return(e._context.displayName||"Context")+".Provider";case Gd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Yd:return t=e.displayName||null,t!==null?t:ff(e.type)||"Memo";case si:t=e._payload,e=e._init;try{return ff(e(t))}catch{}}return null}function ny(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ff(t);case 8:return t===Wd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ai(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ry(e){var t=Vg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(d){i=""+d,l.call(this,d)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(d){i=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rl(e){e._valueTracker||(e._valueTracker=ry(e))}function Hg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Vg(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Gl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function df(e,t){var n=t.checked;return xt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function C0(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=Ai(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Wg(e,t){t=t.checked,t!=null&&Hd(e,"checked",t,!1)}function hf(e,t){Wg(e,t);var n=Ai(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gf(e,t.type,n):t.hasOwnProperty("defaultValue")&&gf(e,t.type,Ai(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function E0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function gf(e,t,n){(t!=="number"||Gl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Bo=Array.isArray;function Us(e,t,n,i){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Ai(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,i&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function pf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(te(91));return xt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function A0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(te(92));if(Bo(n)){if(1<n.length)throw Error(te(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ai(n)}}function Gg(e,t){var n=Ai(t.value),i=Ai(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function S0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Yg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Yg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var il,Xg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(il=il||document.createElement("div"),il.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=il.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function sa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ho={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iy=["Webkit","ms","Moz","O"];Object.keys(Ho).forEach(function(e){iy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ho[t]=Ho[e]})});function Kg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ho.hasOwnProperty(e)&&Ho[e]?(""+t).trim():t+"px"}function Qg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,a=Kg(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,a):e[n]=a}}var sy=xt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xf(e,t){if(t){if(sy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(te(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(te(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(te(61))}if(t.style!=null&&typeof t.style!="object")throw Error(te(62))}}function yf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wf=null;function Xd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vf=null,zs=null,Vs=null;function b0(e){if(e=ka(e)){if(typeof vf!="function")throw Error(te(280));var t=e.stateNode;t&&(t=Fc(t),vf(e.stateNode,e.type,t))}}function Zg(e){zs?Vs?Vs.push(e):Vs=[e]:zs=e}function qg(){if(zs){var e=zs,t=Vs;if(Vs=zs=null,b0(e),t)for(e=0;e<t.length;e++)b0(t[e])}}function $g(e,t){return e(t)}function Jg(){}var Iu=!1;function ep(e,t,n){if(Iu)return e(t,n);Iu=!0;try{return $g(e,t,n)}finally{Iu=!1,(zs!==null||Vs!==null)&&(Jg(),qg())}}function oa(e,t){var n=e.stateNode;if(n===null)return null;var i=Fc(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(te(231,t,typeof n));return n}var Cf=!1;if(jr)try{var bo={};Object.defineProperty(bo,"passive",{get:function(){Cf=!0}}),window.addEventListener("test",bo,bo),window.removeEventListener("test",bo,bo)}catch{Cf=!1}function oy(e,t,n,i,a,l,d,m,p){var g=Array.prototype.slice.call(arguments,3);try{t.apply(n,g)}catch(y){this.onError(y)}}var Wo=!1,Yl=null,Xl=!1,Ef=null,ay={onError:function(e){Wo=!0,Yl=e}};function ly(e,t,n,i,a,l,d,m,p){Wo=!1,Yl=null,oy.apply(ay,arguments)}function cy(e,t,n,i,a,l,d,m,p){if(ly.apply(this,arguments),Wo){if(Wo){var g=Yl;Wo=!1,Yl=null}else throw Error(te(198));Xl||(Xl=!0,Ef=g)}}function as(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function tp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function I0(e){if(as(e)!==e)throw Error(te(188))}function uy(e){var t=e.alternate;if(!t){if(t=as(e),t===null)throw Error(te(188));return t!==e?null:e}for(var n=e,i=t;;){var a=n.return;if(a===null)break;var l=a.alternate;if(l===null){if(i=a.return,i!==null){n=i;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===n)return I0(a),e;if(l===i)return I0(a),t;l=l.sibling}throw Error(te(188))}if(n.return!==i.return)n=a,i=l;else{for(var d=!1,m=a.child;m;){if(m===n){d=!0,n=a,i=l;break}if(m===i){d=!0,i=a,n=l;break}m=m.sibling}if(!d){for(m=l.child;m;){if(m===n){d=!0,n=l,i=a;break}if(m===i){d=!0,i=l,n=a;break}m=m.sibling}if(!d)throw Error(te(189))}}if(n.alternate!==i)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?e:t}function np(e){return e=uy(e),e!==null?rp(e):null}function rp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=rp(e);if(t!==null)return t;e=e.sibling}return null}var ip=Mn.unstable_scheduleCallback,N0=Mn.unstable_cancelCallback,fy=Mn.unstable_shouldYield,dy=Mn.unstable_requestPaint,It=Mn.unstable_now,hy=Mn.unstable_getCurrentPriorityLevel,Kd=Mn.unstable_ImmediatePriority,sp=Mn.unstable_UserBlockingPriority,Kl=Mn.unstable_NormalPriority,gy=Mn.unstable_LowPriority,op=Mn.unstable_IdlePriority,kc=null,wr=null;function py(e){if(wr&&typeof wr.onCommitFiberRoot=="function")try{wr.onCommitFiberRoot(kc,e,void 0,(e.current.flags&128)===128)}catch{}}var nr=Math.clz32?Math.clz32:yy,my=Math.log,xy=Math.LN2;function yy(e){return e>>>=0,e===0?32:31-(my(e)/xy|0)|0}var sl=64,ol=4194304;function Fo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ql(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,a=e.suspendedLanes,l=e.pingedLanes,d=n&268435455;if(d!==0){var m=d&~a;m!==0?i=Fo(m):(l&=d,l!==0&&(i=Fo(l)))}else d=n&~a,d!==0?i=Fo(d):l!==0&&(i=Fo(l));if(i===0)return 0;if(t!==0&&t!==i&&!(t&a)&&(a=i&-i,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-nr(t),a=1<<n,i|=e[n],t&=~a;return i}function wy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vy(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var d=31-nr(l),m=1<<d,p=a[d];p===-1?(!(m&n)||m&i)&&(a[d]=wy(m,t)):p<=t&&(e.expiredLanes|=m),l&=~m}}function Af(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ap(){var e=sl;return sl<<=1,!(sl&4194240)&&(sl=64),e}function Nu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ra(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-nr(t),e[t]=n}function Cy(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-nr(n),l=1<<a;t[a]=0,i[a]=-1,e[a]=-1,n&=~l}}function Qd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-nr(n),a=1<<i;a&t|e[i]&t&&(e[i]|=t),n&=~a}}var Xe=0;function lp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cp,Zd,up,fp,dp,Sf=!1,al=[],gi=null,pi=null,mi=null,aa=new Map,la=new Map,li=[],Ey="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function T0(e,t){switch(e){case"focusin":case"focusout":gi=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":aa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":la.delete(t.pointerId)}}function Io(e,t,n,i,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:l,targetContainers:[a]},t!==null&&(t=ka(t),t!==null&&Zd(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Ay(e,t,n,i,a){switch(t){case"focusin":return gi=Io(gi,e,t,n,i,a),!0;case"dragenter":return pi=Io(pi,e,t,n,i,a),!0;case"mouseover":return mi=Io(mi,e,t,n,i,a),!0;case"pointerover":var l=a.pointerId;return aa.set(l,Io(aa.get(l)||null,e,t,n,i,a)),!0;case"gotpointercapture":return l=a.pointerId,la.set(l,Io(la.get(l)||null,e,t,n,i,a)),!0}return!1}function hp(e){var t=Hi(e.target);if(t!==null){var n=as(t);if(n!==null){if(t=n.tag,t===13){if(t=tp(n),t!==null){e.blockedOn=t,dp(e.priority,function(){up(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=bf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);wf=i,n.target.dispatchEvent(i),wf=null}else return t=ka(n),t!==null&&Zd(t),e.blockedOn=n,!1;t.shift()}return!0}function _0(e,t,n){Tl(e)&&n.delete(t)}function Sy(){Sf=!1,gi!==null&&Tl(gi)&&(gi=null),pi!==null&&Tl(pi)&&(pi=null),mi!==null&&Tl(mi)&&(mi=null),aa.forEach(_0),la.forEach(_0)}function No(e,t){e.blockedOn===t&&(e.blockedOn=null,Sf||(Sf=!0,Mn.unstable_scheduleCallback(Mn.unstable_NormalPriority,Sy)))}function ca(e){function t(a){return No(a,e)}if(0<al.length){No(al[0],e);for(var n=1;n<al.length;n++){var i=al[n];i.blockedOn===e&&(i.blockedOn=null)}}for(gi!==null&&No(gi,e),pi!==null&&No(pi,e),mi!==null&&No(mi,e),aa.forEach(t),la.forEach(t),n=0;n<li.length;n++)i=li[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<li.length&&(n=li[0],n.blockedOn===null);)hp(n),n.blockedOn===null&&li.shift()}var Hs=Wr.ReactCurrentBatchConfig,Zl=!0;function by(e,t,n,i){var a=Xe,l=Hs.transition;Hs.transition=null;try{Xe=1,qd(e,t,n,i)}finally{Xe=a,Hs.transition=l}}function Iy(e,t,n,i){var a=Xe,l=Hs.transition;Hs.transition=null;try{Xe=4,qd(e,t,n,i)}finally{Xe=a,Hs.transition=l}}function qd(e,t,n,i){if(Zl){var a=bf(e,t,n,i);if(a===null)Bu(e,t,i,ql,n),T0(e,i);else if(Ay(a,e,t,n,i))i.stopPropagation();else if(T0(e,i),t&4&&-1<Ey.indexOf(e)){for(;a!==null;){var l=ka(a);if(l!==null&&cp(l),l=bf(e,t,n,i),l===null&&Bu(e,t,i,ql,n),l===a)break;a=l}a!==null&&i.stopPropagation()}else Bu(e,t,i,null,n)}}var ql=null;function bf(e,t,n,i){if(ql=null,e=Xd(i),e=Hi(e),e!==null)if(t=as(e),t===null)e=null;else if(n=t.tag,n===13){if(e=tp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ql=e,null}function gp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hy()){case Kd:return 1;case sp:return 4;case Kl:case gy:return 16;case op:return 536870912;default:return 16}default:return 16}}var fi=null,$d=null,_l=null;function pp(){if(_l)return _l;var e,t=$d,n=t.length,i,a="value"in fi?fi.value:fi.textContent,l=a.length;for(e=0;e<n&&t[e]===a[e];e++);var d=n-e;for(i=1;i<=d&&t[n-i]===a[l-i];i++);return _l=a.slice(e,1<i?1-i:void 0)}function Ol(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ll(){return!0}function O0(){return!1}function kn(e){function t(n,i,a,l,d){this._reactName=n,this._targetInst=a,this.type=i,this.nativeEvent=l,this.target=d,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(n=e[m],this[m]=n?n(l):l[m]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?ll:O0,this.isPropagationStopped=O0,this}return xt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ll)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ll)},persist:function(){},isPersistent:ll}),t}var oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jd=kn(oo),Da=xt({},oo,{view:0,detail:0}),Ny=kn(Da),Tu,_u,To,Lc=xt({},Da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==To&&(To&&e.type==="mousemove"?(Tu=e.screenX-To.screenX,_u=e.screenY-To.screenY):_u=Tu=0,To=e),Tu)},movementY:function(e){return"movementY"in e?e.movementY:_u}}),M0=kn(Lc),Ty=xt({},Lc,{dataTransfer:0}),_y=kn(Ty),Oy=xt({},Da,{relatedTarget:0}),Ou=kn(Oy),My=xt({},oo,{animationName:0,elapsedTime:0,pseudoElement:0}),Ry=kn(My),Dy=xt({},oo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ky=kn(Dy),Ly=xt({},oo,{data:0}),R0=kn(Ly),Py={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},By={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Fy[e])?!!t[e]:!1}function eh(){return jy}var Uy=xt({},Da,{key:function(e){if(e.key){var t=Py[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ol(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?By[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eh,charCode:function(e){return e.type==="keypress"?Ol(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ol(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zy=kn(Uy),Vy=xt({},Lc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D0=kn(Vy),Hy=xt({},Da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eh}),Wy=kn(Hy),Gy=xt({},oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yy=kn(Gy),Xy=xt({},Lc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ky=kn(Xy),Qy=[9,13,27,32],th=jr&&"CompositionEvent"in window,Go=null;jr&&"documentMode"in document&&(Go=document.documentMode);var Zy=jr&&"TextEvent"in window&&!Go,mp=jr&&(!th||Go&&8<Go&&11>=Go),k0=" ",L0=!1;function xp(e,t){switch(e){case"keyup":return Qy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _s=!1;function qy(e,t){switch(e){case"compositionend":return yp(t);case"keypress":return t.which!==32?null:(L0=!0,k0);case"textInput":return e=t.data,e===k0&&L0?null:e;default:return null}}function $y(e,t){if(_s)return e==="compositionend"||!th&&xp(e,t)?(e=pp(),_l=$d=fi=null,_s=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mp&&t.locale!=="ko"?null:t.data;default:return null}}var Jy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function P0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Jy[e.type]:t==="textarea"}function wp(e,t,n,i){Zg(i),t=$l(t,"onChange"),0<t.length&&(n=new Jd("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Yo=null,ua=null;function ew(e){Op(e,0)}function Pc(e){var t=Rs(e);if(Hg(t))return e}function tw(e,t){if(e==="change")return t}var vp=!1;if(jr){var Mu;if(jr){var Ru="oninput"in document;if(!Ru){var B0=document.createElement("div");B0.setAttribute("oninput","return;"),Ru=typeof B0.oninput=="function"}Mu=Ru}else Mu=!1;vp=Mu&&(!document.documentMode||9<document.documentMode)}function F0(){Yo&&(Yo.detachEvent("onpropertychange",Cp),ua=Yo=null)}function Cp(e){if(e.propertyName==="value"&&Pc(ua)){var t=[];wp(t,ua,e,Xd(e)),ep(ew,t)}}function nw(e,t,n){e==="focusin"?(F0(),Yo=t,ua=n,Yo.attachEvent("onpropertychange",Cp)):e==="focusout"&&F0()}function rw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pc(ua)}function iw(e,t){if(e==="click")return Pc(t)}function sw(e,t){if(e==="input"||e==="change")return Pc(t)}function ow(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sr=typeof Object.is=="function"?Object.is:ow;function fa(e,t){if(sr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var a=n[i];if(!af.call(t,a)||!sr(e[a],t[a]))return!1}return!0}function j0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function U0(e,t){var n=j0(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=j0(n)}}function Ep(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ep(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ap(){for(var e=window,t=Gl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Gl(e.document)}return t}function nh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function aw(e){var t=Ap(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ep(n.ownerDocument.documentElement,n)){if(i!==null&&nh(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,l=Math.min(i.start,a);i=i.end===void 0?l:Math.min(i.end,a),!e.extend&&l>i&&(a=i,i=l,l=a),a=U0(n,l);var d=U0(n,i);a&&d&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>i?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lw=jr&&"documentMode"in document&&11>=document.documentMode,Os=null,If=null,Xo=null,Nf=!1;function z0(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Nf||Os==null||Os!==Gl(i)||(i=Os,"selectionStart"in i&&nh(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Xo&&fa(Xo,i)||(Xo=i,i=$l(If,"onSelect"),0<i.length&&(t=new Jd("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Os)))}function cl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ms={animationend:cl("Animation","AnimationEnd"),animationiteration:cl("Animation","AnimationIteration"),animationstart:cl("Animation","AnimationStart"),transitionend:cl("Transition","TransitionEnd")},Du={},Sp={};jr&&(Sp=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function Bc(e){if(Du[e])return Du[e];if(!Ms[e])return e;var t=Ms[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Sp)return Du[e]=t[n];return e}var bp=Bc("animationend"),Ip=Bc("animationiteration"),Np=Bc("animationstart"),Tp=Bc("transitionend"),_p=new Map,V0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _i(e,t){_p.set(e,t),os(t,[e])}for(var ku=0;ku<V0.length;ku++){var Lu=V0[ku],cw=Lu.toLowerCase(),uw=Lu[0].toUpperCase()+Lu.slice(1);_i(cw,"on"+uw)}_i(bp,"onAnimationEnd");_i(Ip,"onAnimationIteration");_i(Np,"onAnimationStart");_i("dblclick","onDoubleClick");_i("focusin","onFocus");_i("focusout","onBlur");_i(Tp,"onTransitionEnd");Zs("onMouseEnter",["mouseout","mouseover"]);Zs("onMouseLeave",["mouseout","mouseover"]);Zs("onPointerEnter",["pointerout","pointerover"]);Zs("onPointerLeave",["pointerout","pointerover"]);os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));os("onBeforeInput",["compositionend","keypress","textInput","paste"]);os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fw=new Set("cancel close invalid load scroll toggle".split(" ").concat(jo));function H0(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,cy(i,t,void 0,e),e.currentTarget=null}function Op(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],a=i.event;i=i.listeners;e:{var l=void 0;if(t)for(var d=i.length-1;0<=d;d--){var m=i[d],p=m.instance,g=m.currentTarget;if(m=m.listener,p!==l&&a.isPropagationStopped())break e;H0(a,m,g),l=p}else for(d=0;d<i.length;d++){if(m=i[d],p=m.instance,g=m.currentTarget,m=m.listener,p!==l&&a.isPropagationStopped())break e;H0(a,m,g),l=p}}}if(Xl)throw e=Ef,Xl=!1,Ef=null,e}function st(e,t){var n=t[Rf];n===void 0&&(n=t[Rf]=new Set);var i=e+"__bubble";n.has(i)||(Mp(t,e,2,!1),n.add(i))}function Pu(e,t,n){var i=0;t&&(i|=4),Mp(n,e,i,t)}var ul="_reactListening"+Math.random().toString(36).slice(2);function da(e){if(!e[ul]){e[ul]=!0,Fg.forEach(function(n){n!=="selectionchange"&&(fw.has(n)||Pu(n,!1,e),Pu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ul]||(t[ul]=!0,Pu("selectionchange",!1,t))}}function Mp(e,t,n,i){switch(gp(t)){case 1:var a=by;break;case 4:a=Iy;break;default:a=qd}n=a.bind(null,t,n,e),a=void 0,!Cf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),i?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Bu(e,t,n,i,a){var l=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var d=i.tag;if(d===3||d===4){var m=i.stateNode.containerInfo;if(m===a||m.nodeType===8&&m.parentNode===a)break;if(d===4)for(d=i.return;d!==null;){var p=d.tag;if((p===3||p===4)&&(p=d.stateNode.containerInfo,p===a||p.nodeType===8&&p.parentNode===a))return;d=d.return}for(;m!==null;){if(d=Hi(m),d===null)return;if(p=d.tag,p===5||p===6){i=l=d;continue e}m=m.parentNode}}i=i.return}ep(function(){var g=l,y=Xd(n),v=[];e:{var C=_p.get(e);if(C!==void 0){var b=Jd,R=e;switch(e){case"keypress":if(Ol(n)===0)break e;case"keydown":case"keyup":b=zy;break;case"focusin":R="focus",b=Ou;break;case"focusout":R="blur",b=Ou;break;case"beforeblur":case"afterblur":b=Ou;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=M0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=_y;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=Wy;break;case bp:case Ip:case Np:b=Ry;break;case Tp:b=Yy;break;case"scroll":b=Ny;break;case"wheel":b=Ky;break;case"copy":case"cut":case"paste":b=ky;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=D0}var M=(t&4)!==0,D=!M&&e==="scroll",_=M?C!==null?C+"Capture":null:C;M=[];for(var S=g,I;S!==null;){I=S;var L=I.stateNode;if(I.tag===5&&L!==null&&(I=L,_!==null&&(L=oa(S,_),L!=null&&M.push(ha(S,L,I)))),D)break;S=S.return}0<M.length&&(C=new b(C,R,null,n,y),v.push({event:C,listeners:M}))}}if(!(t&7)){e:{if(C=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",C&&n!==wf&&(R=n.relatedTarget||n.fromElement)&&(Hi(R)||R[Ur]))break e;if((b||C)&&(C=y.window===y?y:(C=y.ownerDocument)?C.defaultView||C.parentWindow:window,b?(R=n.relatedTarget||n.toElement,b=g,R=R?Hi(R):null,R!==null&&(D=as(R),R!==D||R.tag!==5&&R.tag!==6)&&(R=null)):(b=null,R=g),b!==R)){if(M=M0,L="onMouseLeave",_="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(M=D0,L="onPointerLeave",_="onPointerEnter",S="pointer"),D=b==null?C:Rs(b),I=R==null?C:Rs(R),C=new M(L,S+"leave",b,n,y),C.target=D,C.relatedTarget=I,L=null,Hi(y)===g&&(M=new M(_,S+"enter",R,n,y),M.target=I,M.relatedTarget=D,L=M),D=L,b&&R)t:{for(M=b,_=R,S=0,I=M;I;I=Cs(I))S++;for(I=0,L=_;L;L=Cs(L))I++;for(;0<S-I;)M=Cs(M),S--;for(;0<I-S;)_=Cs(_),I--;for(;S--;){if(M===_||_!==null&&M===_.alternate)break t;M=Cs(M),_=Cs(_)}M=null}else M=null;b!==null&&W0(v,C,b,M,!1),R!==null&&D!==null&&W0(v,D,R,M,!0)}}e:{if(C=g?Rs(g):window,b=C.nodeName&&C.nodeName.toLowerCase(),b==="select"||b==="input"&&C.type==="file")var V=tw;else if(P0(C))if(vp)V=sw;else{V=rw;var U=nw}else(b=C.nodeName)&&b.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(V=iw);if(V&&(V=V(e,g))){wp(v,V,n,y);break e}U&&U(e,C,g),e==="focusout"&&(U=C._wrapperState)&&U.controlled&&C.type==="number"&&gf(C,"number",C.value)}switch(U=g?Rs(g):window,e){case"focusin":(P0(U)||U.contentEditable==="true")&&(Os=U,If=g,Xo=null);break;case"focusout":Xo=If=Os=null;break;case"mousedown":Nf=!0;break;case"contextmenu":case"mouseup":case"dragend":Nf=!1,z0(v,n,y);break;case"selectionchange":if(lw)break;case"keydown":case"keyup":z0(v,n,y)}var B;if(th)e:{switch(e){case"compositionstart":var Q="onCompositionStart";break e;case"compositionend":Q="onCompositionEnd";break e;case"compositionupdate":Q="onCompositionUpdate";break e}Q=void 0}else _s?xp(e,n)&&(Q="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Q="onCompositionStart");Q&&(mp&&n.locale!=="ko"&&(_s||Q!=="onCompositionStart"?Q==="onCompositionEnd"&&_s&&(B=pp()):(fi=y,$d="value"in fi?fi.value:fi.textContent,_s=!0)),U=$l(g,Q),0<U.length&&(Q=new R0(Q,e,null,n,y),v.push({event:Q,listeners:U}),B?Q.data=B:(B=yp(n),B!==null&&(Q.data=B)))),(B=Zy?qy(e,n):$y(e,n))&&(g=$l(g,"onBeforeInput"),0<g.length&&(y=new R0("onBeforeInput","beforeinput",null,n,y),v.push({event:y,listeners:g}),y.data=B))}Op(v,t)})}function ha(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $l(e,t){for(var n=t+"Capture",i=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=oa(e,n),l!=null&&i.unshift(ha(e,l,a)),l=oa(e,t),l!=null&&i.push(ha(e,l,a))),e=e.return}return i}function Cs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function W0(e,t,n,i,a){for(var l=t._reactName,d=[];n!==null&&n!==i;){var m=n,p=m.alternate,g=m.stateNode;if(p!==null&&p===i)break;m.tag===5&&g!==null&&(m=g,a?(p=oa(n,l),p!=null&&d.unshift(ha(n,p,m))):a||(p=oa(n,l),p!=null&&d.push(ha(n,p,m)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var dw=/\r\n?/g,hw=/\u0000|\uFFFD/g;function G0(e){return(typeof e=="string"?e:""+e).replace(dw,`
`).replace(hw,"")}function fl(e,t,n){if(t=G0(t),G0(e)!==t&&n)throw Error(te(425))}function Jl(){}var Tf=null,_f=null;function Of(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Mf=typeof setTimeout=="function"?setTimeout:void 0,gw=typeof clearTimeout=="function"?clearTimeout:void 0,Y0=typeof Promise=="function"?Promise:void 0,pw=typeof queueMicrotask=="function"?queueMicrotask:typeof Y0<"u"?function(e){return Y0.resolve(null).then(e).catch(mw)}:Mf;function mw(e){setTimeout(function(){throw e})}function Fu(e,t){var n=t,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(i===0){e.removeChild(a),ca(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=a}while(n);ca(t)}function xi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function X0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ao=Math.random().toString(36).slice(2),xr="__reactFiber$"+ao,ga="__reactProps$"+ao,Ur="__reactContainer$"+ao,Rf="__reactEvents$"+ao,xw="__reactListeners$"+ao,yw="__reactHandles$"+ao;function Hi(e){var t=e[xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ur]||n[xr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=X0(e);e!==null;){if(n=e[xr])return n;e=X0(e)}return t}e=n,n=e.parentNode}return null}function ka(e){return e=e[xr]||e[Ur],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(te(33))}function Fc(e){return e[ga]||null}var Df=[],Ds=-1;function Oi(e){return{current:e}}function lt(e){0>Ds||(e.current=Df[Ds],Df[Ds]=null,Ds--)}function nt(e,t){Ds++,Df[Ds]=e.current,e.current=t}var Si={},tn=Oi(Si),vn=Oi(!1),$i=Si;function qs(e,t){var n=e.type.contextTypes;if(!n)return Si;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in n)a[l]=t[l];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Cn(e){return e=e.childContextTypes,e!=null}function ec(){lt(vn),lt(tn)}function K0(e,t,n){if(tn.current!==Si)throw Error(te(168));nt(tn,t),nt(vn,n)}function Rp(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var a in i)if(!(a in t))throw Error(te(108,ny(e)||"Unknown",a));return xt({},n,i)}function tc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,$i=tn.current,nt(tn,e),nt(vn,vn.current),!0}function Q0(e,t,n){var i=e.stateNode;if(!i)throw Error(te(169));n?(e=Rp(e,t,$i),i.__reactInternalMemoizedMergedChildContext=e,lt(vn),lt(tn),nt(tn,e)):lt(vn),nt(vn,n)}var Nr=null,jc=!1,ju=!1;function Dp(e){Nr===null?Nr=[e]:Nr.push(e)}function ww(e){jc=!0,Dp(e)}function Mi(){if(!ju&&Nr!==null){ju=!0;var e=0,t=Xe;try{var n=Nr;for(Xe=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}Nr=null,jc=!1}catch(a){throw Nr!==null&&(Nr=Nr.slice(e+1)),ip(Kd,Mi),a}finally{Xe=t,ju=!1}}return null}var ks=[],Ls=0,nc=null,rc=0,jn=[],Un=0,Ji=null,Rr=1,Dr="";function Ui(e,t){ks[Ls++]=rc,ks[Ls++]=nc,nc=e,rc=t}function kp(e,t,n){jn[Un++]=Rr,jn[Un++]=Dr,jn[Un++]=Ji,Ji=e;var i=Rr;e=Dr;var a=32-nr(i)-1;i&=~(1<<a),n+=1;var l=32-nr(t)+a;if(30<l){var d=a-a%5;l=(i&(1<<d)-1).toString(32),i>>=d,a-=d,Rr=1<<32-nr(t)+a|n<<a|i,Dr=l+e}else Rr=1<<l|n<<a|i,Dr=e}function rh(e){e.return!==null&&(Ui(e,1),kp(e,1,0))}function ih(e){for(;e===nc;)nc=ks[--Ls],ks[Ls]=null,rc=ks[--Ls],ks[Ls]=null;for(;e===Ji;)Ji=jn[--Un],jn[Un]=null,Dr=jn[--Un],jn[Un]=null,Rr=jn[--Un],jn[Un]=null}var On=null,_n=null,ft=!1,er=null;function Lp(e,t){var n=Vn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Z0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,On=e,_n=xi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,On=e,_n=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ji!==null?{id:Rr,overflow:Dr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Vn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,On=e,_n=null,!0):!1;default:return!1}}function kf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Lf(e){if(ft){var t=_n;if(t){var n=t;if(!Z0(e,t)){if(kf(e))throw Error(te(418));t=xi(n.nextSibling);var i=On;t&&Z0(e,t)?Lp(i,n):(e.flags=e.flags&-4097|2,ft=!1,On=e)}}else{if(kf(e))throw Error(te(418));e.flags=e.flags&-4097|2,ft=!1,On=e}}}function q0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;On=e}function dl(e){if(e!==On)return!1;if(!ft)return q0(e),ft=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Of(e.type,e.memoizedProps)),t&&(t=_n)){if(kf(e))throw Pp(),Error(te(418));for(;t;)Lp(e,t),t=xi(t.nextSibling)}if(q0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(te(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){_n=xi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}_n=null}}else _n=On?xi(e.stateNode.nextSibling):null;return!0}function Pp(){for(var e=_n;e;)e=xi(e.nextSibling)}function $s(){_n=On=null,ft=!1}function sh(e){er===null?er=[e]:er.push(e)}var vw=Wr.ReactCurrentBatchConfig;function _o(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var i=n.stateNode}if(!i)throw Error(te(147,e));var a=i,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(d){var m=a.refs;d===null?delete m[l]:m[l]=d},t._stringRef=l,t)}if(typeof e!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,e))}return e}function hl(e,t){throw e=Object.prototype.toString.call(t),Error(te(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $0(e){var t=e._init;return t(e._payload)}function Bp(e){function t(_,S){if(e){var I=_.deletions;I===null?(_.deletions=[S],_.flags|=16):I.push(S)}}function n(_,S){if(!e)return null;for(;S!==null;)t(_,S),S=S.sibling;return null}function i(_,S){for(_=new Map;S!==null;)S.key!==null?_.set(S.key,S):_.set(S.index,S),S=S.sibling;return _}function a(_,S){return _=Ci(_,S),_.index=0,_.sibling=null,_}function l(_,S,I){return _.index=I,e?(I=_.alternate,I!==null?(I=I.index,I<S?(_.flags|=2,S):I):(_.flags|=2,S)):(_.flags|=1048576,S)}function d(_){return e&&_.alternate===null&&(_.flags|=2),_}function m(_,S,I,L){return S===null||S.tag!==6?(S=Yu(I,_.mode,L),S.return=_,S):(S=a(S,I),S.return=_,S)}function p(_,S,I,L){var V=I.type;return V===Ts?y(_,S,I.props.children,L,I.key):S!==null&&(S.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===si&&$0(V)===S.type)?(L=a(S,I.props),L.ref=_o(_,S,I),L.return=_,L):(L=Bl(I.type,I.key,I.props,null,_.mode,L),L.ref=_o(_,S,I),L.return=_,L)}function g(_,S,I,L){return S===null||S.tag!==4||S.stateNode.containerInfo!==I.containerInfo||S.stateNode.implementation!==I.implementation?(S=Xu(I,_.mode,L),S.return=_,S):(S=a(S,I.children||[]),S.return=_,S)}function y(_,S,I,L,V){return S===null||S.tag!==7?(S=Ki(I,_.mode,L,V),S.return=_,S):(S=a(S,I),S.return=_,S)}function v(_,S,I){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Yu(""+S,_.mode,I),S.return=_,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case nl:return I=Bl(S.type,S.key,S.props,null,_.mode,I),I.ref=_o(_,null,S),I.return=_,I;case Ns:return S=Xu(S,_.mode,I),S.return=_,S;case si:var L=S._init;return v(_,L(S._payload),I)}if(Bo(S)||So(S))return S=Ki(S,_.mode,I,null),S.return=_,S;hl(_,S)}return null}function C(_,S,I,L){var V=S!==null?S.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return V!==null?null:m(_,S,""+I,L);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case nl:return I.key===V?p(_,S,I,L):null;case Ns:return I.key===V?g(_,S,I,L):null;case si:return V=I._init,C(_,S,V(I._payload),L)}if(Bo(I)||So(I))return V!==null?null:y(_,S,I,L,null);hl(_,I)}return null}function b(_,S,I,L,V){if(typeof L=="string"&&L!==""||typeof L=="number")return _=_.get(I)||null,m(S,_,""+L,V);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case nl:return _=_.get(L.key===null?I:L.key)||null,p(S,_,L,V);case Ns:return _=_.get(L.key===null?I:L.key)||null,g(S,_,L,V);case si:var U=L._init;return b(_,S,I,U(L._payload),V)}if(Bo(L)||So(L))return _=_.get(I)||null,y(S,_,L,V,null);hl(S,L)}return null}function R(_,S,I,L){for(var V=null,U=null,B=S,Q=S=0,z=null;B!==null&&Q<I.length;Q++){B.index>Q?(z=B,B=null):z=B.sibling;var ie=C(_,B,I[Q],L);if(ie===null){B===null&&(B=z);break}e&&B&&ie.alternate===null&&t(_,B),S=l(ie,S,Q),U===null?V=ie:U.sibling=ie,U=ie,B=z}if(Q===I.length)return n(_,B),ft&&Ui(_,Q),V;if(B===null){for(;Q<I.length;Q++)B=v(_,I[Q],L),B!==null&&(S=l(B,S,Q),U===null?V=B:U.sibling=B,U=B);return ft&&Ui(_,Q),V}for(B=i(_,B);Q<I.length;Q++)z=b(B,_,Q,I[Q],L),z!==null&&(e&&z.alternate!==null&&B.delete(z.key===null?Q:z.key),S=l(z,S,Q),U===null?V=z:U.sibling=z,U=z);return e&&B.forEach(function(oe){return t(_,oe)}),ft&&Ui(_,Q),V}function M(_,S,I,L){var V=So(I);if(typeof V!="function")throw Error(te(150));if(I=V.call(I),I==null)throw Error(te(151));for(var U=V=null,B=S,Q=S=0,z=null,ie=I.next();B!==null&&!ie.done;Q++,ie=I.next()){B.index>Q?(z=B,B=null):z=B.sibling;var oe=C(_,B,ie.value,L);if(oe===null){B===null&&(B=z);break}e&&B&&oe.alternate===null&&t(_,B),S=l(oe,S,Q),U===null?V=oe:U.sibling=oe,U=oe,B=z}if(ie.done)return n(_,B),ft&&Ui(_,Q),V;if(B===null){for(;!ie.done;Q++,ie=I.next())ie=v(_,ie.value,L),ie!==null&&(S=l(ie,S,Q),U===null?V=ie:U.sibling=ie,U=ie);return ft&&Ui(_,Q),V}for(B=i(_,B);!ie.done;Q++,ie=I.next())ie=b(B,_,Q,ie.value,L),ie!==null&&(e&&ie.alternate!==null&&B.delete(ie.key===null?Q:ie.key),S=l(ie,S,Q),U===null?V=ie:U.sibling=ie,U=ie);return e&&B.forEach(function($){return t(_,$)}),ft&&Ui(_,Q),V}function D(_,S,I,L){if(typeof I=="object"&&I!==null&&I.type===Ts&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case nl:e:{for(var V=I.key,U=S;U!==null;){if(U.key===V){if(V=I.type,V===Ts){if(U.tag===7){n(_,U.sibling),S=a(U,I.props.children),S.return=_,_=S;break e}}else if(U.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===si&&$0(V)===U.type){n(_,U.sibling),S=a(U,I.props),S.ref=_o(_,U,I),S.return=_,_=S;break e}n(_,U);break}else t(_,U);U=U.sibling}I.type===Ts?(S=Ki(I.props.children,_.mode,L,I.key),S.return=_,_=S):(L=Bl(I.type,I.key,I.props,null,_.mode,L),L.ref=_o(_,S,I),L.return=_,_=L)}return d(_);case Ns:e:{for(U=I.key;S!==null;){if(S.key===U)if(S.tag===4&&S.stateNode.containerInfo===I.containerInfo&&S.stateNode.implementation===I.implementation){n(_,S.sibling),S=a(S,I.children||[]),S.return=_,_=S;break e}else{n(_,S);break}else t(_,S);S=S.sibling}S=Xu(I,_.mode,L),S.return=_,_=S}return d(_);case si:return U=I._init,D(_,S,U(I._payload),L)}if(Bo(I))return R(_,S,I,L);if(So(I))return M(_,S,I,L);hl(_,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,S!==null&&S.tag===6?(n(_,S.sibling),S=a(S,I),S.return=_,_=S):(n(_,S),S=Yu(I,_.mode,L),S.return=_,_=S),d(_)):n(_,S)}return D}var Js=Bp(!0),Fp=Bp(!1),ic=Oi(null),sc=null,Ps=null,oh=null;function ah(){oh=Ps=sc=null}function lh(e){var t=ic.current;lt(ic),e._currentValue=t}function Pf(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Ws(e,t){sc=e,oh=Ps=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(wn=!0),e.firstContext=null)}function Gn(e){var t=e._currentValue;if(oh!==e)if(e={context:e,memoizedValue:t,next:null},Ps===null){if(sc===null)throw Error(te(308));Ps=e,sc.dependencies={lanes:0,firstContext:e}}else Ps=Ps.next=e;return t}var Wi=null;function ch(e){Wi===null?Wi=[e]:Wi.push(e)}function jp(e,t,n,i){var a=t.interleaved;return a===null?(n.next=n,ch(t)):(n.next=a.next,a.next=n),t.interleaved=n,zr(e,i)}function zr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var oi=!1;function uh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Up(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function yi(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Ue&2){var a=i.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),i.pending=t,zr(e,n)}return a=i.interleaved,a===null?(t.next=t,ch(i)):(t.next=a.next,a.next=t),i.interleaved=t,zr(e,n)}function Ml(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Qd(e,n)}}function J0(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var a=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var d={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?a=l=d:l=l.next=d,n=n.next}while(n!==null);l===null?a=l=t:l=l.next=t}else a=l=t;n={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function oc(e,t,n,i){var a=e.updateQueue;oi=!1;var l=a.firstBaseUpdate,d=a.lastBaseUpdate,m=a.shared.pending;if(m!==null){a.shared.pending=null;var p=m,g=p.next;p.next=null,d===null?l=g:d.next=g,d=p;var y=e.alternate;y!==null&&(y=y.updateQueue,m=y.lastBaseUpdate,m!==d&&(m===null?y.firstBaseUpdate=g:m.next=g,y.lastBaseUpdate=p))}if(l!==null){var v=a.baseState;d=0,y=g=p=null,m=l;do{var C=m.lane,b=m.eventTime;if((i&C)===C){y!==null&&(y=y.next={eventTime:b,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var R=e,M=m;switch(C=t,b=n,M.tag){case 1:if(R=M.payload,typeof R=="function"){v=R.call(b,v,C);break e}v=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=M.payload,C=typeof R=="function"?R.call(b,v,C):R,C==null)break e;v=xt({},v,C);break e;case 2:oi=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,C=a.effects,C===null?a.effects=[m]:C.push(m))}else b={eventTime:b,lane:C,tag:m.tag,payload:m.payload,callback:m.callback,next:null},y===null?(g=y=b,p=v):y=y.next=b,d|=C;if(m=m.next,m===null){if(m=a.shared.pending,m===null)break;C=m,m=C.next,C.next=null,a.lastBaseUpdate=C,a.shared.pending=null}}while(!0);if(y===null&&(p=v),a.baseState=p,a.firstBaseUpdate=g,a.lastBaseUpdate=y,t=a.shared.interleaved,t!==null){a=t;do d|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);ts|=d,e.lanes=d,e.memoizedState=v}}function e1(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],a=i.callback;if(a!==null){if(i.callback=null,i=n,typeof a!="function")throw Error(te(191,a));a.call(i)}}}var La={},vr=Oi(La),pa=Oi(La),ma=Oi(La);function Gi(e){if(e===La)throw Error(te(174));return e}function fh(e,t){switch(nt(ma,t),nt(pa,e),nt(vr,La),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=mf(t,e)}lt(vr),nt(vr,t)}function eo(){lt(vr),lt(pa),lt(ma)}function zp(e){Gi(ma.current);var t=Gi(vr.current),n=mf(t,e.type);t!==n&&(nt(pa,e),nt(vr,n))}function dh(e){pa.current===e&&(lt(vr),lt(pa))}var gt=Oi(0);function ac(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uu=[];function hh(){for(var e=0;e<Uu.length;e++)Uu[e]._workInProgressVersionPrimary=null;Uu.length=0}var Rl=Wr.ReactCurrentDispatcher,zu=Wr.ReactCurrentBatchConfig,es=0,mt=null,Dt=null,jt=null,lc=!1,Ko=!1,xa=0,Cw=0;function Zt(){throw Error(te(321))}function gh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ph(e,t,n,i,a,l){if(es=l,mt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rl.current=e===null||e.memoizedState===null?bw:Iw,e=n(i,a),Ko){l=0;do{if(Ko=!1,xa=0,25<=l)throw Error(te(301));l+=1,jt=Dt=null,t.updateQueue=null,Rl.current=Nw,e=n(i,a)}while(Ko)}if(Rl.current=cc,t=Dt!==null&&Dt.next!==null,es=0,jt=Dt=mt=null,lc=!1,t)throw Error(te(300));return e}function mh(){var e=xa!==0;return xa=0,e}function gr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?mt.memoizedState=jt=e:jt=jt.next=e,jt}function Yn(){if(Dt===null){var e=mt.alternate;e=e!==null?e.memoizedState:null}else e=Dt.next;var t=jt===null?mt.memoizedState:jt.next;if(t!==null)jt=t,Dt=e;else{if(e===null)throw Error(te(310));Dt=e,e={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},jt===null?mt.memoizedState=jt=e:jt=jt.next=e}return jt}function ya(e,t){return typeof t=="function"?t(e):t}function Vu(e){var t=Yn(),n=t.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=e;var i=Dt,a=i.baseQueue,l=n.pending;if(l!==null){if(a!==null){var d=a.next;a.next=l.next,l.next=d}i.baseQueue=a=l,n.pending=null}if(a!==null){l=a.next,i=i.baseState;var m=d=null,p=null,g=l;do{var y=g.lane;if((es&y)===y)p!==null&&(p=p.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),i=g.hasEagerState?g.eagerState:e(i,g.action);else{var v={lane:y,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};p===null?(m=p=v,d=i):p=p.next=v,mt.lanes|=y,ts|=y}g=g.next}while(g!==null&&g!==l);p===null?d=i:p.next=m,sr(i,t.memoizedState)||(wn=!0),t.memoizedState=i,t.baseState=d,t.baseQueue=p,n.lastRenderedState=i}if(e=n.interleaved,e!==null){a=e;do l=a.lane,mt.lanes|=l,ts|=l,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Hu(e){var t=Yn(),n=t.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,l=t.memoizedState;if(a!==null){n.pending=null;var d=a=a.next;do l=e(l,d.action),d=d.next;while(d!==a);sr(l,t.memoizedState)||(wn=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,i]}function Vp(){}function Hp(e,t){var n=mt,i=Yn(),a=t(),l=!sr(i.memoizedState,a);if(l&&(i.memoizedState=a,wn=!0),i=i.queue,xh(Yp.bind(null,n,i,e),[e]),i.getSnapshot!==t||l||jt!==null&&jt.memoizedState.tag&1){if(n.flags|=2048,wa(9,Gp.bind(null,n,i,a,t),void 0,null),Ut===null)throw Error(te(349));es&30||Wp(n,t,a)}return a}function Wp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Gp(e,t,n,i){t.value=n,t.getSnapshot=i,Xp(t)&&Kp(e)}function Yp(e,t,n){return n(function(){Xp(t)&&Kp(e)})}function Xp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch{return!0}}function Kp(e){var t=zr(e,1);t!==null&&rr(t,e,1,-1)}function t1(e){var t=gr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:e},t.queue=e,e=e.dispatch=Sw.bind(null,mt,e),[t.memoizedState,e]}function wa(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function Qp(){return Yn().memoizedState}function Dl(e,t,n,i){var a=gr();mt.flags|=e,a.memoizedState=wa(1|t,n,void 0,i===void 0?null:i)}function Uc(e,t,n,i){var a=Yn();i=i===void 0?null:i;var l=void 0;if(Dt!==null){var d=Dt.memoizedState;if(l=d.destroy,i!==null&&gh(i,d.deps)){a.memoizedState=wa(t,n,l,i);return}}mt.flags|=e,a.memoizedState=wa(1|t,n,l,i)}function n1(e,t){return Dl(8390656,8,e,t)}function xh(e,t){return Uc(2048,8,e,t)}function Zp(e,t){return Uc(4,2,e,t)}function qp(e,t){return Uc(4,4,e,t)}function $p(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Jp(e,t,n){return n=n!=null?n.concat([e]):null,Uc(4,4,$p.bind(null,t,e),n)}function yh(){}function em(e,t){var n=Yn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&gh(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function tm(e,t){var n=Yn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&gh(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function nm(e,t,n){return es&21?(sr(n,t)||(n=ap(),mt.lanes|=n,ts|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,wn=!0),e.memoizedState=n)}function Ew(e,t){var n=Xe;Xe=n!==0&&4>n?n:4,e(!0);var i=zu.transition;zu.transition={};try{e(!1),t()}finally{Xe=n,zu.transition=i}}function rm(){return Yn().memoizedState}function Aw(e,t,n){var i=vi(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},im(e))sm(t,n);else if(n=jp(e,t,n,i),n!==null){var a=ln();rr(n,e,i,a),om(n,t,i)}}function Sw(e,t,n){var i=vi(e),a={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(im(e))sm(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var d=t.lastRenderedState,m=l(d,n);if(a.hasEagerState=!0,a.eagerState=m,sr(m,d)){var p=t.interleaved;p===null?(a.next=a,ch(t)):(a.next=p.next,p.next=a),t.interleaved=a;return}}catch{}finally{}n=jp(e,t,a,i),n!==null&&(a=ln(),rr(n,e,i,a),om(n,t,i))}}function im(e){var t=e.alternate;return e===mt||t!==null&&t===mt}function sm(e,t){Ko=lc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function om(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Qd(e,n)}}var cc={readContext:Gn,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},bw={readContext:Gn,useCallback:function(e,t){return gr().memoizedState=[e,t===void 0?null:t],e},useContext:Gn,useEffect:n1,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Dl(4194308,4,$p.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Dl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Dl(4,2,e,t)},useMemo:function(e,t){var n=gr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=gr();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Aw.bind(null,mt,e),[i.memoizedState,e]},useRef:function(e){var t=gr();return e={current:e},t.memoizedState=e},useState:t1,useDebugValue:yh,useDeferredValue:function(e){return gr().memoizedState=e},useTransition:function(){var e=t1(!1),t=e[0];return e=Ew.bind(null,e[1]),gr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=mt,a=gr();if(ft){if(n===void 0)throw Error(te(407));n=n()}else{if(n=t(),Ut===null)throw Error(te(349));es&30||Wp(i,t,n)}a.memoizedState=n;var l={value:n,getSnapshot:t};return a.queue=l,n1(Yp.bind(null,i,l,e),[e]),i.flags|=2048,wa(9,Gp.bind(null,i,l,n,t),void 0,null),n},useId:function(){var e=gr(),t=Ut.identifierPrefix;if(ft){var n=Dr,i=Rr;n=(i&~(1<<32-nr(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=xa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Cw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Iw={readContext:Gn,useCallback:em,useContext:Gn,useEffect:xh,useImperativeHandle:Jp,useInsertionEffect:Zp,useLayoutEffect:qp,useMemo:tm,useReducer:Vu,useRef:Qp,useState:function(){return Vu(ya)},useDebugValue:yh,useDeferredValue:function(e){var t=Yn();return nm(t,Dt.memoizedState,e)},useTransition:function(){var e=Vu(ya)[0],t=Yn().memoizedState;return[e,t]},useMutableSource:Vp,useSyncExternalStore:Hp,useId:rm,unstable_isNewReconciler:!1},Nw={readContext:Gn,useCallback:em,useContext:Gn,useEffect:xh,useImperativeHandle:Jp,useInsertionEffect:Zp,useLayoutEffect:qp,useMemo:tm,useReducer:Hu,useRef:Qp,useState:function(){return Hu(ya)},useDebugValue:yh,useDeferredValue:function(e){var t=Yn();return Dt===null?t.memoizedState=e:nm(t,Dt.memoizedState,e)},useTransition:function(){var e=Hu(ya)[0],t=Yn().memoizedState;return[e,t]},useMutableSource:Vp,useSyncExternalStore:Hp,useId:rm,unstable_isNewReconciler:!1};function qn(e,t){if(e&&e.defaultProps){t=xt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Bf(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:xt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var zc={isMounted:function(e){return(e=e._reactInternals)?as(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ln(),a=vi(e),l=Pr(i,a);l.payload=t,n!=null&&(l.callback=n),t=yi(e,l,a),t!==null&&(rr(t,e,a,i),Ml(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ln(),a=vi(e),l=Pr(i,a);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=yi(e,l,a),t!==null&&(rr(t,e,a,i),Ml(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ln(),i=vi(e),a=Pr(n,i);a.tag=2,t!=null&&(a.callback=t),t=yi(e,a,i),t!==null&&(rr(t,e,i,n),Ml(t,e,i))}};function r1(e,t,n,i,a,l,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,l,d):t.prototype&&t.prototype.isPureReactComponent?!fa(n,i)||!fa(a,l):!0}function am(e,t,n){var i=!1,a=Si,l=t.contextType;return typeof l=="object"&&l!==null?l=Gn(l):(a=Cn(t)?$i:tn.current,i=t.contextTypes,l=(i=i!=null)?qs(e,a):Si),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zc,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function i1(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&zc.enqueueReplaceState(t,t.state,null)}function Ff(e,t,n,i){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},uh(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=Gn(l):(l=Cn(t)?$i:tn.current,a.context=qs(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Bf(e,t,l,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&zc.enqueueReplaceState(a,a.state,null),oc(e,n,a,i),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function to(e,t){try{var n="",i=t;do n+=ty(i),i=i.return;while(i);var a=n}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function Wu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function jf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Tw=typeof WeakMap=="function"?WeakMap:Map;function lm(e,t,n){n=Pr(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){fc||(fc=!0,Qf=i),jf(e,t)},n}function cm(e,t,n){n=Pr(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var a=t.value;n.payload=function(){return i(a)},n.callback=function(){jf(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){jf(e,t),typeof i!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),n}function s1(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Tw;var a=new Set;i.set(t,a)}else a=i.get(t),a===void 0&&(a=new Set,i.set(t,a));a.has(n)||(a.add(n),e=Vw.bind(null,e,t,n),t.then(e,e))}function o1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function a1(e,t,n,i,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Pr(-1,1),t.tag=2,yi(n,t,1))),n.lanes|=1),e)}var _w=Wr.ReactCurrentOwner,wn=!1;function on(e,t,n,i){t.child=e===null?Fp(t,null,n,i):Js(t,e.child,n,i)}function l1(e,t,n,i,a){n=n.render;var l=t.ref;return Ws(t,a),i=ph(e,t,n,i,l,a),n=mh(),e!==null&&!wn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vr(e,t,a)):(ft&&n&&rh(t),t.flags|=1,on(e,t,i,a),t.child)}function c1(e,t,n,i,a){if(e===null){var l=n.type;return typeof l=="function"&&!Ih(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,um(e,t,l,i,a)):(e=Bl(n.type,null,i,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var d=l.memoizedProps;if(n=n.compare,n=n!==null?n:fa,n(d,i)&&e.ref===t.ref)return Vr(e,t,a)}return t.flags|=1,e=Ci(l,i),e.ref=t.ref,e.return=t,t.child=e}function um(e,t,n,i,a){if(e!==null){var l=e.memoizedProps;if(fa(l,i)&&e.ref===t.ref)if(wn=!1,t.pendingProps=i=l,(e.lanes&a)!==0)e.flags&131072&&(wn=!0);else return t.lanes=e.lanes,Vr(e,t,a)}return Uf(e,t,n,i,a)}function fm(e,t,n){var i=t.pendingProps,a=i.children,l=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(Fs,Nn),Nn|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,nt(Fs,Nn),Nn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=l!==null?l.baseLanes:n,nt(Fs,Nn),Nn|=i}else l!==null?(i=l.baseLanes|n,t.memoizedState=null):i=n,nt(Fs,Nn),Nn|=i;return on(e,t,a,n),t.child}function dm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Uf(e,t,n,i,a){var l=Cn(n)?$i:tn.current;return l=qs(t,l),Ws(t,a),n=ph(e,t,n,i,l,a),i=mh(),e!==null&&!wn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vr(e,t,a)):(ft&&i&&rh(t),t.flags|=1,on(e,t,n,a),t.child)}function u1(e,t,n,i,a){if(Cn(n)){var l=!0;tc(t)}else l=!1;if(Ws(t,a),t.stateNode===null)kl(e,t),am(t,n,i),Ff(t,n,i,a),i=!0;else if(e===null){var d=t.stateNode,m=t.memoizedProps;d.props=m;var p=d.context,g=n.contextType;typeof g=="object"&&g!==null?g=Gn(g):(g=Cn(n)?$i:tn.current,g=qs(t,g));var y=n.getDerivedStateFromProps,v=typeof y=="function"||typeof d.getSnapshotBeforeUpdate=="function";v||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==i||p!==g)&&i1(t,d,i,g),oi=!1;var C=t.memoizedState;d.state=C,oc(t,i,d,a),p=t.memoizedState,m!==i||C!==p||vn.current||oi?(typeof y=="function"&&(Bf(t,n,y,i),p=t.memoizedState),(m=oi||r1(t,n,m,i,C,p,g))?(v||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=p),d.props=i,d.state=p,d.context=g,i=m):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{d=t.stateNode,Up(e,t),m=t.memoizedProps,g=t.type===t.elementType?m:qn(t.type,m),d.props=g,v=t.pendingProps,C=d.context,p=n.contextType,typeof p=="object"&&p!==null?p=Gn(p):(p=Cn(n)?$i:tn.current,p=qs(t,p));var b=n.getDerivedStateFromProps;(y=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==v||C!==p)&&i1(t,d,i,p),oi=!1,C=t.memoizedState,d.state=C,oc(t,i,d,a);var R=t.memoizedState;m!==v||C!==R||vn.current||oi?(typeof b=="function"&&(Bf(t,n,b,i),R=t.memoizedState),(g=oi||r1(t,n,g,i,C,R,p)||!1)?(y||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(i,R,p),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(i,R,p)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=R),d.props=i,d.state=R,d.context=p,i=g):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),i=!1)}return zf(e,t,n,i,l,a)}function zf(e,t,n,i,a,l){dm(e,t);var d=(t.flags&128)!==0;if(!i&&!d)return a&&Q0(t,n,!1),Vr(e,t,l);i=t.stateNode,_w.current=t;var m=d&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&d?(t.child=Js(t,e.child,null,l),t.child=Js(t,null,m,l)):on(e,t,m,l),t.memoizedState=i.state,a&&Q0(t,n,!0),t.child}function hm(e){var t=e.stateNode;t.pendingContext?K0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&K0(e,t.context,!1),fh(e,t.containerInfo)}function f1(e,t,n,i,a){return $s(),sh(a),t.flags|=256,on(e,t,n,i),t.child}var Vf={dehydrated:null,treeContext:null,retryLane:0};function Hf(e){return{baseLanes:e,cachePool:null,transitions:null}}function gm(e,t,n){var i=t.pendingProps,a=gt.current,l=!1,d=(t.flags&128)!==0,m;if((m=d)||(m=e!==null&&e.memoizedState===null?!1:(a&2)!==0),m?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),nt(gt,a&1),e===null)return Lf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(d=i.children,e=i.fallback,l?(i=t.mode,l=t.child,d={mode:"hidden",children:d},!(i&1)&&l!==null?(l.childLanes=0,l.pendingProps=d):l=Wc(d,i,0,null),e=Ki(e,i,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Hf(n),t.memoizedState=Vf,e):wh(t,d));if(a=e.memoizedState,a!==null&&(m=a.dehydrated,m!==null))return Ow(e,t,d,i,m,a,n);if(l){l=i.fallback,d=t.mode,a=e.child,m=a.sibling;var p={mode:"hidden",children:i.children};return!(d&1)&&t.child!==a?(i=t.child,i.childLanes=0,i.pendingProps=p,t.deletions=null):(i=Ci(a,p),i.subtreeFlags=a.subtreeFlags&14680064),m!==null?l=Ci(m,l):(l=Ki(l,d,n,null),l.flags|=2),l.return=t,i.return=t,i.sibling=l,t.child=i,i=l,l=t.child,d=e.child.memoizedState,d=d===null?Hf(n):{baseLanes:d.baseLanes|n,cachePool:null,transitions:d.transitions},l.memoizedState=d,l.childLanes=e.childLanes&~n,t.memoizedState=Vf,i}return l=e.child,e=l.sibling,i=Ci(l,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function wh(e,t){return t=Wc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gl(e,t,n,i){return i!==null&&sh(i),Js(t,e.child,null,n),e=wh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ow(e,t,n,i,a,l,d){if(n)return t.flags&256?(t.flags&=-257,i=Wu(Error(te(422))),gl(e,t,d,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=i.fallback,a=t.mode,i=Wc({mode:"visible",children:i.children},a,0,null),l=Ki(l,a,d,null),l.flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,t.mode&1&&Js(t,e.child,null,d),t.child.memoizedState=Hf(d),t.memoizedState=Vf,l);if(!(t.mode&1))return gl(e,t,d,null);if(a.data==="$!"){if(i=a.nextSibling&&a.nextSibling.dataset,i)var m=i.dgst;return i=m,l=Error(te(419)),i=Wu(l,i,void 0),gl(e,t,d,i)}if(m=(d&e.childLanes)!==0,wn||m){if(i=Ut,i!==null){switch(d&-d){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(i.suspendedLanes|d)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,zr(e,a),rr(i,e,a,-1))}return bh(),i=Wu(Error(te(421))),gl(e,t,d,i)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Hw.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,_n=xi(a.nextSibling),On=t,ft=!0,er=null,e!==null&&(jn[Un++]=Rr,jn[Un++]=Dr,jn[Un++]=Ji,Rr=e.id,Dr=e.overflow,Ji=t),t=wh(t,i.children),t.flags|=4096,t)}function d1(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Pf(e.return,t,n)}function Gu(e,t,n,i,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=i,l.tail=n,l.tailMode=a)}function pm(e,t,n){var i=t.pendingProps,a=i.revealOrder,l=i.tail;if(on(e,t,i.children,n),i=gt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&d1(e,n,t);else if(e.tag===19)d1(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(nt(gt,i),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&ac(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Gu(t,!1,a,n,l);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ac(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Gu(t,!0,n,null,l);break;case"together":Gu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function kl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ts|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(te(153));if(t.child!==null){for(e=t.child,n=Ci(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ci(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Mw(e,t,n){switch(t.tag){case 3:hm(t),$s();break;case 5:zp(t);break;case 1:Cn(t.type)&&tc(t);break;case 4:fh(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,a=t.memoizedProps.value;nt(ic,i._currentValue),i._currentValue=a;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(nt(gt,gt.current&1),t.flags|=128,null):n&t.child.childLanes?gm(e,t,n):(nt(gt,gt.current&1),e=Vr(e,t,n),e!==null?e.sibling:null);nt(gt,gt.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return pm(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),nt(gt,gt.current),i)break;return null;case 22:case 23:return t.lanes=0,fm(e,t,n)}return Vr(e,t,n)}var mm,Wf,xm,ym;mm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wf=function(){};xm=function(e,t,n,i){var a=e.memoizedProps;if(a!==i){e=t.stateNode,Gi(vr.current);var l=null;switch(n){case"input":a=df(e,a),i=df(e,i),l=[];break;case"select":a=xt({},a,{value:void 0}),i=xt({},i,{value:void 0}),l=[];break;case"textarea":a=pf(e,a),i=pf(e,i),l=[];break;default:typeof a.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Jl)}xf(n,i);var d;n=null;for(g in a)if(!i.hasOwnProperty(g)&&a.hasOwnProperty(g)&&a[g]!=null)if(g==="style"){var m=a[g];for(d in m)m.hasOwnProperty(d)&&(n||(n={}),n[d]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(ia.hasOwnProperty(g)?l||(l=[]):(l=l||[]).push(g,null));for(g in i){var p=i[g];if(m=a!=null?a[g]:void 0,i.hasOwnProperty(g)&&p!==m&&(p!=null||m!=null))if(g==="style")if(m){for(d in m)!m.hasOwnProperty(d)||p&&p.hasOwnProperty(d)||(n||(n={}),n[d]="");for(d in p)p.hasOwnProperty(d)&&m[d]!==p[d]&&(n||(n={}),n[d]=p[d])}else n||(l||(l=[]),l.push(g,n)),n=p;else g==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,m=m?m.__html:void 0,p!=null&&m!==p&&(l=l||[]).push(g,p)):g==="children"?typeof p!="string"&&typeof p!="number"||(l=l||[]).push(g,""+p):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(ia.hasOwnProperty(g)?(p!=null&&g==="onScroll"&&st("scroll",e),l||m===p||(l=[])):(l=l||[]).push(g,p))}n&&(l=l||[]).push("style",n);var g=l;(t.updateQueue=g)&&(t.flags|=4)}};ym=function(e,t,n,i){n!==i&&(t.flags|=4)};function Oo(e,t){if(!ft)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function qt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags&14680064,i|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Rw(e,t,n){var i=t.pendingProps;switch(ih(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(t),null;case 1:return Cn(t.type)&&ec(),qt(t),null;case 3:return i=t.stateNode,eo(),lt(vn),lt(tn),hh(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(dl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,er!==null&&($f(er),er=null))),Wf(e,t),qt(t),null;case 5:dh(t);var a=Gi(ma.current);if(n=t.type,e!==null&&t.stateNode!=null)xm(e,t,n,i,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(te(166));return qt(t),null}if(e=Gi(vr.current),dl(t)){i=t.stateNode,n=t.type;var l=t.memoizedProps;switch(i[xr]=t,i[ga]=l,e=(t.mode&1)!==0,n){case"dialog":st("cancel",i),st("close",i);break;case"iframe":case"object":case"embed":st("load",i);break;case"video":case"audio":for(a=0;a<jo.length;a++)st(jo[a],i);break;case"source":st("error",i);break;case"img":case"image":case"link":st("error",i),st("load",i);break;case"details":st("toggle",i);break;case"input":C0(i,l),st("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!l.multiple},st("invalid",i);break;case"textarea":A0(i,l),st("invalid",i)}xf(n,l),a=null;for(var d in l)if(l.hasOwnProperty(d)){var m=l[d];d==="children"?typeof m=="string"?i.textContent!==m&&(l.suppressHydrationWarning!==!0&&fl(i.textContent,m,e),a=["children",m]):typeof m=="number"&&i.textContent!==""+m&&(l.suppressHydrationWarning!==!0&&fl(i.textContent,m,e),a=["children",""+m]):ia.hasOwnProperty(d)&&m!=null&&d==="onScroll"&&st("scroll",i)}switch(n){case"input":rl(i),E0(i,l,!0);break;case"textarea":rl(i),S0(i);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(i.onclick=Jl)}i=a,t.updateQueue=i,i!==null&&(t.flags|=4)}else{d=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=d.createElement(n,{is:i.is}):(e=d.createElement(n),n==="select"&&(d=e,i.multiple?d.multiple=!0:i.size&&(d.size=i.size))):e=d.createElementNS(e,n),e[xr]=t,e[ga]=i,mm(e,t,!1,!1),t.stateNode=e;e:{switch(d=yf(n,i),n){case"dialog":st("cancel",e),st("close",e),a=i;break;case"iframe":case"object":case"embed":st("load",e),a=i;break;case"video":case"audio":for(a=0;a<jo.length;a++)st(jo[a],e);a=i;break;case"source":st("error",e),a=i;break;case"img":case"image":case"link":st("error",e),st("load",e),a=i;break;case"details":st("toggle",e),a=i;break;case"input":C0(e,i),a=df(e,i),st("invalid",e);break;case"option":a=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},a=xt({},i,{value:void 0}),st("invalid",e);break;case"textarea":A0(e,i),a=pf(e,i),st("invalid",e);break;default:a=i}xf(n,a),m=a;for(l in m)if(m.hasOwnProperty(l)){var p=m[l];l==="style"?Qg(e,p):l==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&Xg(e,p)):l==="children"?typeof p=="string"?(n!=="textarea"||p!=="")&&sa(e,p):typeof p=="number"&&sa(e,""+p):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ia.hasOwnProperty(l)?p!=null&&l==="onScroll"&&st("scroll",e):p!=null&&Hd(e,l,p,d))}switch(n){case"input":rl(e),E0(e,i,!1);break;case"textarea":rl(e),S0(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Ai(i.value));break;case"select":e.multiple=!!i.multiple,l=i.value,l!=null?Us(e,!!i.multiple,l,!1):i.defaultValue!=null&&Us(e,!!i.multiple,i.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Jl)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qt(t),null;case 6:if(e&&t.stateNode!=null)ym(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(te(166));if(n=Gi(ma.current),Gi(vr.current),dl(t)){if(i=t.stateNode,n=t.memoizedProps,i[xr]=t,(l=i.nodeValue!==n)&&(e=On,e!==null))switch(e.tag){case 3:fl(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fl(i.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[xr]=t,t.stateNode=i}return qt(t),null;case 13:if(lt(gt),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ft&&_n!==null&&t.mode&1&&!(t.flags&128))Pp(),$s(),t.flags|=98560,l=!1;else if(l=dl(t),i!==null&&i.dehydrated!==null){if(e===null){if(!l)throw Error(te(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(te(317));l[xr]=t}else $s(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qt(t),l=!1}else er!==null&&($f(er),er=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||gt.current&1?kt===0&&(kt=3):bh())),t.updateQueue!==null&&(t.flags|=4),qt(t),null);case 4:return eo(),Wf(e,t),e===null&&da(t.stateNode.containerInfo),qt(t),null;case 10:return lh(t.type._context),qt(t),null;case 17:return Cn(t.type)&&ec(),qt(t),null;case 19:if(lt(gt),l=t.memoizedState,l===null)return qt(t),null;if(i=(t.flags&128)!==0,d=l.rendering,d===null)if(i)Oo(l,!1);else{if(kt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(d=ac(e),d!==null){for(t.flags|=128,Oo(l,!1),i=d.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)l=n,e=i,l.flags&=14680066,d=l.alternate,d===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=d.childLanes,l.lanes=d.lanes,l.child=d.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=d.memoizedProps,l.memoizedState=d.memoizedState,l.updateQueue=d.updateQueue,l.type=d.type,e=d.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return nt(gt,gt.current&1|2),t.child}e=e.sibling}l.tail!==null&&It()>no&&(t.flags|=128,i=!0,Oo(l,!1),t.lanes=4194304)}else{if(!i)if(e=ac(d),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Oo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ft)return qt(t),null}else 2*It()-l.renderingStartTime>no&&n!==1073741824&&(t.flags|=128,i=!0,Oo(l,!1),t.lanes=4194304);l.isBackwards?(d.sibling=t.child,t.child=d):(n=l.last,n!==null?n.sibling=d:t.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=It(),t.sibling=null,n=gt.current,nt(gt,i?n&1|2:n&1),t):(qt(t),null);case 22:case 23:return Sh(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Nn&1073741824&&(qt(t),t.subtreeFlags&6&&(t.flags|=8192)):qt(t),null;case 24:return null;case 25:return null}throw Error(te(156,t.tag))}function Dw(e,t){switch(ih(t),t.tag){case 1:return Cn(t.type)&&ec(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return eo(),lt(vn),lt(tn),hh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dh(t),null;case 13:if(lt(gt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(te(340));$s()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return lt(gt),null;case 4:return eo(),null;case 10:return lh(t.type._context),null;case 22:case 23:return Sh(),null;case 24:return null;default:return null}}var pl=!1,$t=!1,kw=typeof WeakSet=="function"?WeakSet:Set,de=null;function Bs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){At(e,t,i)}else n.current=null}function Gf(e,t,n){try{n()}catch(i){At(e,t,i)}}var h1=!1;function Lw(e,t){if(Tf=Zl,e=Ap(),nh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var a=i.anchorOffset,l=i.focusNode;i=i.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var d=0,m=-1,p=-1,g=0,y=0,v=e,C=null;t:for(;;){for(var b;v!==n||a!==0&&v.nodeType!==3||(m=d+a),v!==l||i!==0&&v.nodeType!==3||(p=d+i),v.nodeType===3&&(d+=v.nodeValue.length),(b=v.firstChild)!==null;)C=v,v=b;for(;;){if(v===e)break t;if(C===n&&++g===a&&(m=d),C===l&&++y===i&&(p=d),(b=v.nextSibling)!==null)break;v=C,C=v.parentNode}v=b}n=m===-1||p===-1?null:{start:m,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(_f={focusedElem:e,selectionRange:n},Zl=!1,de=t;de!==null;)if(t=de,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,de=e;else for(;de!==null;){t=de;try{var R=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var M=R.memoizedProps,D=R.memoizedState,_=t.stateNode,S=_.getSnapshotBeforeUpdate(t.elementType===t.type?M:qn(t.type,M),D);_.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var I=t.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(L){At(t,t.return,L)}if(e=t.sibling,e!==null){e.return=t.return,de=e;break}de=t.return}return R=h1,h1=!1,R}function Qo(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&Gf(t,n,l)}a=a.next}while(a!==i)}}function Vc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function Yf(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function wm(e){var t=e.alternate;t!==null&&(e.alternate=null,wm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xr],delete t[ga],delete t[Rf],delete t[xw],delete t[yw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vm(e){return e.tag===5||e.tag===3||e.tag===4}function g1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Jl));else if(i!==4&&(e=e.child,e!==null))for(Xf(e,t,n),e=e.sibling;e!==null;)Xf(e,t,n),e=e.sibling}function Kf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Kf(e,t,n),e=e.sibling;e!==null;)Kf(e,t,n),e=e.sibling}var Gt=null,$n=!1;function Jr(e,t,n){for(n=n.child;n!==null;)Cm(e,t,n),n=n.sibling}function Cm(e,t,n){if(wr&&typeof wr.onCommitFiberUnmount=="function")try{wr.onCommitFiberUnmount(kc,n)}catch{}switch(n.tag){case 5:$t||Bs(n,t);case 6:var i=Gt,a=$n;Gt=null,Jr(e,t,n),Gt=i,$n=a,Gt!==null&&($n?(e=Gt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Gt.removeChild(n.stateNode));break;case 18:Gt!==null&&($n?(e=Gt,n=n.stateNode,e.nodeType===8?Fu(e.parentNode,n):e.nodeType===1&&Fu(e,n),ca(e)):Fu(Gt,n.stateNode));break;case 4:i=Gt,a=$n,Gt=n.stateNode.containerInfo,$n=!0,Jr(e,t,n),Gt=i,$n=a;break;case 0:case 11:case 14:case 15:if(!$t&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){a=i=i.next;do{var l=a,d=l.destroy;l=l.tag,d!==void 0&&(l&2||l&4)&&Gf(n,t,d),a=a.next}while(a!==i)}Jr(e,t,n);break;case 1:if(!$t&&(Bs(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(m){At(n,t,m)}Jr(e,t,n);break;case 21:Jr(e,t,n);break;case 22:n.mode&1?($t=(i=$t)||n.memoizedState!==null,Jr(e,t,n),$t=i):Jr(e,t,n);break;default:Jr(e,t,n)}}function p1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new kw),t.forEach(function(i){var a=Ww.bind(null,e,i);n.has(i)||(n.add(i),i.then(a,a))})}}function Zn(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var a=n[i];try{var l=e,d=t,m=d;e:for(;m!==null;){switch(m.tag){case 5:Gt=m.stateNode,$n=!1;break e;case 3:Gt=m.stateNode.containerInfo,$n=!0;break e;case 4:Gt=m.stateNode.containerInfo,$n=!0;break e}m=m.return}if(Gt===null)throw Error(te(160));Cm(l,d,a),Gt=null,$n=!1;var p=a.alternate;p!==null&&(p.return=null),a.return=null}catch(g){At(a,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Em(t,e),t=t.sibling}function Em(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zn(t,e),hr(e),i&4){try{Qo(3,e,e.return),Vc(3,e)}catch(M){At(e,e.return,M)}try{Qo(5,e,e.return)}catch(M){At(e,e.return,M)}}break;case 1:Zn(t,e),hr(e),i&512&&n!==null&&Bs(n,n.return);break;case 5:if(Zn(t,e),hr(e),i&512&&n!==null&&Bs(n,n.return),e.flags&32){var a=e.stateNode;try{sa(a,"")}catch(M){At(e,e.return,M)}}if(i&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,d=n!==null?n.memoizedProps:l,m=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{m==="input"&&l.type==="radio"&&l.name!=null&&Wg(a,l),yf(m,d);var g=yf(m,l);for(d=0;d<p.length;d+=2){var y=p[d],v=p[d+1];y==="style"?Qg(a,v):y==="dangerouslySetInnerHTML"?Xg(a,v):y==="children"?sa(a,v):Hd(a,y,v,g)}switch(m){case"input":hf(a,l);break;case"textarea":Gg(a,l);break;case"select":var C=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var b=l.value;b!=null?Us(a,!!l.multiple,b,!1):C!==!!l.multiple&&(l.defaultValue!=null?Us(a,!!l.multiple,l.defaultValue,!0):Us(a,!!l.multiple,l.multiple?[]:"",!1))}a[ga]=l}catch(M){At(e,e.return,M)}}break;case 6:if(Zn(t,e),hr(e),i&4){if(e.stateNode===null)throw Error(te(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(M){At(e,e.return,M)}}break;case 3:if(Zn(t,e),hr(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ca(t.containerInfo)}catch(M){At(e,e.return,M)}break;case 4:Zn(t,e),hr(e);break;case 13:Zn(t,e),hr(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(Eh=It())),i&4&&p1(e);break;case 22:if(y=n!==null&&n.memoizedState!==null,e.mode&1?($t=(g=$t)||y,Zn(t,e),$t=g):Zn(t,e),hr(e),i&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!y&&e.mode&1)for(de=e,y=e.child;y!==null;){for(v=de=y;de!==null;){switch(C=de,b=C.child,C.tag){case 0:case 11:case 14:case 15:Qo(4,C,C.return);break;case 1:Bs(C,C.return);var R=C.stateNode;if(typeof R.componentWillUnmount=="function"){i=C,n=C.return;try{t=i,R.props=t.memoizedProps,R.state=t.memoizedState,R.componentWillUnmount()}catch(M){At(i,n,M)}}break;case 5:Bs(C,C.return);break;case 22:if(C.memoizedState!==null){x1(v);continue}}b!==null?(b.return=C,de=b):x1(v)}y=y.sibling}e:for(y=null,v=e;;){if(v.tag===5){if(y===null){y=v;try{a=v.stateNode,g?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(m=v.stateNode,p=v.memoizedProps.style,d=p!=null&&p.hasOwnProperty("display")?p.display:null,m.style.display=Kg("display",d))}catch(M){At(e,e.return,M)}}}else if(v.tag===6){if(y===null)try{v.stateNode.nodeValue=g?"":v.memoizedProps}catch(M){At(e,e.return,M)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;y===v&&(y=null),v=v.return}y===v&&(y=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Zn(t,e),hr(e),i&4&&p1(e);break;case 21:break;default:Zn(t,e),hr(e)}}function hr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(vm(n)){var i=n;break e}n=n.return}throw Error(te(160))}switch(i.tag){case 5:var a=i.stateNode;i.flags&32&&(sa(a,""),i.flags&=-33);var l=g1(e);Kf(e,l,a);break;case 3:case 4:var d=i.stateNode.containerInfo,m=g1(e);Xf(e,m,d);break;default:throw Error(te(161))}}catch(p){At(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Pw(e,t,n){de=e,Am(e)}function Am(e,t,n){for(var i=(e.mode&1)!==0;de!==null;){var a=de,l=a.child;if(a.tag===22&&i){var d=a.memoizedState!==null||pl;if(!d){var m=a.alternate,p=m!==null&&m.memoizedState!==null||$t;m=pl;var g=$t;if(pl=d,($t=p)&&!g)for(de=a;de!==null;)d=de,p=d.child,d.tag===22&&d.memoizedState!==null?y1(a):p!==null?(p.return=d,de=p):y1(a);for(;l!==null;)de=l,Am(l),l=l.sibling;de=a,pl=m,$t=g}m1(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,de=l):m1(e)}}function m1(e){for(;de!==null;){var t=de;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$t||Vc(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!$t)if(n===null)i.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:qn(t.type,n.memoizedProps);i.componentDidUpdate(a,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&e1(t,l,i);break;case 3:var d=t.updateQueue;if(d!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}e1(t,d,n)}break;case 5:var m=t.stateNode;if(n===null&&t.flags&4){n=m;var p=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&n.focus();break;case"img":p.src&&(n.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var y=g.memoizedState;if(y!==null){var v=y.dehydrated;v!==null&&ca(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}$t||t.flags&512&&Yf(t)}catch(C){At(t,t.return,C)}}if(t===e){de=null;break}if(n=t.sibling,n!==null){n.return=t.return,de=n;break}de=t.return}}function x1(e){for(;de!==null;){var t=de;if(t===e){de=null;break}var n=t.sibling;if(n!==null){n.return=t.return,de=n;break}de=t.return}}function y1(e){for(;de!==null;){var t=de;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Vc(4,t)}catch(p){At(t,n,p)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var a=t.return;try{i.componentDidMount()}catch(p){At(t,a,p)}}var l=t.return;try{Yf(t)}catch(p){At(t,l,p)}break;case 5:var d=t.return;try{Yf(t)}catch(p){At(t,d,p)}}}catch(p){At(t,t.return,p)}if(t===e){de=null;break}var m=t.sibling;if(m!==null){m.return=t.return,de=m;break}de=t.return}}var Bw=Math.ceil,uc=Wr.ReactCurrentDispatcher,vh=Wr.ReactCurrentOwner,Hn=Wr.ReactCurrentBatchConfig,Ue=0,Ut=null,Tt=null,Yt=0,Nn=0,Fs=Oi(0),kt=0,va=null,ts=0,Hc=0,Ch=0,Zo=null,yn=null,Eh=0,no=1/0,Ir=null,fc=!1,Qf=null,wi=null,ml=!1,di=null,dc=0,qo=0,Zf=null,Ll=-1,Pl=0;function ln(){return Ue&6?It():Ll!==-1?Ll:Ll=It()}function vi(e){return e.mode&1?Ue&2&&Yt!==0?Yt&-Yt:vw.transition!==null?(Pl===0&&(Pl=ap()),Pl):(e=Xe,e!==0||(e=window.event,e=e===void 0?16:gp(e.type)),e):1}function rr(e,t,n,i){if(50<qo)throw qo=0,Zf=null,Error(te(185));Ra(e,n,i),(!(Ue&2)||e!==Ut)&&(e===Ut&&(!(Ue&2)&&(Hc|=n),kt===4&&ci(e,Yt)),En(e,i),n===1&&Ue===0&&!(t.mode&1)&&(no=It()+500,jc&&Mi()))}function En(e,t){var n=e.callbackNode;vy(e,t);var i=Ql(e,e===Ut?Yt:0);if(i===0)n!==null&&N0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&N0(n),t===1)e.tag===0?ww(w1.bind(null,e)):Dp(w1.bind(null,e)),pw(function(){!(Ue&6)&&Mi()}),n=null;else{switch(lp(i)){case 1:n=Kd;break;case 4:n=sp;break;case 16:n=Kl;break;case 536870912:n=op;break;default:n=Kl}n=Mm(n,Sm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Sm(e,t){if(Ll=-1,Pl=0,Ue&6)throw Error(te(327));var n=e.callbackNode;if(Gs()&&e.callbackNode!==n)return null;var i=Ql(e,e===Ut?Yt:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=hc(e,i);else{t=i;var a=Ue;Ue|=2;var l=Im();(Ut!==e||Yt!==t)&&(Ir=null,no=It()+500,Xi(e,t));do try{Uw();break}catch(m){bm(e,m)}while(!0);ah(),uc.current=l,Ue=a,Tt!==null?t=0:(Ut=null,Yt=0,t=kt)}if(t!==0){if(t===2&&(a=Af(e),a!==0&&(i=a,t=qf(e,a))),t===1)throw n=va,Xi(e,0),ci(e,i),En(e,It()),n;if(t===6)ci(e,i);else{if(a=e.current.alternate,!(i&30)&&!Fw(a)&&(t=hc(e,i),t===2&&(l=Af(e),l!==0&&(i=l,t=qf(e,l))),t===1))throw n=va,Xi(e,0),ci(e,i),En(e,It()),n;switch(e.finishedWork=a,e.finishedLanes=i,t){case 0:case 1:throw Error(te(345));case 2:zi(e,yn,Ir);break;case 3:if(ci(e,i),(i&130023424)===i&&(t=Eh+500-It(),10<t)){if(Ql(e,0)!==0)break;if(a=e.suspendedLanes,(a&i)!==i){ln(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Mf(zi.bind(null,e,yn,Ir),t);break}zi(e,yn,Ir);break;case 4:if(ci(e,i),(i&4194240)===i)break;for(t=e.eventTimes,a=-1;0<i;){var d=31-nr(i);l=1<<d,d=t[d],d>a&&(a=d),i&=~l}if(i=a,i=It()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Bw(i/1960))-i,10<i){e.timeoutHandle=Mf(zi.bind(null,e,yn,Ir),i);break}zi(e,yn,Ir);break;case 5:zi(e,yn,Ir);break;default:throw Error(te(329))}}}return En(e,It()),e.callbackNode===n?Sm.bind(null,e):null}function qf(e,t){var n=Zo;return e.current.memoizedState.isDehydrated&&(Xi(e,t).flags|=256),e=hc(e,t),e!==2&&(t=yn,yn=n,t!==null&&$f(t)),e}function $f(e){yn===null?yn=e:yn.push.apply(yn,e)}function Fw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var a=n[i],l=a.getSnapshot;a=a.value;try{if(!sr(l(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ci(e,t){for(t&=~Ch,t&=~Hc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-nr(t),i=1<<n;e[n]=-1,t&=~i}}function w1(e){if(Ue&6)throw Error(te(327));Gs();var t=Ql(e,0);if(!(t&1))return En(e,It()),null;var n=hc(e,t);if(e.tag!==0&&n===2){var i=Af(e);i!==0&&(t=i,n=qf(e,i))}if(n===1)throw n=va,Xi(e,0),ci(e,t),En(e,It()),n;if(n===6)throw Error(te(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,zi(e,yn,Ir),En(e,It()),null}function Ah(e,t){var n=Ue;Ue|=1;try{return e(t)}finally{Ue=n,Ue===0&&(no=It()+500,jc&&Mi())}}function ns(e){di!==null&&di.tag===0&&!(Ue&6)&&Gs();var t=Ue;Ue|=1;var n=Hn.transition,i=Xe;try{if(Hn.transition=null,Xe=1,e)return e()}finally{Xe=i,Hn.transition=n,Ue=t,!(Ue&6)&&Mi()}}function Sh(){Nn=Fs.current,lt(Fs)}function Xi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,gw(n)),Tt!==null)for(n=Tt.return;n!==null;){var i=n;switch(ih(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&ec();break;case 3:eo(),lt(vn),lt(tn),hh();break;case 5:dh(i);break;case 4:eo();break;case 13:lt(gt);break;case 19:lt(gt);break;case 10:lh(i.type._context);break;case 22:case 23:Sh()}n=n.return}if(Ut=e,Tt=e=Ci(e.current,null),Yt=Nn=t,kt=0,va=null,Ch=Hc=ts=0,yn=Zo=null,Wi!==null){for(t=0;t<Wi.length;t++)if(n=Wi[t],i=n.interleaved,i!==null){n.interleaved=null;var a=i.next,l=n.pending;if(l!==null){var d=l.next;l.next=a,i.next=d}n.pending=i}Wi=null}return e}function bm(e,t){do{var n=Tt;try{if(ah(),Rl.current=cc,lc){for(var i=mt.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}lc=!1}if(es=0,jt=Dt=mt=null,Ko=!1,xa=0,vh.current=null,n===null||n.return===null){kt=1,va=t,Tt=null;break}e:{var l=e,d=n.return,m=n,p=t;if(t=Yt,m.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var g=p,y=m,v=y.tag;if(!(y.mode&1)&&(v===0||v===11||v===15)){var C=y.alternate;C?(y.updateQueue=C.updateQueue,y.memoizedState=C.memoizedState,y.lanes=C.lanes):(y.updateQueue=null,y.memoizedState=null)}var b=o1(d);if(b!==null){b.flags&=-257,a1(b,d,m,l,t),b.mode&1&&s1(l,g,t),t=b,p=g;var R=t.updateQueue;if(R===null){var M=new Set;M.add(p),t.updateQueue=M}else R.add(p);break e}else{if(!(t&1)){s1(l,g,t),bh();break e}p=Error(te(426))}}else if(ft&&m.mode&1){var D=o1(d);if(D!==null){!(D.flags&65536)&&(D.flags|=256),a1(D,d,m,l,t),sh(to(p,m));break e}}l=p=to(p,m),kt!==4&&(kt=2),Zo===null?Zo=[l]:Zo.push(l),l=d;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var _=lm(l,p,t);J0(l,_);break e;case 1:m=p;var S=l.type,I=l.stateNode;if(!(l.flags&128)&&(typeof S.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(wi===null||!wi.has(I)))){l.flags|=65536,t&=-t,l.lanes|=t;var L=cm(l,m,t);J0(l,L);break e}}l=l.return}while(l!==null)}Tm(n)}catch(V){t=V,Tt===n&&n!==null&&(Tt=n=n.return);continue}break}while(!0)}function Im(){var e=uc.current;return uc.current=cc,e===null?cc:e}function bh(){(kt===0||kt===3||kt===2)&&(kt=4),Ut===null||!(ts&268435455)&&!(Hc&268435455)||ci(Ut,Yt)}function hc(e,t){var n=Ue;Ue|=2;var i=Im();(Ut!==e||Yt!==t)&&(Ir=null,Xi(e,t));do try{jw();break}catch(a){bm(e,a)}while(!0);if(ah(),Ue=n,uc.current=i,Tt!==null)throw Error(te(261));return Ut=null,Yt=0,kt}function jw(){for(;Tt!==null;)Nm(Tt)}function Uw(){for(;Tt!==null&&!fy();)Nm(Tt)}function Nm(e){var t=Om(e.alternate,e,Nn);e.memoizedProps=e.pendingProps,t===null?Tm(e):Tt=t,vh.current=null}function Tm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Dw(n,t),n!==null){n.flags&=32767,Tt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{kt=6,Tt=null;return}}else if(n=Rw(n,t,Nn),n!==null){Tt=n;return}if(t=t.sibling,t!==null){Tt=t;return}Tt=t=e}while(t!==null);kt===0&&(kt=5)}function zi(e,t,n){var i=Xe,a=Hn.transition;try{Hn.transition=null,Xe=1,zw(e,t,n,i)}finally{Hn.transition=a,Xe=i}return null}function zw(e,t,n,i){do Gs();while(di!==null);if(Ue&6)throw Error(te(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(te(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Cy(e,l),e===Ut&&(Tt=Ut=null,Yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ml||(ml=!0,Mm(Kl,function(){return Gs(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Hn.transition,Hn.transition=null;var d=Xe;Xe=1;var m=Ue;Ue|=4,vh.current=null,Lw(e,n),Em(n,e),aw(_f),Zl=!!Tf,_f=Tf=null,e.current=n,Pw(n),dy(),Ue=m,Xe=d,Hn.transition=l}else e.current=n;if(ml&&(ml=!1,di=e,dc=a),l=e.pendingLanes,l===0&&(wi=null),py(n.stateNode),En(e,It()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],i(a.value,{componentStack:a.stack,digest:a.digest});if(fc)throw fc=!1,e=Qf,Qf=null,e;return dc&1&&e.tag!==0&&Gs(),l=e.pendingLanes,l&1?e===Zf?qo++:(qo=0,Zf=e):qo=0,Mi(),null}function Gs(){if(di!==null){var e=lp(dc),t=Hn.transition,n=Xe;try{if(Hn.transition=null,Xe=16>e?16:e,di===null)var i=!1;else{if(e=di,di=null,dc=0,Ue&6)throw Error(te(331));var a=Ue;for(Ue|=4,de=e.current;de!==null;){var l=de,d=l.child;if(de.flags&16){var m=l.deletions;if(m!==null){for(var p=0;p<m.length;p++){var g=m[p];for(de=g;de!==null;){var y=de;switch(y.tag){case 0:case 11:case 15:Qo(8,y,l)}var v=y.child;if(v!==null)v.return=y,de=v;else for(;de!==null;){y=de;var C=y.sibling,b=y.return;if(wm(y),y===g){de=null;break}if(C!==null){C.return=b,de=C;break}de=b}}}var R=l.alternate;if(R!==null){var M=R.child;if(M!==null){R.child=null;do{var D=M.sibling;M.sibling=null,M=D}while(M!==null)}}de=l}}if(l.subtreeFlags&2064&&d!==null)d.return=l,de=d;else e:for(;de!==null;){if(l=de,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Qo(9,l,l.return)}var _=l.sibling;if(_!==null){_.return=l.return,de=_;break e}de=l.return}}var S=e.current;for(de=S;de!==null;){d=de;var I=d.child;if(d.subtreeFlags&2064&&I!==null)I.return=d,de=I;else e:for(d=S;de!==null;){if(m=de,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:Vc(9,m)}}catch(V){At(m,m.return,V)}if(m===d){de=null;break e}var L=m.sibling;if(L!==null){L.return=m.return,de=L;break e}de=m.return}}if(Ue=a,Mi(),wr&&typeof wr.onPostCommitFiberRoot=="function")try{wr.onPostCommitFiberRoot(kc,e)}catch{}i=!0}return i}finally{Xe=n,Hn.transition=t}}return!1}function v1(e,t,n){t=to(n,t),t=lm(e,t,1),e=yi(e,t,1),t=ln(),e!==null&&(Ra(e,1,t),En(e,t))}function At(e,t,n){if(e.tag===3)v1(e,e,n);else for(;t!==null;){if(t.tag===3){v1(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(wi===null||!wi.has(i))){e=to(n,e),e=cm(t,e,1),t=yi(t,e,1),e=ln(),t!==null&&(Ra(t,1,e),En(t,e));break}}t=t.return}}function Vw(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=ln(),e.pingedLanes|=e.suspendedLanes&n,Ut===e&&(Yt&n)===n&&(kt===4||kt===3&&(Yt&130023424)===Yt&&500>It()-Eh?Xi(e,0):Ch|=n),En(e,t)}function _m(e,t){t===0&&(e.mode&1?(t=ol,ol<<=1,!(ol&130023424)&&(ol=4194304)):t=1);var n=ln();e=zr(e,t),e!==null&&(Ra(e,t,n),En(e,n))}function Hw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),_m(e,n)}function Ww(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(te(314))}i!==null&&i.delete(t),_m(e,n)}var Om;Om=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||vn.current)wn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return wn=!1,Mw(e,t,n);wn=!!(e.flags&131072)}else wn=!1,ft&&t.flags&1048576&&kp(t,rc,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;kl(e,t),e=t.pendingProps;var a=qs(t,tn.current);Ws(t,n),a=ph(null,t,i,e,a,n);var l=mh();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Cn(i)?(l=!0,tc(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,uh(t),a.updater=zc,t.stateNode=a,a._reactInternals=t,Ff(t,i,e,n),t=zf(null,t,i,!0,l,n)):(t.tag=0,ft&&l&&rh(t),on(null,t,a,n),t=t.child),t;case 16:i=t.elementType;e:{switch(kl(e,t),e=t.pendingProps,a=i._init,i=a(i._payload),t.type=i,a=t.tag=Yw(i),e=qn(i,e),a){case 0:t=Uf(null,t,i,e,n);break e;case 1:t=u1(null,t,i,e,n);break e;case 11:t=l1(null,t,i,e,n);break e;case 14:t=c1(null,t,i,qn(i.type,e),n);break e}throw Error(te(306,i,""))}return t;case 0:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:qn(i,a),Uf(e,t,i,a,n);case 1:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:qn(i,a),u1(e,t,i,a,n);case 3:e:{if(hm(t),e===null)throw Error(te(387));i=t.pendingProps,l=t.memoizedState,a=l.element,Up(e,t),oc(t,i,null,n);var d=t.memoizedState;if(i=d.element,l.isDehydrated)if(l={element:i,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=to(Error(te(423)),t),t=f1(e,t,i,n,a);break e}else if(i!==a){a=to(Error(te(424)),t),t=f1(e,t,i,n,a);break e}else for(_n=xi(t.stateNode.containerInfo.firstChild),On=t,ft=!0,er=null,n=Fp(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($s(),i===a){t=Vr(e,t,n);break e}on(e,t,i,n)}t=t.child}return t;case 5:return zp(t),e===null&&Lf(t),i=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,d=a.children,Of(i,a)?d=null:l!==null&&Of(i,l)&&(t.flags|=32),dm(e,t),on(e,t,d,n),t.child;case 6:return e===null&&Lf(t),null;case 13:return gm(e,t,n);case 4:return fh(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Js(t,null,i,n):on(e,t,i,n),t.child;case 11:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:qn(i,a),l1(e,t,i,a,n);case 7:return on(e,t,t.pendingProps,n),t.child;case 8:return on(e,t,t.pendingProps.children,n),t.child;case 12:return on(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,a=t.pendingProps,l=t.memoizedProps,d=a.value,nt(ic,i._currentValue),i._currentValue=d,l!==null)if(sr(l.value,d)){if(l.children===a.children&&!vn.current){t=Vr(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var m=l.dependencies;if(m!==null){d=l.child;for(var p=m.firstContext;p!==null;){if(p.context===i){if(l.tag===1){p=Pr(-1,n&-n),p.tag=2;var g=l.updateQueue;if(g!==null){g=g.shared;var y=g.pending;y===null?p.next=p:(p.next=y.next,y.next=p),g.pending=p}}l.lanes|=n,p=l.alternate,p!==null&&(p.lanes|=n),Pf(l.return,n,t),m.lanes|=n;break}p=p.next}}else if(l.tag===10)d=l.type===t.type?null:l.child;else if(l.tag===18){if(d=l.return,d===null)throw Error(te(341));d.lanes|=n,m=d.alternate,m!==null&&(m.lanes|=n),Pf(d,n,t),d=l.sibling}else d=l.child;if(d!==null)d.return=l;else for(d=l;d!==null;){if(d===t){d=null;break}if(l=d.sibling,l!==null){l.return=d.return,d=l;break}d=d.return}l=d}on(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,i=t.pendingProps.children,Ws(t,n),a=Gn(a),i=i(a),t.flags|=1,on(e,t,i,n),t.child;case 14:return i=t.type,a=qn(i,t.pendingProps),a=qn(i.type,a),c1(e,t,i,a,n);case 15:return um(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:qn(i,a),kl(e,t),t.tag=1,Cn(i)?(e=!0,tc(t)):e=!1,Ws(t,n),am(t,i,a),Ff(t,i,a,n),zf(null,t,i,!0,e,n);case 19:return pm(e,t,n);case 22:return fm(e,t,n)}throw Error(te(156,t.tag))};function Mm(e,t){return ip(e,t)}function Gw(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(e,t,n,i){return new Gw(e,t,n,i)}function Ih(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yw(e){if(typeof e=="function")return Ih(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Gd)return 11;if(e===Yd)return 14}return 2}function Ci(e,t){var n=e.alternate;return n===null?(n=Vn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Bl(e,t,n,i,a,l){var d=2;if(i=e,typeof e=="function")Ih(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case Ts:return Ki(n.children,a,l,t);case Wd:d=8,a|=8;break;case lf:return e=Vn(12,n,t,a|2),e.elementType=lf,e.lanes=l,e;case cf:return e=Vn(13,n,t,a),e.elementType=cf,e.lanes=l,e;case uf:return e=Vn(19,n,t,a),e.elementType=uf,e.lanes=l,e;case zg:return Wc(n,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jg:d=10;break e;case Ug:d=9;break e;case Gd:d=11;break e;case Yd:d=14;break e;case si:d=16,i=null;break e}throw Error(te(130,e==null?e:typeof e,""))}return t=Vn(d,n,t,a),t.elementType=e,t.type=i,t.lanes=l,t}function Ki(e,t,n,i){return e=Vn(7,e,i,t),e.lanes=n,e}function Wc(e,t,n,i){return e=Vn(22,e,i,t),e.elementType=zg,e.lanes=n,e.stateNode={isHidden:!1},e}function Yu(e,t,n){return e=Vn(6,e,null,t),e.lanes=n,e}function Xu(e,t,n){return t=Vn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xw(e,t,n,i,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nu(0),this.expirationTimes=Nu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nu(0),this.identifierPrefix=i,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Nh(e,t,n,i,a,l,d,m,p){return e=new Xw(e,t,n,m,p),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Vn(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},uh(l),e}function Kw(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ns,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function Rm(e){if(!e)return Si;e=e._reactInternals;e:{if(as(e)!==e||e.tag!==1)throw Error(te(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Cn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(te(171))}if(e.tag===1){var n=e.type;if(Cn(n))return Rp(e,n,t)}return t}function Dm(e,t,n,i,a,l,d,m,p){return e=Nh(n,i,!0,e,a,l,d,m,p),e.context=Rm(null),n=e.current,i=ln(),a=vi(n),l=Pr(i,a),l.callback=t??null,yi(n,l,a),e.current.lanes=a,Ra(e,a,i),En(e,i),e}function Gc(e,t,n,i){var a=t.current,l=ln(),d=vi(a);return n=Rm(n),t.context===null?t.context=n:t.pendingContext=n,t=Pr(l,d),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=yi(a,t,d),e!==null&&(rr(e,a,d,l),Ml(e,a,d)),d}function gc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function C1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Th(e,t){C1(e,t),(e=e.alternate)&&C1(e,t)}function Qw(){return null}var km=typeof reportError=="function"?reportError:function(e){console.error(e)};function _h(e){this._internalRoot=e}Yc.prototype.render=_h.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(te(409));Gc(e,t,null,null)};Yc.prototype.unmount=_h.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ns(function(){Gc(null,e,null,null)}),t[Ur]=null}};function Yc(e){this._internalRoot=e}Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=fp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<li.length&&t!==0&&t<li[n].priority;n++);li.splice(n,0,e),n===0&&hp(e)}};function Oh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function E1(){}function Zw(e,t,n,i,a){if(a){if(typeof i=="function"){var l=i;i=function(){var g=gc(d);l.call(g)}}var d=Dm(t,i,e,0,null,!1,!1,"",E1);return e._reactRootContainer=d,e[Ur]=d.current,da(e.nodeType===8?e.parentNode:e),ns(),d}for(;a=e.lastChild;)e.removeChild(a);if(typeof i=="function"){var m=i;i=function(){var g=gc(p);m.call(g)}}var p=Nh(e,0,!1,null,null,!1,!1,"",E1);return e._reactRootContainer=p,e[Ur]=p.current,da(e.nodeType===8?e.parentNode:e),ns(function(){Gc(t,p,n,i)}),p}function Kc(e,t,n,i,a){var l=n._reactRootContainer;if(l){var d=l;if(typeof a=="function"){var m=a;a=function(){var p=gc(d);m.call(p)}}Gc(t,d,e,a)}else d=Zw(n,t,e,a,i);return gc(d)}cp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Fo(t.pendingLanes);n!==0&&(Qd(t,n|1),En(t,It()),!(Ue&6)&&(no=It()+500,Mi()))}break;case 13:ns(function(){var i=zr(e,1);if(i!==null){var a=ln();rr(i,e,1,a)}}),Th(e,1)}};Zd=function(e){if(e.tag===13){var t=zr(e,134217728);if(t!==null){var n=ln();rr(t,e,134217728,n)}Th(e,134217728)}};up=function(e){if(e.tag===13){var t=vi(e),n=zr(e,t);if(n!==null){var i=ln();rr(n,e,t,i)}Th(e,t)}};fp=function(){return Xe};dp=function(e,t){var n=Xe;try{return Xe=e,t()}finally{Xe=n}};vf=function(e,t,n){switch(t){case"input":if(hf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=Fc(i);if(!a)throw Error(te(90));Hg(i),hf(i,a)}}}break;case"textarea":Gg(e,n);break;case"select":t=n.value,t!=null&&Us(e,!!n.multiple,t,!1)}};$g=Ah;Jg=ns;var qw={usingClientEntryPoint:!1,Events:[ka,Rs,Fc,Zg,qg,Ah]},Mo={findFiberByHostInstance:Hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$w={bundleType:Mo.bundleType,version:Mo.version,rendererPackageName:Mo.rendererPackageName,rendererConfig:Mo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=np(e),e===null?null:e.stateNode},findFiberByHostInstance:Mo.findFiberByHostInstance||Qw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xl.isDisabled&&xl.supportsFiber)try{kc=xl.inject($w),wr=xl}catch{}}Dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qw;Dn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oh(t))throw Error(te(200));return Kw(e,t,null,n)};Dn.createRoot=function(e,t){if(!Oh(e))throw Error(te(299));var n=!1,i="",a=km;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Nh(e,1,!1,null,null,n,!1,i,a),e[Ur]=t.current,da(e.nodeType===8?e.parentNode:e),new _h(t)};Dn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(te(188)):(e=Object.keys(e).join(","),Error(te(268,e)));return e=np(t),e=e===null?null:e.stateNode,e};Dn.flushSync=function(e){return ns(e)};Dn.hydrate=function(e,t,n){if(!Xc(t))throw Error(te(200));return Kc(null,e,t,!0,n)};Dn.hydrateRoot=function(e,t,n){if(!Oh(e))throw Error(te(405));var i=n!=null&&n.hydratedSources||null,a=!1,l="",d=km;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),t=Dm(t,null,e,1,n??null,a,!1,l,d),e[Ur]=t.current,da(e),i)for(e=0;e<i.length;e++)n=i[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Yc(t)};Dn.render=function(e,t,n){if(!Xc(t))throw Error(te(200));return Kc(null,e,t,!1,n)};Dn.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(te(40));return e._reactRootContainer?(ns(function(){Kc(null,null,e,!1,function(){e._reactRootContainer=null,e[Ur]=null})}),!0):!1};Dn.unstable_batchedUpdates=Ah;Dn.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Xc(n))throw Error(te(200));if(e==null||e._reactInternals===void 0)throw Error(te(38));return Kc(e,t,n,!1,i)};Dn.version="18.3.1-next-f1338f8080-20240426";function Lm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lm)}catch(e){console.error(e)}}Lm(),Lg.exports=Dn;var Jw=Lg.exports,A1=Jw;of.createRoot=A1.createRoot,of.hydrateRoot=A1.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ca(){return Ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ca.apply(this,arguments)}var hi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(hi||(hi={}));const S1="popstate";function ev(e){e===void 0&&(e={});function t(i,a){let{pathname:l,search:d,hash:m}=i.location;return Jf("",{pathname:l,search:d,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:pc(a)}return nv(t,n,null,e)}function St(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Mh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function tv(){return Math.random().toString(36).substr(2,8)}function b1(e,t){return{usr:e.state,key:e.key,idx:t}}function Jf(e,t,n,i){return n===void 0&&(n=null),Ca({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?lo(t):t,{state:n,key:t&&t.key||i||tv()})}function pc(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function lo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function nv(e,t,n,i){i===void 0&&(i={});let{window:a=document.defaultView,v5Compat:l=!1}=i,d=a.history,m=hi.Pop,p=null,g=y();g==null&&(g=0,d.replaceState(Ca({},d.state,{idx:g}),""));function y(){return(d.state||{idx:null}).idx}function v(){m=hi.Pop;let D=y(),_=D==null?null:D-g;g=D,p&&p({action:m,location:M.location,delta:_})}function C(D,_){m=hi.Push;let S=Jf(M.location,D,_);g=y()+1;let I=b1(S,g),L=M.createHref(S);try{d.pushState(I,"",L)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;a.location.assign(L)}l&&p&&p({action:m,location:M.location,delta:1})}function b(D,_){m=hi.Replace;let S=Jf(M.location,D,_);g=y();let I=b1(S,g),L=M.createHref(S);d.replaceState(I,"",L),l&&p&&p({action:m,location:M.location,delta:0})}function R(D){let _=a.location.origin!=="null"?a.location.origin:a.location.href,S=typeof D=="string"?D:pc(D);return S=S.replace(/ $/,"%20"),St(_,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,_)}let M={get action(){return m},get location(){return e(a,d)},listen(D){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(S1,v),p=D,()=>{a.removeEventListener(S1,v),p=null}},createHref(D){return t(a,D)},createURL:R,encodeLocation(D){let _=R(D);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:C,replace:b,go(D){return d.go(D)}};return M}var I1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(I1||(I1={}));function rv(e,t,n){return n===void 0&&(n="/"),iv(e,t,n)}function iv(e,t,n,i){let a=typeof t=="string"?lo(t):t,l=ro(a.pathname||"/",n);if(l==null)return null;let d=Pm(e);sv(d);let m=null;for(let p=0;m==null&&p<d.length;++p){let g=mv(l);m=gv(d[p],g)}return m}function Pm(e,t,n,i){t===void 0&&(t=[]),n===void 0&&(n=[]),i===void 0&&(i="");let a=(l,d,m)=>{let p={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};p.relativePath.startsWith("/")&&(St(p.relativePath.startsWith(i),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(i.length));let g=Ei([i,p.relativePath]),y=n.concat(p);l.children&&l.children.length>0&&(St(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),Pm(l.children,t,y,g)),!(l.path==null&&!l.index)&&t.push({path:g,score:dv(g,l.index),routesMeta:y})};return e.forEach((l,d)=>{var m;if(l.path===""||!((m=l.path)!=null&&m.includes("?")))a(l,d);else for(let p of Bm(l.path))a(l,d,p)}),t}function Bm(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let d=Bm(i.join("/")),m=[];return m.push(...d.map(p=>p===""?l:[l,p].join("/"))),a&&m.push(...d),m.map(p=>e.startsWith("/")&&p===""?"/":p)}function sv(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:hv(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const ov=/^:[\w-]+$/,av=3,lv=2,cv=1,uv=10,fv=-2,N1=e=>e==="*";function dv(e,t){let n=e.split("/"),i=n.length;return n.some(N1)&&(i+=fv),t&&(i+=lv),n.filter(a=>!N1(a)).reduce((a,l)=>a+(ov.test(l)?av:l===""?cv:uv),i)}function hv(e,t){return e.length===t.length&&e.slice(0,-1).every((i,a)=>i===t[a])?e[e.length-1]-t[t.length-1]:0}function gv(e,t,n){let{routesMeta:i}=e,a={},l="/",d=[];for(let m=0;m<i.length;++m){let p=i[m],g=m===i.length-1,y=l==="/"?t:t.slice(l.length)||"/",v=ed({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},y),C=p.route;if(!v)return null;Object.assign(a,v.params),d.push({params:a,pathname:Ei([l,v.pathname]),pathnameBase:Cv(Ei([l,v.pathnameBase])),route:C}),v.pathnameBase!=="/"&&(l=Ei([l,v.pathnameBase]))}return d}function ed(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=pv(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],d=l.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:i.reduce((g,y,v)=>{let{paramName:C,isOptional:b}=y;if(C==="*"){let M=m[v]||"";d=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const R=m[v];return b&&!R?g[C]=void 0:g[C]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:d,pattern:e}}function pv(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Mh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,p)=>(i.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),i]}function mv(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Mh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ro(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}const xv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yv=e=>xv.test(e);function wv(e,t){t===void 0&&(t="/");let{pathname:n,search:i="",hash:a=""}=typeof e=="string"?lo(e):e,l;if(n)if(yv(n))l=n;else{if(n.includes("//")){let d=n;n=n.replace(/\/\/+/g,"/"),Mh(!1,"Pathnames cannot have embedded double slashes - normalizing "+(d+" -> "+n))}n.startsWith("/")?l=T1(n.substring(1),"/"):l=T1(n,t)}else l=t;return{pathname:l,search:Ev(i),hash:Av(a)}}function T1(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Ku(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vv(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Fm(e,t){let n=vv(e);return t?n.map((i,a)=>a===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function jm(e,t,n,i){i===void 0&&(i=!1);let a;typeof e=="string"?a=lo(e):(a=Ca({},e),St(!a.pathname||!a.pathname.includes("?"),Ku("?","pathname","search",a)),St(!a.pathname||!a.pathname.includes("#"),Ku("#","pathname","hash",a)),St(!a.search||!a.search.includes("#"),Ku("#","search","hash",a)));let l=e===""||a.pathname==="",d=l?"/":a.pathname,m;if(d==null)m=n;else{let v=t.length-1;if(!i&&d.startsWith("..")){let C=d.split("/");for(;C[0]==="..";)C.shift(),v-=1;a.pathname=C.join("/")}m=v>=0?t[v]:"/"}let p=wv(a,m),g=d&&d!=="/"&&d.endsWith("/"),y=(l||d===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||y)&&(p.pathname+="/"),p}const Ei=e=>e.join("/").replace(/\/\/+/g,"/"),Cv=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ev=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Av=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Sv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Um=["post","put","patch","delete"];new Set(Um);const bv=["get",...Um];new Set(bv);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ea(){return Ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ea.apply(this,arguments)}const Qc=K.createContext(null),zm=K.createContext(null),Ri=K.createContext(null),Zc=K.createContext(null),Gr=K.createContext({outlet:null,matches:[],isDataRoute:!1}),Vm=K.createContext(null);function Iv(e,t){let{relative:n}=t===void 0?{}:t;Pa()||St(!1);let{basename:i,navigator:a}=K.useContext(Ri),{hash:l,pathname:d,search:m}=$c(e,{relative:n}),p=d;return i!=="/"&&(p=d==="/"?i:Ei([i,d])),a.createHref({pathname:p,search:m,hash:l})}function Pa(){return K.useContext(Zc)!=null}function ls(){return Pa()||St(!1),K.useContext(Zc).location}function Hm(e){K.useContext(Ri).static||K.useLayoutEffect(e)}function qc(){let{isDataRoute:e}=K.useContext(Gr);return e?Vv():Nv()}function Nv(){Pa()||St(!1);let e=K.useContext(Qc),{basename:t,future:n,navigator:i}=K.useContext(Ri),{matches:a}=K.useContext(Gr),{pathname:l}=ls(),d=JSON.stringify(Fm(a,n.v7_relativeSplatPath)),m=K.useRef(!1);return Hm(()=>{m.current=!0}),K.useCallback(function(g,y){if(y===void 0&&(y={}),!m.current)return;if(typeof g=="number"){i.go(g);return}let v=jm(g,JSON.parse(d),l,y.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Ei([t,v.pathname])),(y.replace?i.replace:i.push)(v,y.state,y)},[t,i,d,l,e])}const Tv=K.createContext(null);function _v(e){let t=K.useContext(Gr).outlet;return t&&K.createElement(Tv.Provider,{value:e},t)}function Ov(){let{matches:e}=K.useContext(Gr),t=e[e.length-1];return t?t.params:{}}function $c(e,t){let{relative:n}=t===void 0?{}:t,{future:i}=K.useContext(Ri),{matches:a}=K.useContext(Gr),{pathname:l}=ls(),d=JSON.stringify(Fm(a,i.v7_relativeSplatPath));return K.useMemo(()=>jm(e,JSON.parse(d),l,n==="path"),[e,d,l,n])}function Mv(e,t){return Rv(e,t)}function Rv(e,t,n,i){Pa()||St(!1);let{navigator:a}=K.useContext(Ri),{matches:l}=K.useContext(Gr),d=l[l.length-1],m=d?d.params:{};d&&d.pathname;let p=d?d.pathnameBase:"/";d&&d.route;let g=ls(),y;if(t){var v;let D=typeof t=="string"?lo(t):t;p==="/"||(v=D.pathname)!=null&&v.startsWith(p)||St(!1),y=D}else y=g;let C=y.pathname||"/",b=C;if(p!=="/"){let D=p.replace(/^\//,"").split("/");b="/"+C.replace(/^\//,"").split("/").slice(D.length).join("/")}let R=rv(e,{pathname:b}),M=Bv(R&&R.map(D=>Object.assign({},D,{params:Object.assign({},m,D.params),pathname:Ei([p,a.encodeLocation?a.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?p:Ei([p,a.encodeLocation?a.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),l,n,i);return t&&M?K.createElement(Zc.Provider,{value:{location:Ea({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:hi.Pop}},M):M}function Dv(){let e=zv(),t=Sv(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},t),n?K.createElement("pre",{style:a},n):null,null)}const kv=K.createElement(Dv,null);class Lv extends K.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?K.createElement(Gr.Provider,{value:this.props.routeContext},K.createElement(Vm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Pv(e){let{routeContext:t,match:n,children:i}=e,a=K.useContext(Qc);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),K.createElement(Gr.Provider,{value:t},i)}function Bv(e,t,n,i){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),i===void 0&&(i=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=i)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let d=e,m=(a=n)==null?void 0:a.errors;if(m!=null){let y=d.findIndex(v=>v.route.id&&(m==null?void 0:m[v.route.id])!==void 0);y>=0||St(!1),d=d.slice(0,Math.min(d.length,y+1))}let p=!1,g=-1;if(n&&i&&i.v7_partialHydration)for(let y=0;y<d.length;y++){let v=d[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=y),v.route.id){let{loaderData:C,errors:b}=n,R=v.route.loader&&C[v.route.id]===void 0&&(!b||b[v.route.id]===void 0);if(v.route.lazy||R){p=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}return d.reduceRight((y,v,C)=>{let b,R=!1,M=null,D=null;n&&(b=m&&v.route.id?m[v.route.id]:void 0,M=v.route.errorElement||kv,p&&(g<0&&C===0?(Hv("route-fallback"),R=!0,D=null):g===C&&(R=!0,D=v.route.hydrateFallbackElement||null)));let _=t.concat(d.slice(0,C+1)),S=()=>{let I;return b?I=M:R?I=D:v.route.Component?I=K.createElement(v.route.Component,null):v.route.element?I=v.route.element:I=y,K.createElement(Pv,{match:v,routeContext:{outlet:y,matches:_,isDataRoute:n!=null},children:I})};return n&&(v.route.ErrorBoundary||v.route.errorElement||C===0)?K.createElement(Lv,{location:n.location,revalidation:n.revalidation,component:M,error:b,children:S(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):S()},null)}var Wm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Wm||{}),Gm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Gm||{});function Fv(e){let t=K.useContext(Qc);return t||St(!1),t}function jv(e){let t=K.useContext(zm);return t||St(!1),t}function Uv(e){let t=K.useContext(Gr);return t||St(!1),t}function Ym(e){let t=Uv(),n=t.matches[t.matches.length-1];return n.route.id||St(!1),n.route.id}function zv(){var e;let t=K.useContext(Vm),n=jv(),i=Ym();return t!==void 0?t:(e=n.errors)==null?void 0:e[i]}function Vv(){let{router:e}=Fv(Wm.UseNavigateStable),t=Ym(Gm.UseNavigateStable),n=K.useRef(!1);return Hm(()=>{n.current=!0}),K.useCallback(function(a,l){l===void 0&&(l={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Ea({fromRouteId:t},l)))},[e,t])}const _1={};function Hv(e,t,n){_1[e]||(_1[e]=!0)}function Wv(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Gv(e){return _v(e.context)}function ri(e){St(!1)}function Yv(e){let{basename:t="/",children:n=null,location:i,navigationType:a=hi.Pop,navigator:l,static:d=!1,future:m}=e;Pa()&&St(!1);let p=t.replace(/^\/*/,"/"),g=K.useMemo(()=>({basename:p,navigator:l,static:d,future:Ea({v7_relativeSplatPath:!1},m)}),[p,m,l,d]);typeof i=="string"&&(i=lo(i));let{pathname:y="/",search:v="",hash:C="",state:b=null,key:R="default"}=i,M=K.useMemo(()=>{let D=ro(y,p);return D==null?null:{location:{pathname:D,search:v,hash:C,state:b,key:R},navigationType:a}},[p,y,v,C,b,R,a]);return M==null?null:K.createElement(Ri.Provider,{value:g},K.createElement(Zc.Provider,{children:n,value:M}))}function Xv(e){let{children:t,location:n}=e;return Mv(td(t),n)}new Promise(()=>{});function td(e,t){t===void 0&&(t=[]);let n=[];return K.Children.forEach(e,(i,a)=>{if(!K.isValidElement(i))return;let l=[...t,a];if(i.type===K.Fragment){n.push.apply(n,td(i.props.children,l));return}i.type!==ri&&St(!1),!i.props.index||!i.props.children||St(!1);let d={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=td(i.props.children,l)),n.push(d)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mc(){return mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},mc.apply(this,arguments)}function Xm(e,t){if(e==null)return{};var n={},i=Object.keys(e),a,l;for(l=0;l<i.length;l++)a=i[l],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Kv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Qv(e,t){return e.button===0&&(!t||t==="_self")&&!Kv(e)}function nd(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let i=e[n];return t.concat(Array.isArray(i)?i.map(a=>[n,a]):[[n,i]])},[]))}function Zv(e,t){let n=nd(e);return t&&t.forEach((i,a)=>{n.has(a)||t.getAll(a).forEach(l=>{n.append(a,l)})}),n}const qv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$v=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Jv="6";try{window.__reactRouterVersion=Jv}catch{}const e3=K.createContext({isTransitioning:!1}),t3="startTransition",O1=V2[t3];function n3(e){let{basename:t,children:n,future:i,window:a}=e,l=K.useRef();l.current==null&&(l.current=ev({window:a,v5Compat:!0}));let d=l.current,[m,p]=K.useState({action:d.action,location:d.location}),{v7_startTransition:g}=i||{},y=K.useCallback(v=>{g&&O1?O1(()=>p(v)):p(v)},[p,g]);return K.useLayoutEffect(()=>d.listen(y),[d,y]),K.useEffect(()=>Wv(i),[i]),K.createElement(Yv,{basename:t,children:n,location:m.location,navigationType:m.action,navigator:d,future:i})}const r3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",i3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,s3=K.forwardRef(function(t,n){let{onClick:i,relative:a,reloadDocument:l,replace:d,state:m,target:p,to:g,preventScrollReset:y,viewTransition:v}=t,C=Xm(t,qv),{basename:b}=K.useContext(Ri),R,M=!1;if(typeof g=="string"&&i3.test(g)&&(R=g,r3))try{let I=new URL(window.location.href),L=g.startsWith("//")?new URL(I.protocol+g):new URL(g),V=ro(L.pathname,b);L.origin===I.origin&&V!=null?g=V+L.search+L.hash:M=!0}catch{}let D=Iv(g,{relative:a}),_=l3(g,{replace:d,state:m,target:p,preventScrollReset:y,relative:a,viewTransition:v});function S(I){i&&i(I),I.defaultPrevented||_(I)}return K.createElement("a",mc({},C,{href:R||D,onClick:M||l?i:S,ref:n,target:p}))}),o3=K.forwardRef(function(t,n){let{"aria-current":i="page",caseSensitive:a=!1,className:l="",end:d=!1,style:m,to:p,viewTransition:g,children:y}=t,v=Xm(t,$v),C=$c(p,{relative:v.relative}),b=ls(),R=K.useContext(zm),{navigator:M,basename:D}=K.useContext(Ri),_=R!=null&&u3(C)&&g===!0,S=M.encodeLocation?M.encodeLocation(C).pathname:C.pathname,I=b.pathname,L=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;a||(I=I.toLowerCase(),L=L?L.toLowerCase():null,S=S.toLowerCase()),L&&D&&(L=ro(L,D)||L);const V=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let U=I===S||!d&&I.startsWith(S)&&I.charAt(V)==="/",B=L!=null&&(L===S||!d&&L.startsWith(S)&&L.charAt(S.length)==="/"),Q={isActive:U,isPending:B,isTransitioning:_},z=U?i:void 0,ie;typeof l=="function"?ie=l(Q):ie=[l,U?"active":null,B?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let oe=typeof m=="function"?m(Q):m;return K.createElement(s3,mc({},v,{"aria-current":z,className:ie,ref:n,style:oe,to:p,viewTransition:g}),typeof y=="function"?y(Q):y)});var rd;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(rd||(rd={}));var M1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(M1||(M1={}));function a3(e){let t=K.useContext(Qc);return t||St(!1),t}function l3(e,t){let{target:n,replace:i,state:a,preventScrollReset:l,relative:d,viewTransition:m}=t===void 0?{}:t,p=qc(),g=ls(),y=$c(e,{relative:d});return K.useCallback(v=>{if(Qv(v,n)){v.preventDefault();let C=i!==void 0?i:pc(g)===pc(y);p(e,{replace:C,state:a,preventScrollReset:l,relative:d,viewTransition:m})}},[g,p,y,i,a,n,e,l,d,m])}function c3(e){let t=K.useRef(nd(e)),n=K.useRef(!1),i=ls(),a=K.useMemo(()=>Zv(i.search,n.current?null:t.current),[i.search]),l=qc(),d=K.useCallback((m,p)=>{const g=nd(typeof m=="function"?m(a):m);n.current=!0,l("?"+g,p)},[l,a]);return[a,d]}function u3(e,t){t===void 0&&(t={});let n=K.useContext(e3);n==null&&St(!1);let{basename:i}=a3(rd.useViewTransitionState),a=$c(e,{relative:t.relative});if(!n.isTransitioning)return!1;let l=ro(n.currentLocation.pathname,i)||n.currentLocation.pathname,d=ro(n.nextLocation.pathname,i)||n.nextLocation.pathname;return ed(a.pathname,d)!=null||ed(a.pathname,l)!=null}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var f3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),yt=(e,t)=>{const n=K.forwardRef(({color:i="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:d,className:m="",children:p,...g},y)=>K.createElement("svg",{ref:y,...f3,width:a,height:a,stroke:i,strokeWidth:d?Number(l)*24/Number(a):l,className:["lucide",`lucide-${d3(e)}`,m].join(" "),...g},[...t.map(([v,C])=>K.createElement(v,C)),...Array.isArray(p)?p:[p]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=yt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=yt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=yt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=yt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=yt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=yt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=yt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=yt("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=yt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=yt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=yt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=yt("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=yt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=yt("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=yt("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=yt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=yt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=yt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=yt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=yt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=yt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=yt("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=yt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function _3(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}const R1={};function od(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&R1[t[0]]||(typeof t[0]=="string"&&(R1[t[0]]=new Date),_3(...t))}const Zm=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}};function D1(e,t,n){e.loadNamespaces(t,Zm(e,n))}function k1(e,t,n,i){typeof n=="string"&&(n=[n]),n.forEach(a=>{e.options.ns.indexOf(a)<0&&e.options.ns.push(a)}),e.loadLanguages(t,Zm(e,i))}function O3(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=t.languages[0],a=t.options?t.options.fallbackLng:!1,l=t.languages[t.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const d=(m,p)=>{const g=t.services.backendConnector.state[`${m}|${p}`];return g===-1||g===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!d(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(i,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||d(i,e)&&(!a||d(l,e)))}function M3(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!t.languages||!t.languages.length?(od("i18n.languages were undefined or empty",t.languages),!0):t.options.ignoreJSONStructure!==void 0?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(a,l)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!l(a.isLanguageChangingTo,e))return!1}}):O3(e,t,n)}const R3=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,D3={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},k3=e=>D3[e],L3=e=>e.replace(R3,k3);let ad={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:L3};function P3(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ad={...ad,...e}}function B3(){return ad}let qm;function F3(e){qm=e}function j3(){return qm}const U3={type:"3rdParty",init(e){P3(e.options.react),F3(e)}},z3=K.createContext();class V3{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const H3=(e,t)=>{const n=K.useRef();return K.useEffect(()=>{n.current=e},[e,t]),n.current};function Ba(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=t,{i18n:i,defaultNS:a}=K.useContext(z3)||{},l=n||i||j3();if(l&&!l.reportNamespaces&&(l.reportNamespaces=new V3),!l){od("You will need to pass in an i18next instance by using initReactI18next");const I=(V,U)=>typeof U=="string"?U:U&&typeof U=="object"&&typeof U.defaultValue=="string"?U.defaultValue:Array.isArray(V)?V[V.length-1]:V,L=[I,{},!1];return L.t=I,L.i18n={},L.ready=!1,L}l.options.react&&l.options.react.wait!==void 0&&od("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const d={...B3(),...l.options.react,...t},{useSuspense:m,keyPrefix:p}=d;let g=a||l.options&&l.options.defaultNS;g=typeof g=="string"?[g]:g||["translation"],l.reportNamespaces.addUsedNamespaces&&l.reportNamespaces.addUsedNamespaces(g);const y=(l.isInitialized||l.initializedStoreOnce)&&g.every(I=>M3(I,l,d));function v(){return l.getFixedT(t.lng||null,d.nsMode==="fallback"?g:g[0],p)}const[C,b]=K.useState(v);let R=g.join();t.lng&&(R=`${t.lng}${R}`);const M=H3(R),D=K.useRef(!0);K.useEffect(()=>{const{bindI18n:I,bindI18nStore:L}=d;D.current=!0,!y&&!m&&(t.lng?k1(l,t.lng,g,()=>{D.current&&b(v)}):D1(l,g,()=>{D.current&&b(v)})),y&&M&&M!==R&&D.current&&b(v);function V(){D.current&&b(v)}return I&&l&&l.on(I,V),L&&l&&l.store.on(L,V),()=>{D.current=!1,I&&l&&I.split(" ").forEach(U=>l.off(U,V)),L&&l&&L.split(" ").forEach(U=>l.store.off(U,V))}},[l,R]);const _=K.useRef(!0);K.useEffect(()=>{D.current&&!_.current&&b(v),_.current=!1},[l,p]);const S=[C,l,y];if(S.t=C,S.i18n=l,S.ready=y,y||!y&&!m)return S;throw new Promise(I=>{t.lng?k1(l,t.lng,g,()=>I()):D1(l,g,()=>I())})}function $m(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=$m(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function W3(){for(var e,t,n=0,i="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=$m(e))&&(i&&(i+=" "),i+=t);return i}const kh="-",G3=e=>{const t=X3(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:d=>{const m=d.split(kh);return m[0]===""&&m.length!==1&&m.shift(),Jm(m,t)||Y3(d)},getConflictingClassGroupIds:(d,m)=>{const p=n[d]||[];return m&&i[d]?[...p,...i[d]]:p}}},Jm=(e,t)=>{var d;if(e.length===0)return t.classGroupId;const n=e[0],i=t.nextPart.get(n),a=i?Jm(e.slice(1),i):void 0;if(a)return a;if(t.validators.length===0)return;const l=e.join(kh);return(d=t.validators.find(({validator:m})=>m(l)))==null?void 0:d.classGroupId},L1=/^\[(.+)\]$/,Y3=e=>{if(L1.test(e)){const t=L1.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},X3=e=>{const{theme:t,prefix:n}=e,i={nextPart:new Map,validators:[]};return Q3(Object.entries(e.classGroups),n).forEach(([l,d])=>{ld(d,i,l,t)}),i},ld=(e,t,n,i)=>{e.forEach(a=>{if(typeof a=="string"){const l=a===""?t:P1(t,a);l.classGroupId=n;return}if(typeof a=="function"){if(K3(a)){ld(a(i),t,n,i);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([l,d])=>{ld(d,P1(t,l),n,i)})})},P1=(e,t)=>{let n=e;return t.split(kh).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},K3=e=>e.isThemeGetter,Q3=(e,t)=>t?e.map(([n,i])=>{const a=i.map(l=>typeof l=="string"?t+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([d,m])=>[t+d,m])):l);return[n,a]}):e,Z3=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,i=new Map;const a=(l,d)=>{n.set(l,d),t++,t>e&&(t=0,i=n,n=new Map)};return{get(l){let d=n.get(l);if(d!==void 0)return d;if((d=i.get(l))!==void 0)return a(l,d),d},set(l,d){n.has(l)?n.set(l,d):a(l,d)}}},ex="!",q3=e=>{const{separator:t,experimentalParseClassName:n}=e,i=t.length===1,a=t[0],l=t.length,d=m=>{const p=[];let g=0,y=0,v;for(let D=0;D<m.length;D++){let _=m[D];if(g===0){if(_===a&&(i||m.slice(D,D+l)===t)){p.push(m.slice(y,D)),y=D+l;continue}if(_==="/"){v=D;continue}}_==="["?g++:_==="]"&&g--}const C=p.length===0?m:m.substring(y),b=C.startsWith(ex),R=b?C.substring(1):C,M=v&&v>y?v-y:void 0;return{modifiers:p,hasImportantModifier:b,baseClassName:R,maybePostfixModifierPosition:M}};return n?m=>n({className:m,parseClassName:d}):d},$3=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(i=>{i[0]==="["?(t.push(...n.sort(),i),n=[]):n.push(i)}),t.push(...n.sort()),t},J3=e=>({cache:Z3(e.cacheSize),parseClassName:q3(e),...G3(e)}),eC=/\s+/,tC=(e,t)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:a}=t,l=[],d=e.trim().split(eC);let m="";for(let p=d.length-1;p>=0;p-=1){const g=d[p],{modifiers:y,hasImportantModifier:v,baseClassName:C,maybePostfixModifierPosition:b}=n(g);let R=!!b,M=i(R?C.substring(0,b):C);if(!M){if(!R){m=g+(m.length>0?" "+m:m);continue}if(M=i(C),!M){m=g+(m.length>0?" "+m:m);continue}R=!1}const D=$3(y).join(":"),_=v?D+ex:D,S=_+M;if(l.includes(S))continue;l.push(S);const I=a(M,R);for(let L=0;L<I.length;++L){const V=I[L];l.push(_+V)}m=g+(m.length>0?" "+m:m)}return m};function nC(){let e=0,t,n,i="";for(;e<arguments.length;)(t=arguments[e++])&&(n=tx(t))&&(i&&(i+=" "),i+=n);return i}const tx=e=>{if(typeof e=="string")return e;let t,n="";for(let i=0;i<e.length;i++)e[i]&&(t=tx(e[i]))&&(n&&(n+=" "),n+=t);return n};function rC(e,...t){let n,i,a,l=d;function d(p){const g=t.reduce((y,v)=>v(y),e());return n=J3(g),i=n.cache.get,a=n.cache.set,l=m,m(p)}function m(p){const g=i(p);if(g)return g;const y=tC(p,n);return a(p,y),y}return function(){return l(nC.apply(null,arguments))}}const it=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},nx=/^\[(?:([a-z-]+):)?(.+)\]$/i,iC=/^\d+\/\d+$/,sC=new Set(["px","full","screen"]),oC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,aC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sr=e=>Ys(e)||sC.has(e)||iC.test(e),ei=e=>co(e,"length",yC),Ys=e=>!!e&&!Number.isNaN(Number(e)),Qu=e=>co(e,"number",Ys),Ro=e=>!!e&&Number.isInteger(Number(e)),fC=e=>e.endsWith("%")&&Ys(e.slice(0,-1)),_e=e=>nx.test(e),ti=e=>oC.test(e),dC=new Set(["length","size","percentage"]),hC=e=>co(e,dC,rx),gC=e=>co(e,"position",rx),pC=new Set(["image","url"]),mC=e=>co(e,pC,vC),xC=e=>co(e,"",wC),Do=()=>!0,co=(e,t,n)=>{const i=nx.exec(e);return i?i[1]?typeof t=="string"?i[1]===t:t.has(i[1]):n(i[2]):!1},yC=e=>aC.test(e)&&!lC.test(e),rx=()=>!1,wC=e=>cC.test(e),vC=e=>uC.test(e),CC=()=>{const e=it("colors"),t=it("spacing"),n=it("blur"),i=it("brightness"),a=it("borderColor"),l=it("borderRadius"),d=it("borderSpacing"),m=it("borderWidth"),p=it("contrast"),g=it("grayscale"),y=it("hueRotate"),v=it("invert"),C=it("gap"),b=it("gradientColorStops"),R=it("gradientColorStopPositions"),M=it("inset"),D=it("margin"),_=it("opacity"),S=it("padding"),I=it("saturate"),L=it("scale"),V=it("sepia"),U=it("skew"),B=it("space"),Q=it("translate"),z=()=>["auto","contain","none"],ie=()=>["auto","hidden","clip","visible","scroll"],oe=()=>["auto",_e,t],$=()=>[_e,t],me=()=>["",Sr,ei],he=()=>["auto",Ys,_e],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ce=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ee=()=>["start","end","center","between","around","evenly","stretch"],ae=()=>["","0",_e],ge=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Me=()=>[Ys,_e];return{cacheSize:500,separator:":",theme:{colors:[Do],spacing:[Sr,ei],blur:["none","",ti,_e],brightness:Me(),borderColor:[e],borderRadius:["none","","full",ti,_e],borderSpacing:$(),borderWidth:me(),contrast:Me(),grayscale:ae(),hueRotate:Me(),invert:ae(),gap:$(),gradientColorStops:[e],gradientColorStopPositions:[fC,ei],inset:oe(),margin:oe(),opacity:Me(),padding:$(),saturate:Me(),scale:Me(),sepia:ae(),skew:Me(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",_e]}],container:["container"],columns:[{columns:[ti]}],"break-after":[{"break-after":ge()}],"break-before":[{"break-before":ge()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),_e]}],overflow:[{overflow:ie()}],"overflow-x":[{"overflow-x":ie()}],"overflow-y":[{"overflow-y":ie()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[M]}],"inset-x":[{"inset-x":[M]}],"inset-y":[{"inset-y":[M]}],start:[{start:[M]}],end:[{end:[M]}],top:[{top:[M]}],right:[{right:[M]}],bottom:[{bottom:[M]}],left:[{left:[M]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ro,_e]}],basis:[{basis:oe()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_e]}],grow:[{grow:ae()}],shrink:[{shrink:ae()}],order:[{order:["first","last","none",Ro,_e]}],"grid-cols":[{"grid-cols":[Do]}],"col-start-end":[{col:["auto",{span:["full",Ro,_e]},_e]}],"col-start":[{"col-start":he()}],"col-end":[{"col-end":he()}],"grid-rows":[{"grid-rows":[Do]}],"row-start-end":[{row:["auto",{span:[Ro,_e]},_e]}],"row-start":[{"row-start":he()}],"row-end":[{"row-end":he()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_e]}],gap:[{gap:[C]}],"gap-x":[{"gap-x":[C]}],"gap-y":[{"gap-y":[C]}],"justify-content":[{justify:["normal",...ee()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ee(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ee(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[D]}],mx:[{mx:[D]}],my:[{my:[D]}],ms:[{ms:[D]}],me:[{me:[D]}],mt:[{mt:[D]}],mr:[{mr:[D]}],mb:[{mb:[D]}],ml:[{ml:[D]}],"space-x":[{"space-x":[B]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[B]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_e,t]}],"min-w":[{"min-w":[_e,t,"min","max","fit"]}],"max-w":[{"max-w":[_e,t,"none","full","min","max","fit","prose",{screen:[ti]},ti]}],h:[{h:[_e,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_e,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_e,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_e,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ti,ei]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Qu]}],"font-family":[{font:[Do]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_e]}],"line-clamp":[{"line-clamp":["none",Ys,Qu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Sr,_e]}],"list-image":[{"list-image":["none",_e]}],"list-style-type":[{list:["none","disc","decimal",_e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ce(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Sr,ei]}],"underline-offset":[{"underline-offset":["auto",Sr,_e]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),gC]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},mC]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[R]}],"gradient-via-pos":[{via:[R]}],"gradient-to-pos":[{to:[R]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[m]}],"border-w-x":[{"border-x":[m]}],"border-w-y":[{"border-y":[m]}],"border-w-s":[{"border-s":[m]}],"border-w-e":[{"border-e":[m]}],"border-w-t":[{"border-t":[m]}],"border-w-r":[{"border-r":[m]}],"border-w-b":[{"border-b":[m]}],"border-w-l":[{"border-l":[m]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...Ce(),"hidden"]}],"divide-x":[{"divide-x":[m]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[m]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:Ce()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...Ce()]}],"outline-offset":[{"outline-offset":[Sr,_e]}],"outline-w":[{outline:[Sr,ei]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Sr,ei]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ti,xC]}],"shadow-color":[{shadow:[Do]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[p]}],"drop-shadow":[{"drop-shadow":["","none",ti,_e]}],grayscale:[{grayscale:[g]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[v]}],saturate:[{saturate:[I]}],sepia:[{sepia:[V]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[p]}],"backdrop-grayscale":[{"backdrop-grayscale":[g]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[V]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_e]}],duration:[{duration:Me()}],ease:[{ease:["linear","in","out","in-out",_e]}],delay:[{delay:Me()}],animate:[{animate:["none","spin","ping","pulse","bounce",_e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[L]}],"scale-x":[{"scale-x":[L]}],"scale-y":[{"scale-y":[L]}],rotate:[{rotate:[Ro,_e]}],"translate-x":[{"translate-x":[Q]}],"translate-y":[{"translate-y":[Q]}],"skew-x":[{"skew-x":[U]}],"skew-y":[{"skew-y":[U]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_e]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Sr,ei,Qu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},EC=rC(CC);function cs(...e){return EC(W3(e))}const AC=()=>{const{t:e}=Ba(),t=[{path:"/",icon:v3,label:e("dashboard")},{path:"/billing",icon:S3,label:e("billing")},{path:"/inventory",icon:sd,label:e("inventory")},{path:"/history",icon:y3,label:e("history")},{path:"/settings",icon:A3,label:e("settings")}];return A.jsxs("div",{className:"flex flex-col min-h-screen bg-slate-50",children:[A.jsx("main",{className:"flex-1 pb-20 overflow-y-auto",children:A.jsx(Gv,{})}),A.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 flex justify-around items-center h-16 z-50 shadow-[0_-1px_3px_rgba(0,0,0,0.1)]",children:t.map(n=>A.jsxs(o3,{to:n.path,className:({isActive:i})=>cs("flex flex-col items-center justify-center w-full h-full space-y-1 text-xs font-medium text-slate-500 transition-colors",i?"text-blue-600 bg-blue-50/50":"hover:text-slate-900 hover:bg-slate-50"),children:[A.jsx(n.icon,{className:"w-5 h-5"}),A.jsx("span",{children:n.label})]},n.path))})]})};function Wn(e,t=[]){const[n,i]=K.useState(void 0);return K.useEffect(()=>{let a=!1;const l=async()=>{try{const m=await e();a||i(m)}catch(m){console.error("useLiveQuery error:",m)}};l();const d=setInterval(l,500);return()=>{a=!0,clearInterval(d)}},t),n}const at=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,_t=Object.keys,en=Array.isArray;function cn(e,t){return typeof t!="object"||_t(t).forEach(function(n){e[n]=t[n]}),e}typeof Promise>"u"||at.Promise||(at.Promise=Promise);const Aa=Object.getPrototypeOf,SC={}.hasOwnProperty;function Rn(e,t){return SC.call(e,t)}function io(e,t){typeof t=="function"&&(t=t(Aa(e))),(typeof Reflect>"u"?_t:Reflect.ownKeys)(t).forEach(n=>{Br(e,n,t[n])})}const ix=Object.defineProperty;function Br(e,t,n,i){ix(e,t,cn(n&&Rn(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},i))}function Xs(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Br(e.prototype,"constructor",e),{extend:io.bind(null,e.prototype)}}}}const bC=Object.getOwnPropertyDescriptor;function Lh(e,t){let n;return bC(e,t)||(n=Aa(e))&&Lh(n,t)}const IC=[].slice;function yc(e,t,n){return IC.call(e,t,n)}function sx(e,t){return t(e)}function Uo(e){if(!e)throw new Error("Assertion Failed")}function ox(e){at.setImmediate?setImmediate(e):setTimeout(e,0)}function ax(e,t){return e.reduce((n,i,a)=>{var l=t(i,a);return l&&(n[l[0]]=l[1]),n},{})}function Fr(e,t){if(typeof t=="string"&&Rn(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],i=0,a=t.length;i<a;++i){var l=Fr(e,t[i]);n.push(l)}return n}var d=t.indexOf(".");if(d!==-1){var m=e[t.substr(0,d)];return m==null?void 0:Fr(m,t.substr(d+1))}}function ir(e,t,n){if(e&&t!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){Uo(typeof n!="string"&&"length"in n);for(var i=0,a=t.length;i<a;++i)ir(e,t[i],n[i])}else{var l=t.indexOf(".");if(l!==-1){var d=t.substr(0,l),m=t.substr(l+1);if(m==="")n===void 0?en(e)&&!isNaN(parseInt(d))?e.splice(d,1):delete e[d]:e[d]=n;else{var p=e[d];p&&Rn(e,d)||(p=e[d]={}),ir(p,m,n)}}else n===void 0?en(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function lx(e){var t={};for(var n in e)Rn(e,n)&&(t[n]=e[n]);return t}const NC=[].concat;function cx(e){return NC.apply([],e)}const ux="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(cx([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>at[e]),TC=ux.map(e=>at[e]);ax(ux,e=>[e,!0]);let ai=null;function Fa(e){ai=typeof WeakMap<"u"&&new WeakMap;const t=cd(e);return ai=null,t}function cd(e){if(!e||typeof e!="object")return e;let t=ai&&ai.get(e);if(t)return t;if(en(e)){t=[],ai&&ai.set(e,t);for(var n=0,i=e.length;n<i;++n)t.push(cd(e[n]))}else if(TC.indexOf(e.constructor)>=0)t=e;else{const l=Aa(e);for(var a in t=l===Object.prototype?{}:Object.create(l),ai&&ai.set(e,t),e)Rn(e,a)&&(t[a]=cd(e[a]))}return t}const{toString:_C}={};function ud(e){return _C.call(e).slice(8,-1)}const fd=typeof Symbol<"u"?Symbol.iterator:"@@iterator",OC=typeof fd=="symbol"?function(e){var t;return e!=null&&(t=e[fd])&&t.apply(e)}:function(){return null},Is={};function _r(e){var t,n,i,a;if(arguments.length===1){if(en(e))return e.slice();if(this===Is&&typeof e=="string")return[e];if(a=OC(e)){for(n=[];!(i=a.next()).done;)n.push(i.value);return n}if(e==null)return[e];if(typeof(t=e.length)=="number"){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const Ph=typeof Symbol<"u"?e=>e[Symbol.toStringTag]==="AsyncFunction":()=>!1;var Cr=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function fx(e,t){Cr=e,dx=t}var dx=()=>!0;const MC=!new Error("").stack;function us(){if(MC)try{throw us.arguments,new Error}catch(e){return e}return new Error}function dd(e,t){var n=e.stack;return n?(t=t||0,n.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),n.split(`
`).slice(t).filter(dx).map(i=>`
`+i).join("")):""}var hx=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Bh=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(hx),RC={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ks(e,t){this._e=us(),this.name=e,this.message=t}function gx(e,t){return e+". Errors: "+Object.keys(t).map(n=>t[n].toString()).filter((n,i,a)=>a.indexOf(n)===i).join(`
`)}function wc(e,t,n,i){this._e=us(),this.failures=t,this.failedKeys=i,this.successCount=n,this.message=gx(e,t)}function $o(e,t){this._e=us(),this.name="BulkError",this.failures=Object.keys(t).map(n=>t[n]),this.failuresByPos=t,this.message=gx(e,t)}Xs(Ks).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+dd(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Xs(wc).from(Ks),Xs($o).from(Ks);var Fh=Bh.reduce((e,t)=>(e[t]=t+"Error",e),{});const DC=Ks;var Se=Bh.reduce((e,t)=>{var n=t+"Error";function i(a,l){this._e=us(),this.name=n,a?typeof a=="string"?(this.message=`${a}${l?`
 `+l:""}`,this.inner=l||null):typeof a=="object"&&(this.message=`${a.name} ${a.message}`,this.inner=a):(this.message=RC[t]||n,this.inner=null)}return Xs(i).from(DC),e[t]=i,e},{});Se.Syntax=SyntaxError,Se.Type=TypeError,Se.Range=RangeError;var B1=hx.reduce((e,t)=>(e[t+"Error"]=Se[t],e),{}),Fl=Bh.reduce((e,t)=>(["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=Se[t]),e),{});function $e(){}function Sa(e){return e}function kC(e,t){return e==null||e===Sa?t:function(n){return t(e(n))}}function rs(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function LC(e,t){return e===$e?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var i=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var l=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?rs(i,this.onsuccess):i),a&&(this.onerror=this.onerror?rs(a,this.onerror):a),l!==void 0?l:n}}function PC(e,t){return e===$e?t:function(){e.apply(this,arguments);var n=this.onsuccess,i=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?rs(n,this.onsuccess):n),i&&(this.onerror=this.onerror?rs(i,this.onerror):i)}}function BC(e,t){return e===$e?t:function(n){var i=e.apply(this,arguments);cn(n,i);var a=this.onsuccess,l=this.onerror;this.onsuccess=null,this.onerror=null;var d=t.apply(this,arguments);return a&&(this.onsuccess=this.onsuccess?rs(a,this.onsuccess):a),l&&(this.onerror=this.onerror?rs(l,this.onerror):l),i===void 0?d===void 0?void 0:d:cn(i,d)}}function FC(e,t){return e===$e?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function jh(e,t){return e===$e?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var i=this,a=arguments.length,l=new Array(a);a--;)l[a]=arguments[a];return n.then(function(){return t.apply(i,l)})}return t.apply(this,arguments)}}Fl.ModifyError=wc,Fl.DexieError=Ks,Fl.BulkError=$o;var ba={};const px=100,[hd,vc,gd]=typeof Promise>"u"?[]:(()=>{let e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,Aa(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,Aa(t),e]})(),mx=vc&&vc.then,jl=hd&&hd.constructor,Uh=!!gd;var pd=!1,jC=gd?()=>{gd.then(yl)}:at.setImmediate?setImmediate.bind(null,yl):at.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{yl(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(yl,0)},Jo=function(e,t){zo.push([e,t]),Cc&&(jC(),Cc=!1)},md=!0,Cc=!0,Qi=[],Ul=[],xd=null,yd=Sa,Qs={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:U1,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{U1(e[0],e[1])}catch{}})}},ve=Qs,zo=[],Zi=0,zl=[];function ue(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=$e,this._lib=!1;var t=this._PSD=ve;if(Cr&&(this._stackHolder=us(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==ba)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&vd(this,this._value))}this._state=null,this._value=null,++t.ref,yx(this,e)}const wd={get:function(){var e=ve,t=Ec;function n(i,a){var l=!e.global&&(e!==ve||t!==Ec);const d=l&&!Hr();var m=new ue((p,g)=>{zh(this,new xx(Ac(i,e,l,d),Ac(a,e,l,d),p,g,e))});return Cr&&Cx(m,this),m}return n.prototype=ba,n},set:function(e){Br(this,"then",e&&e.prototype===ba?wd:{get:function(){return e},set:wd.set})}};function xx(e,t,n,i,a){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=i,this.psd=a}function yx(e,t){try{t(n=>{if(e._state===null){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var i=e._lib&&ja();n&&typeof n.then=="function"?yx(e,(a,l)=>{n instanceof ue?n._then(a,l):n.then(a,l)}):(e._state=!0,e._value=n,wx(e)),i&&Ua()}},vd.bind(null,e))}catch(n){vd(e,n)}}function vd(e,t){if(Ul.push(t),e._state===null){var n=e._lib&&ja();t=yd(t),e._state=!1,e._value=t,Cr&&t!==null&&typeof t=="object"&&!t._promise&&function(i,a,l){try{i.apply(null,l)}catch{}}(()=>{var i=Lh(t,"stack");t._promise=e,Br(t,"stack",{get:()=>pd?i&&(i.get?i.get.apply(t):i.value):e.stack})}),function(i){Qi.some(a=>a._value===i._value)||Qi.push(i)}(e),wx(e),n&&Ua()}}function wx(e){var t=e._listeners;e._listeners=[];for(var n=0,i=t.length;n<i;++n)zh(e,t[n]);var a=e._PSD;--a.ref||a.finalize(),Zi===0&&(++Zi,Jo(()=>{--Zi==0&&Vh()},[]))}function zh(e,t){if(e._state!==null){var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Zi,Jo(UC,[n,e,t])}else e._listeners.push(t)}function UC(e,t,n){try{xd=t;var i,a=t._value;t._state?i=e(a):(Ul.length&&(Ul=[]),i=e(a),Ul.indexOf(a)===-1&&function(l){for(var d=Qi.length;d;)if(Qi[--d]._value===l._value)return void Qi.splice(d,1)}(t)),n.resolve(i)}catch(l){n.reject(l)}finally{xd=null,--Zi==0&&Vh(),--n.psd.ref||n.psd.finalize()}}function vx(e,t,n){if(t.length===n)return t;var i="";if(e._state===!1){var a,l,d=e._value;d!=null?(a=d.name||"Error",l=d.message||d,i=dd(d,0)):(a=d,l=""),t.push(a+(l?": "+l:"")+i)}return Cr&&((i=dd(e._stackHolder,2))&&t.indexOf(i)===-1&&t.push(i),e._prev&&vx(e._prev,t,n)),t}function Cx(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function yl(){ja()&&Ua()}function ja(){var e=md;return md=!1,Cc=!1,e}function Ua(){var e,t,n;do for(;zo.length>0;)for(e=zo,zo=[],n=e.length,t=0;t<n;++t){var i=e[t];i[0].apply(null,i[1])}while(zo.length>0);md=!0,Cc=!0}function Vh(){var e=Qi;Qi=[],e.forEach(i=>{i._PSD.onunhandled.call(null,i._value,i)});for(var t=zl.slice(0),n=t.length;n;)t[--n]()}function wl(e){return new ue(ba,!1,e)}function ut(e,t){var n=ve;return function(){var i=ja(),a=ve;try{return Ii(n,!0),e.apply(this,arguments)}catch(l){t&&t(l)}finally{Ii(a,!1),i&&Ua()}}}io(ue.prototype,{then:wd,_then:function(e,t){zh(this,new xx(null,null,e,t,ve))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],n=arguments[1];return typeof t=="function"?this.then(null,i=>i instanceof t?n(i):wl(i)):this.then(null,i=>i&&i.name===t?n(i):wl(i))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),wl(t)))},stack:{get:function(){if(this._stack)return this._stack;try{pd=!0;var e=vx(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{pd=!1}}},timeout:function(e,t){return e<1/0?new ue((n,i)=>{var a=setTimeout(()=>i(new Se.Timeout(t)),e);this.then(n,i).finally(clearTimeout.bind(null,a))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Br(ue.prototype,Symbol.toStringTag,"Dexie.Promise"),Qs.env=Ex(),io(ue,{all:function(){var e=_r.apply(null,arguments).map(vl);return new ue(function(t,n){e.length===0&&t([]);var i=e.length;e.forEach((a,l)=>ue.resolve(a).then(d=>{e[l]=d,--i||t(e)},n))})},resolve:e=>{if(e instanceof ue)return e;if(e&&typeof e.then=="function")return new ue((n,i)=>{e.then(n,i)});var t=new ue(ba,!0,e);return Cx(t,xd),t},reject:wl,race:function(){var e=_r.apply(null,arguments).map(vl);return new ue((t,n)=>{e.map(i=>ue.resolve(i).then(t,n))})},PSD:{get:()=>ve,set:e=>ve=e},totalEchoes:{get:()=>Ec},newPSD:bi,usePSD:fo,scheduler:{get:()=>Jo,set:e=>{Jo=e}},rejectionMapper:{get:()=>yd,set:e=>{yd=e}},follow:(e,t)=>new ue((n,i)=>bi((a,l)=>{var d=ve;d.unhandleds=[],d.onunhandled=l,d.finalize=rs(function(){(function(m){function p(){m(),zl.splice(zl.indexOf(p),1)}zl.push(p),++Zi,Jo(()=>{--Zi==0&&Vh()},[])})(()=>{this.unhandleds.length===0?a():l(this.unhandleds[0])})},d.finalize),e()},t,n,i))}),jl&&(jl.allSettled&&Br(ue,"allSettled",function(){const e=_r.apply(null,arguments).map(vl);return new ue(t=>{e.length===0&&t([]);let n=e.length;const i=new Array(n);e.forEach((a,l)=>ue.resolve(a).then(d=>i[l]={status:"fulfilled",value:d},d=>i[l]={status:"rejected",reason:d}).then(()=>--n||t(i)))})}),jl.any&&typeof AggregateError<"u"&&Br(ue,"any",function(){const e=_r.apply(null,arguments).map(vl);return new ue((t,n)=>{e.length===0&&n(new AggregateError([]));let i=e.length;const a=new Array(i);e.forEach((l,d)=>ue.resolve(l).then(m=>t(m),m=>{a[d]=m,--i||n(new AggregateError(a))}))})}));const Jt={awaits:0,echoes:0,id:0};var zC=0,Vl=[],Zu=0,Ec=0,VC=0;function bi(e,t,n,i){var a=ve,l=Object.create(a);l.parent=a,l.ref=0,l.global=!1,l.id=++VC;var d=Qs.env;l.env=Uh?{Promise:ue,PromiseProp:{value:ue,configurable:!0,writable:!0},all:ue.all,race:ue.race,allSettled:ue.allSettled,any:ue.any,resolve:ue.resolve,reject:ue.reject,nthen:F1(d.nthen,l),gthen:F1(d.gthen,l)}:{},t&&cn(l,t),++a.ref,l.finalize=function(){--this.parent.ref||this.parent.finalize()};var m=fo(l,e,n,i);return l.ref===0&&l.finalize(),m}function uo(){return Jt.id||(Jt.id=++zC),++Jt.awaits,Jt.echoes+=px,Jt.id}function Hr(){return!!Jt.awaits&&(--Jt.awaits==0&&(Jt.id=0),Jt.echoes=Jt.awaits*px,!0)}function vl(e){return Jt.echoes&&e&&e.constructor===jl?(uo(),e.then(t=>(Hr(),t),t=>(Hr(),Lt(t)))):e}function HC(e){++Ec,Jt.echoes&&--Jt.echoes!=0||(Jt.echoes=Jt.id=0),Vl.push(ve),Ii(e,!0)}function WC(){var e=Vl[Vl.length-1];Vl.pop(),Ii(e,!1)}function Ii(e,t){var n=ve;if((t?!Jt.echoes||Zu++&&e===ve:!Zu||--Zu&&e===ve)||Ax(t?HC.bind(null,e):WC),e!==ve&&(ve=e,n===Qs&&(Qs.env=Ex()),Uh)){var i=Qs.env.Promise,a=e.env;vc.then=a.nthen,i.prototype.then=a.gthen,(n.global||e.global)&&(Object.defineProperty(at,"Promise",a.PromiseProp),i.all=a.all,i.race=a.race,i.resolve=a.resolve,i.reject=a.reject,a.allSettled&&(i.allSettled=a.allSettled),a.any&&(i.any=a.any))}}function Ex(){var e=at.Promise;return Uh?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(at,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:vc.then,gthen:e.prototype.then}:{}}function fo(e,t,n,i,a){var l=ve;try{return Ii(e,!0),t(n,i,a)}finally{Ii(l,!1)}}function Ax(e){mx.call(hd,e)}function Ac(e,t,n,i){return typeof e!="function"?e:function(){var a=ve;n&&uo(),Ii(t,!0);try{return e.apply(this,arguments)}finally{Ii(a,!1),i&&Ax(Hr)}}}function F1(e,t){return function(n,i){return e.call(this,Ac(n,t),Ac(i,t))}}(""+mx).indexOf("[native code]")===-1&&(uo=Hr=$e);const j1="unhandledrejection";function U1(e,t){var n;try{n=t.onuncatched(e)}catch{}if(n!==!1)try{var i,a={promise:t,reason:e};if(at.document&&document.createEvent?((i=document.createEvent("Event")).initEvent(j1,!0,!0),cn(i,a)):at.CustomEvent&&cn(i=new CustomEvent(j1,{detail:a}),a),i&&at.dispatchEvent&&(dispatchEvent(i),!at.PromiseRejectionEvent&&at.onunhandledrejection))try{at.onunhandledrejection(i)}catch{}Cr&&i&&!i.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch{}}var Lt=ue.reject;function Cd(e,t,n,i){if(e.idbdb&&(e._state.openComplete||ve.letThrough||e._vip)){var a=e._createTransaction(t,n,e._dbSchema);try{a.create(),e._state.PR1398_maxLoop=3}catch(l){return l.name===Fh.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>Cd(e,t,n,i))):Lt(l)}return a._promise(t,(l,d)=>bi(()=>(ve.trans=a,i(l,d,a)))).then(l=>a._completion.then(()=>l))}if(e._state.openComplete)return Lt(new Se.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return Lt(new Se.DatabaseClosed);e.open().catch($e)}return e._state.dbReadyPromise.then(()=>Cd(e,t,n,i))}const z1="3.2.7",Yi="",Ed=-1/0,br="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Sx="String expected.",ea=[],Jc=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),GC=Jc,YC=Jc,bx=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),eu="__dbnames",qu="readonly",$u="readwrite";function is(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const Ix={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Cl(e){return typeof e!="string"||/\./.test(e)?t=>t:t=>(t[e]===void 0&&e in t&&delete(t=Fa(t))[e],t)}class XC{_trans(t,n,i){const a=this._tx||ve.trans,l=this.name;function d(p,g,y){if(!y.schema[l])throw new Se.NotFound("Table "+l+" not part of transaction");return n(y.idbtrans,y)}const m=ja();try{return a&&a.db===this.db?a===ve.trans?a._promise(t,d,i):bi(()=>a._promise(t,d,i),{trans:a,transless:ve.transless||ve}):Cd(this.db,t,[this.name],d)}finally{m&&Ua()}}get(t,n){return t&&t.constructor===Object?this.where(t).first(n):this._trans("readonly",i=>this.core.get({trans:i,key:t}).then(a=>this.hook.reading.fire(a))).then(n)}where(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(en(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const n=_t(t);if(n.length===1)return this.where(n[0]).equals(t[n[0]]);const i=this.schema.indexes.concat(this.schema.primKey).filter(g=>{if(g.compound&&n.every(y=>g.keyPath.indexOf(y)>=0)){for(let y=0;y<n.length;++y)if(n.indexOf(g.keyPath[y])===-1)return!1;return!0}return!1}).sort((g,y)=>g.keyPath.length-y.keyPath.length)[0];if(i&&this.db._maxKey!==Yi){const g=i.keyPath.slice(0,n.length);return this.where(g).equals(g.map(y=>t[y]))}!i&&Cr&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:a}=this.schema,l=this.db._deps.indexedDB;function d(g,y){try{return l.cmp(g,y)===0}catch{return!1}}const[m,p]=n.reduce(([g,y],v)=>{const C=a[v],b=t[v];return[g||C,g||!C?is(y,C&&C.multi?R=>{const M=Fr(R,v);return en(M)&&M.some(D=>d(b,D))}:R=>d(b,Fr(R,v))):y]},[null,null]);return m?this.where(m.name).equals(t[m.keyPath]).filter(p):i?this.filter(p):this.where(n).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,en(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;const n=i=>{if(!i)return i;const a=Object.create(t.prototype);for(var l in i)if(Rn(i,l))try{a[l]=i[l]}catch{}return a};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),t}defineClass(){return this.mapToClass(function(t){cn(this,t)})}add(t,n){const{auto:i,keyPath:a}=this.schema.primKey;let l=t;return a&&i&&(l=Cl(a)(t)),this._trans("readwrite",d=>this.core.mutate({trans:d,type:"add",keys:n!=null?[n]:null,values:[l]})).then(d=>d.numFailures?ue.reject(d.failures[0]):d.lastResult).then(d=>{if(a)try{ir(t,a,d)}catch{}return d})}update(t,n){if(typeof t!="object"||en(t))return this.where(":id").equals(t).modify(n);{const i=Fr(t,this.schema.primKey.keyPath);if(i===void 0)return Lt(new Se.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?_t(n).forEach(a=>{ir(t,a,n[a])}):n(t,{value:t,primKey:i})}catch{}return this.where(":id").equals(i).modify(n)}}put(t,n){const{auto:i,keyPath:a}=this.schema.primKey;let l=t;return a&&i&&(l=Cl(a)(t)),this._trans("readwrite",d=>this.core.mutate({trans:d,type:"put",values:[l],keys:n!=null?[n]:null})).then(d=>d.numFailures?ue.reject(d.failures[0]):d.lastResult).then(d=>{if(a)try{ir(t,a,d)}catch{}return d})}delete(t){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[t]})).then(n=>n.numFailures?ue.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:Ix})).then(t=>t.numFailures?ue.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",n=>this.core.getMany({keys:t,trans:n}).then(i=>i.map(a=>this.hook.reading.fire(a))))}bulkAdd(t,n,i){const a=Array.isArray(n)?n:void 0,l=(i=i||(a?void 0:n))?i.allKeys:void 0;return this._trans("readwrite",d=>{const{auto:m,keyPath:p}=this.schema.primKey;if(p&&a)throw new Se.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(a&&a.length!==t.length)throw new Se.InvalidArgument("Arguments objects and keys must have the same length");const g=t.length;let y=p&&m?t.map(Cl(p)):t;return this.core.mutate({trans:d,type:"add",keys:a,values:y,wantResults:l}).then(({numFailures:v,results:C,lastResult:b,failures:R})=>{if(v===0)return l?C:b;throw new $o(`${this.name}.bulkAdd(): ${v} of ${g} operations failed`,R)})})}bulkPut(t,n,i){const a=Array.isArray(n)?n:void 0,l=(i=i||(a?void 0:n))?i.allKeys:void 0;return this._trans("readwrite",d=>{const{auto:m,keyPath:p}=this.schema.primKey;if(p&&a)throw new Se.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(a&&a.length!==t.length)throw new Se.InvalidArgument("Arguments objects and keys must have the same length");const g=t.length;let y=p&&m?t.map(Cl(p)):t;return this.core.mutate({trans:d,type:"put",keys:a,values:y,wantResults:l}).then(({numFailures:v,results:C,lastResult:b,failures:R})=>{if(v===0)return l?C:b;throw new $o(`${this.name}.bulkPut(): ${v} of ${g} operations failed`,R)})})}bulkDelete(t){const n=t.length;return this._trans("readwrite",i=>this.core.mutate({trans:i,type:"delete",keys:t})).then(({numFailures:i,lastResult:a,failures:l})=>{if(i===0)return a;throw new $o(`${this.name}.bulkDelete(): ${i} of ${n} operations failed`,l)})}}function ta(e){var t={},n=function(d,m){if(m){for(var p=arguments.length,g=new Array(p-1);--p;)g[p-1]=arguments[p];return t[d].subscribe.apply(null,g),e}if(typeof d=="string")return t[d]};n.addEventType=l;for(var i=1,a=arguments.length;i<a;++i)l(arguments[i]);return n;function l(d,m,p){if(typeof d!="object"){var g;m||(m=FC),p||(p=$e);var y={subscribers:[],fire:p,subscribe:function(v){y.subscribers.indexOf(v)===-1&&(y.subscribers.push(v),y.fire=m(y.fire,v))},unsubscribe:function(v){y.subscribers=y.subscribers.filter(function(C){return C!==v}),y.fire=y.subscribers.reduce(m,p)}};return t[d]=n[d]=y,y}_t(g=d).forEach(function(v){var C=g[v];if(en(C))l(v,g[v][0],g[v][1]);else{if(C!=="asap")throw new Se.InvalidArgument("Invalid event config");var b=l(v,Sa,function(){for(var R=arguments.length,M=new Array(R);R--;)M[R]=arguments[R];b.subscribers.forEach(function(D){ox(function(){D.apply(null,M)})})})}})}}function ko(e,t){return Xs(t).from({prototype:e}),t}function Es(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Ju(e,t){e.filter=is(e.filter,t)}function ef(e,t,n){var i=e.replayFilter;e.replayFilter=i?()=>is(i(),t()):t,e.justLimit=n&&!i}function Hl(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new Se.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function V1(e,t,n){const i=Hl(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:i,range:e.range}})}function El(e,t,n,i){const a=e.replayFilter?is(e.filter,e.replayFilter()):e.filter;if(e.or){const l={},d=(m,p,g)=>{if(!a||a(p,g,C=>p.stop(C),C=>p.fail(C))){var y=p.primaryKey,v=""+y;v==="[object ArrayBuffer]"&&(v=""+new Uint8Array(y)),Rn(l,v)||(l[v]=!0,t(m,p,g))}};return Promise.all([e.or._iterate(d,n),H1(V1(e,i,n),e.algorithm,d,!e.keysOnly&&e.valueMapper)])}return H1(V1(e,i,n),is(e.algorithm,a),t,!e.keysOnly&&e.valueMapper)}function H1(e,t,n,i){var a=ut(i?(l,d,m)=>n(i(l),d,m):n);return e.then(l=>{if(l)return l.start(()=>{var d=()=>l.continue();t&&!t(l,m=>d=m,m=>{l.stop(m),d=$e},m=>{l.fail(m),d=$e})||a(l.value,l,m=>d=m),d()})})}function an(e,t){try{const n=W1(e),i=W1(t);if(n!==i)return n==="Array"?1:i==="Array"?-1:n==="binary"?1:i==="binary"?-1:n==="string"?1:i==="string"?-1:n==="Date"?1:i!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(a,l){const d=a.length,m=l.length,p=d<m?d:m;for(let g=0;g<p;++g)if(a[g]!==l[g])return a[g]<l[g]?-1:1;return d===m?0:d<m?-1:1}(G1(e),G1(t));case"Array":return function(a,l){const d=a.length,m=l.length,p=d<m?d:m;for(let g=0;g<p;++g){const y=an(a[g],l[g]);if(y!==0)return y}return d===m?0:d<m?-1:1}(e,t)}}catch{}return NaN}function W1(e){const t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";const n=ud(e);return n==="ArrayBuffer"?"binary":n}function G1(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class KC{_read(t,n){var i=this._ctx;return i.error?i.table._trans(null,Lt.bind(null,i.error)):i.table._trans("readonly",t).then(n)}_write(t){var n=this._ctx;return n.error?n.table._trans(null,Lt.bind(null,n.error)):n.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var n=this._ctx;n.algorithm=is(n.algorithm,t)}_iterate(t,n){return El(this._ctx,t,n,this._ctx.table.core)}clone(t){var n=Object.create(this.constructor.prototype),i=Object.create(this._ctx);return t&&cn(i,t),n._ctx=i,n}raw(){return this._ctx.valueMapper=null,this}each(t){var n=this._ctx;return this._read(i=>El(n,t,i,n.table.core))}count(t){return this._read(n=>{const i=this._ctx,a=i.table.core;if(Es(i,!0))return a.count({trans:n,query:{index:Hl(i,a.schema),range:i.range}}).then(d=>Math.min(d,i.limit));var l=0;return El(i,()=>(++l,!1),n,a).then(()=>l)}).then(t)}sortBy(t,n){const i=t.split(".").reverse(),a=i[0],l=i.length-1;function d(g,y){return y?d(g[i[y]],y-1):g[a]}var m=this._ctx.dir==="next"?1:-1;function p(g,y){var v=d(g,l),C=d(y,l);return v<C?-m:v>C?m:0}return this.toArray(function(g){return g.sort(p)}).then(n)}toArray(t){return this._read(n=>{var i=this._ctx;if(i.dir==="next"&&Es(i,!0)&&i.limit>0){const{valueMapper:a}=i,l=Hl(i,i.table.core.schema);return i.table.core.query({trans:n,limit:i.limit,values:!0,query:{index:l,range:i.range}}).then(({result:d})=>a?d.map(a):d)}{const a=[];return El(i,l=>a.push(l),n,i.table.core).then(()=>a)}},t)}offset(t){var n=this._ctx;return t<=0||(n.offset+=t,Es(n)?ef(n,()=>{var i=t;return(a,l)=>i===0||(i===1?(--i,!1):(l(()=>{a.advance(i),i=0}),!1))}):ef(n,()=>{var i=t;return()=>--i<0})),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),ef(this._ctx,()=>{var n=t;return function(i,a,l){return--n<=0&&a(l),n>=0}},!0),this}until(t,n){return Ju(this._ctx,function(i,a,l){return!t(i.value)||(a(l),n)}),this}first(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){var n,i;return Ju(this._ctx,function(a){return t(a.value)}),n=this._ctx,i=t,n.isMatch=is(n.isMatch,i),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(i,a){t(a.key,a)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(i,a){t(a.primaryKey,a)})}keys(t){var n=this._ctx;n.keysOnly=!n.isMatch;var i=[];return this.each(function(a,l){i.push(l.key)}).then(function(){return i}).then(t)}primaryKeys(t){var n=this._ctx;if(n.dir==="next"&&Es(n,!0)&&n.limit>0)return this._read(a=>{var l=Hl(n,n.table.core.schema);return n.table.core.query({trans:a,values:!1,limit:n.limit,query:{index:l,range:n.range}})}).then(({result:a})=>a).then(t);n.keysOnly=!n.isMatch;var i=[];return this.each(function(a,l){i.push(l.primaryKey)}).then(function(){return i}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(n){return n[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var i={};return Ju(this._ctx,function(a){var l=a.primaryKey.toString(),d=Rn(i,l);return i[l]=!0,!d}),this}modify(t){var n=this._ctx;return this._write(i=>{var a;if(typeof t=="function")a=t;else{var l=_t(t),d=l.length;a=function(M){for(var D=!1,_=0;_<d;++_){var S=l[_],I=t[S];Fr(M,S)!==I&&(ir(M,S,I),D=!0)}return D}}const m=n.table.core,{outbound:p,extractKey:g}=m.schema.primaryKey,y=this.db._options.modifyChunkSize||200,v=[];let C=0;const b=[],R=(M,D)=>{const{failures:_,numFailures:S}=D;C+=M-S;for(let I of _t(_))v.push(_[I])};return this.clone().primaryKeys().then(M=>{const D=_=>{const S=Math.min(y,M.length-_);return m.getMany({trans:i,keys:M.slice(_,_+S),cache:"immutable"}).then(I=>{const L=[],V=[],U=p?[]:null,B=[];for(let z=0;z<S;++z){const ie=I[z],oe={value:Fa(ie),primKey:M[_+z]};a.call(oe,oe.value,oe)!==!1&&(oe.value==null?B.push(M[_+z]):p||an(g(ie),g(oe.value))===0?(V.push(oe.value),p&&U.push(M[_+z])):(B.push(M[_+z]),L.push(oe.value)))}const Q=Es(n)&&n.limit===1/0&&(typeof t!="function"||t===tf)&&{index:n.index,range:n.range};return Promise.resolve(L.length>0&&m.mutate({trans:i,type:"add",values:L}).then(z=>{for(let ie in z.failures)B.splice(parseInt(ie),1);R(L.length,z)})).then(()=>(V.length>0||Q&&typeof t=="object")&&m.mutate({trans:i,type:"put",keys:U,values:V,criteria:Q,changeSpec:typeof t!="function"&&t}).then(z=>R(V.length,z))).then(()=>(B.length>0||Q&&t===tf)&&m.mutate({trans:i,type:"delete",keys:B,criteria:Q}).then(z=>R(B.length,z))).then(()=>M.length>_+S&&D(_+y))})};return D(0).then(()=>{if(v.length>0)throw new wc("Error modifying one or more objects",v,C,b);return M.length})})})}delete(){var t=this._ctx,n=t.range;return Es(t)&&(t.isPrimKey&&!YC||n.type===3)?this._write(i=>{const{primaryKey:a}=t.table.core.schema,l=n;return t.table.core.count({trans:i,query:{index:a,range:l}}).then(d=>t.table.core.mutate({trans:i,type:"deleteRange",range:l}).then(({failures:m,lastResult:p,results:g,numFailures:y})=>{if(y)throw new wc("Could not delete some values",Object.keys(m).map(v=>m[v]),d-y);return d-y}))}):this.modify(tf)}}const tf=(e,t)=>t.value=null;function QC(e,t){return e<t?-1:e===t?0:1}function ZC(e,t){return e>t?-1:e===t?0:1}function Sn(e,t,n){var i=e instanceof Tx?new e.Collection(e):e;return i._ctx.error=n?new n(t):new TypeError(t),i}function As(e){return new e.Collection(e,()=>Nx("")).limit(0)}function qC(e,t,n,i,a,l){for(var d=Math.min(e.length,i.length),m=-1,p=0;p<d;++p){var g=t[p];if(g!==i[p])return a(e[p],n[p])<0?e.substr(0,p)+n[p]+n.substr(p+1):a(e[p],i[p])<0?e.substr(0,p)+i[p]+n.substr(p+1):m>=0?e.substr(0,m)+t[m]+n.substr(m+1):null;a(e[p],g)<0&&(m=p)}return d<i.length&&l==="next"?e+n.substr(e.length):d<e.length&&l==="prev"?e.substr(0,n.length):m<0?null:e.substr(0,m)+i[m]+n.substr(m+1)}function Al(e,t,n,i){var a,l,d,m,p,g,y,v=n.length;if(!n.every(M=>typeof M=="string"))return Sn(e,Sx);function C(M){a=function(_){return _==="next"?S=>S.toUpperCase():S=>S.toLowerCase()}(M),l=function(_){return _==="next"?S=>S.toLowerCase():S=>S.toUpperCase()}(M),d=M==="next"?QC:ZC;var D=n.map(function(_){return{lower:l(_),upper:a(_)}}).sort(function(_,S){return d(_.lower,S.lower)});m=D.map(function(_){return _.upper}),p=D.map(function(_){return _.lower}),g=M,y=M==="next"?"":i}C("next");var b=new e.Collection(e,()=>ii(m[0],p[v-1]+i));b._ondirectionchange=function(M){C(M)};var R=0;return b._addAlgorithm(function(M,D,_){var S=M.key;if(typeof S!="string")return!1;var I=l(S);if(t(I,p,R))return!0;for(var L=null,V=R;V<v;++V){var U=qC(S,I,m[V],p[V],d,g);U===null&&L===null?R=V+1:(L===null||d(L,U)>0)&&(L=U)}return D(L!==null?function(){M.continue(L+y)}:_),!1}),b}function ii(e,t,n,i){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:i}}function Nx(e){return{type:1,lower:e,upper:e}}let Tx=class{get Collection(){return this._ctx.table.db.Collection}between(t,n,i,a){i=i!==!1,a=a===!0;try{return this._cmp(t,n)>0||this._cmp(t,n)===0&&(i||a)&&(!i||!a)?As(this):new this.Collection(this,()=>ii(t,n,!i,!a))}catch{return Sn(this,br)}}equals(t){return t==null?Sn(this,br):new this.Collection(this,()=>Nx(t))}above(t){return t==null?Sn(this,br):new this.Collection(this,()=>ii(t,void 0,!0))}aboveOrEqual(t){return t==null?Sn(this,br):new this.Collection(this,()=>ii(t,void 0,!1))}below(t){return t==null?Sn(this,br):new this.Collection(this,()=>ii(void 0,t,!1,!0))}belowOrEqual(t){return t==null?Sn(this,br):new this.Collection(this,()=>ii(void 0,t))}startsWith(t){return typeof t!="string"?Sn(this,Sx):this.between(t,t+Yi,!0,!0)}startsWithIgnoreCase(t){return t===""?this.startsWith(t):Al(this,(n,i)=>n.indexOf(i[0])===0,[t],Yi)}equalsIgnoreCase(t){return Al(this,(n,i)=>n===i[0],[t],"")}anyOfIgnoreCase(){var t=_r.apply(Is,arguments);return t.length===0?As(this):Al(this,(n,i)=>i.indexOf(n)!==-1,t,"")}startsWithAnyOfIgnoreCase(){var t=_r.apply(Is,arguments);return t.length===0?As(this):Al(this,(n,i)=>i.some(a=>n.indexOf(a)===0),t,Yi)}anyOf(){const t=_r.apply(Is,arguments);let n=this._cmp;try{t.sort(n)}catch{return Sn(this,br)}if(t.length===0)return As(this);const i=new this.Collection(this,()=>ii(t[0],t[t.length-1]));i._ondirectionchange=l=>{n=l==="next"?this._ascending:this._descending,t.sort(n)};let a=0;return i._addAlgorithm((l,d,m)=>{const p=l.key;for(;n(p,t[a])>0;)if(++a,a===t.length)return d(m),!1;return n(p,t[a])===0||(d(()=>{l.continue(t[a])}),!1)}),i}notEqual(t){return this.inAnyRange([[Ed,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=_r.apply(Is,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return Sn(this,br)}const n=t.reduce((i,a)=>i?i.concat([[i[i.length-1][1],a]]):[[Ed,a]],null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,n){const i=this._cmp,a=this._ascending,l=this._descending,d=this._min,m=this._max;if(t.length===0)return As(this);if(!t.every(S=>S[0]!==void 0&&S[1]!==void 0&&a(S[0],S[1])<=0))return Sn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Se.InvalidArgument);const p=!n||n.includeLowers!==!1,g=n&&n.includeUppers===!0;let y,v=a;function C(S,I){return v(S[0],I[0])}try{y=t.reduce(function(S,I){let L=0,V=S.length;for(;L<V;++L){const U=S[L];if(i(I[0],U[1])<0&&i(I[1],U[0])>0){U[0]=d(U[0],I[0]),U[1]=m(U[1],I[1]);break}}return L===V&&S.push(I),S},[]),y.sort(C)}catch{return Sn(this,br)}let b=0;const R=g?S=>a(S,y[b][1])>0:S=>a(S,y[b][1])>=0,M=p?S=>l(S,y[b][0])>0:S=>l(S,y[b][0])>=0;let D=R;const _=new this.Collection(this,()=>ii(y[0][0],y[y.length-1][1],!p,!g));return _._ondirectionchange=S=>{S==="next"?(D=R,v=a):(D=M,v=l),y.sort(C)},_._addAlgorithm((S,I,L)=>{for(var V=S.key;D(V);)if(++b,b===y.length)return I(L),!1;return!!function(U){return!R(U)&&!M(U)}(V)||(this._cmp(V,y[b][1])===0||this._cmp(V,y[b][0])===0||I(()=>{v===a?S.continue(y[b][0]):S.continue(y[b][1])}),!1)}),_}startsWithAnyOf(){const t=_r.apply(Is,arguments);return t.every(n=>typeof n=="string")?t.length===0?As(this):this.inAnyRange(t.map(n=>[n,n+Yi])):Sn(this,"startsWithAnyOf() only works with strings")}};function mr(e){return ut(function(t){return Ia(t),e(t.target.error),!1})}function Ia(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const Na="storagemutated",ui="x-storagemutated-1",Ni=ta(null,Na);class $C{_lock(){return Uo(!ve.global),++this._reculock,this._reculock!==1||ve.global||(ve.lockOwnerFor=this),this}_unlock(){if(Uo(!ve.global),--this._reculock==0)for(ve.global||(ve.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{fo(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&ve.lockOwnerFor!==this}create(t){if(!this.mode)return this;const n=this.db.idbdb,i=this.db._state.dbOpenError;if(Uo(!this.idbtrans),!t&&!n)switch(i&&i.name){case"DatabaseClosedError":throw new Se.DatabaseClosed(i);case"MissingAPIError":throw new Se.MissingAPI(i.message,i);default:throw new Se.OpenFailed(i)}if(!this.active)throw new Se.TransactionInactive;return Uo(this._completion._state===null),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=ut(a=>{Ia(a),this._reject(t.error)}),t.onabort=ut(a=>{Ia(a),this.active&&this._reject(new Se.Abort(t.error)),this.active=!1,this.on("abort").fire(a)}),t.oncomplete=ut(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&Ni.storagemutated.fire(t.mutatedParts)}),this}_promise(t,n,i){if(t==="readwrite"&&this.mode!=="readwrite")return Lt(new Se.ReadOnly("Transaction is readonly"));if(!this.active)return Lt(new Se.TransactionInactive);if(this._locked())return new ue((l,d)=>{this._blockedFuncs.push([()=>{this._promise(t,n,i).then(l,d)},ve])});if(i)return bi(()=>{var l=new ue((d,m)=>{this._lock();const p=n(d,m,this);p&&p.then&&p.then(d,m)});return l.finally(()=>this._unlock()),l._lib=!0,l});var a=new ue((l,d)=>{var m=n(l,d,this);m&&m.then&&m.then(l,d)});return a._lib=!0,a}_root(){return this.parent?this.parent._root():this}waitFor(t){var n=this._root();const i=ue.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>i);else{n._waitingFor=i,n._waitingQueue=[];var a=n.idbtrans.objectStore(n.storeNames[0]);(function d(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(a.get(-1/0).onsuccess=d)})()}var l=n._waitingFor;return new ue((d,m)=>{i.then(p=>n._waitingQueue.push(ut(d.bind(null,p))),p=>n._waitingQueue.push(ut(m.bind(null,p)))).finally(()=>{n._waitingFor===l&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Se.Abort))}table(t){const n=this._memoizedTables||(this._memoizedTables={});if(Rn(n,t))return n[t];const i=this.schema[t];if(!i)throw new Se.NotFound("Table "+t+" not part of transaction");const a=new this.db.Table(t,i,this);return a.core=this.db.core.table(t),n[t]=a,a}}function Ad(e,t,n,i,a,l,d){return{name:e,keyPath:t,unique:n,multi:i,auto:a,compound:l,src:(n&&!d?"&":"")+(i?"*":"")+(a?"++":"")+_x(t)}}function _x(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function Ox(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:ax(n,i=>[i.name,i])}}let Ta=e=>{try{return e.only([[]]),Ta=()=>[[]],[[]]}catch{return Ta=()=>Yi,Yi}};function Sd(e){return e==null?()=>{}:typeof e=="string"?function(t){return t.split(".").length===1?i=>i[t]:i=>Fr(i,t)}(e):t=>Fr(t,e)}function Y1(e){return[].slice.call(e)}let JC=0;function na(e){return e==null?":id":typeof e=="string"?e:`[${e.join("+")}]`}function eE(e,t,n){function i(p){if(p.type===3)return null;if(p.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:g,upper:y,lowerOpen:v,upperOpen:C}=p;return g===void 0?y===void 0?null:t.upperBound(y,!!C):y===void 0?t.lowerBound(g,!!v):t.bound(g,y,!!v,!!C)}const{schema:a,hasGetAll:l}=function(p,g){const y=Y1(p.objectStoreNames);return{schema:{name:p.name,tables:y.map(v=>g.objectStore(v)).map(v=>{const{keyPath:C,autoIncrement:b}=v,R=en(C),M=C==null,D={},_={name:v.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:M,compound:R,keyPath:C,autoIncrement:b,unique:!0,extractKey:Sd(C)},indexes:Y1(v.indexNames).map(S=>v.index(S)).map(S=>{const{name:I,unique:L,multiEntry:V,keyPath:U}=S,B={name:I,compound:en(U),keyPath:U,unique:L,multiEntry:V,extractKey:Sd(U)};return D[na(U)]=B,B}),getIndexByKeyPath:S=>D[na(S)]};return D[":id"]=_.primaryKey,C!=null&&(D[na(C)]=_.primaryKey),_})},hasGetAll:y.length>0&&"getAll"in g.objectStore(y[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),d=a.tables.map(p=>function(g){const y=g.name;return{name:y,schema:g,mutate:function({trans:v,type:C,keys:b,values:R,range:M}){return new Promise((D,_)=>{D=ut(D);const S=v.objectStore(y),I=S.keyPath==null,L=C==="put"||C==="add";if(!L&&C!=="delete"&&C!=="deleteRange")throw new Error("Invalid operation type: "+C);const{length:V}=b||R||{length:1};if(b&&R&&b.length!==R.length)throw new Error("Given keys array must have same length as given values array.");if(V===0)return D({numFailures:0,failures:{},results:[],lastResult:void 0});let U;const B=[],Q=[];let z=0;const ie=$=>{++z,Ia($)};if(C==="deleteRange"){if(M.type===4)return D({numFailures:z,failures:Q,results:[],lastResult:void 0});M.type===3?B.push(U=S.clear()):B.push(U=S.delete(i(M)))}else{const[$,me]=L?I?[R,b]:[R,null]:[b,null];if(L)for(let he=0;he<V;++he)B.push(U=me&&me[he]!==void 0?S[C]($[he],me[he]):S[C]($[he])),U.onerror=ie;else for(let he=0;he<V;++he)B.push(U=S[C]($[he])),U.onerror=ie}const oe=$=>{const me=$.target.result;B.forEach((he,G)=>he.error!=null&&(Q[G]=he.error)),D({numFailures:z,failures:Q,results:C==="delete"?b:B.map(he=>he.result),lastResult:me})};U.onerror=$=>{ie($),oe($)},U.onsuccess=oe})},getMany:({trans:v,keys:C})=>new Promise((b,R)=>{b=ut(b);const M=v.objectStore(y),D=C.length,_=new Array(D);let S,I=0,L=0;const V=B=>{const Q=B.target;_[Q._pos]=Q.result,++L===I&&b(_)},U=mr(R);for(let B=0;B<D;++B)C[B]!=null&&(S=M.get(C[B]),S._pos=B,S.onsuccess=V,S.onerror=U,++I);I===0&&b(_)}),get:({trans:v,key:C})=>new Promise((b,R)=>{b=ut(b);const M=v.objectStore(y).get(C);M.onsuccess=D=>b(D.target.result),M.onerror=mr(R)}),query:function(v){return C=>new Promise((b,R)=>{b=ut(b);const{trans:M,values:D,limit:_,query:S}=C,I=_===1/0?void 0:_,{index:L,range:V}=S,U=M.objectStore(y),B=L.isPrimaryKey?U:U.index(L.name),Q=i(V);if(_===0)return b({result:[]});if(v){const z=D?B.getAll(Q,I):B.getAllKeys(Q,I);z.onsuccess=ie=>b({result:ie.target.result}),z.onerror=mr(R)}else{let z=0;const ie=D||!("openKeyCursor"in B)?B.openCursor(Q):B.openKeyCursor(Q),oe=[];ie.onsuccess=$=>{const me=ie.result;return me?(oe.push(D?me.value:me.primaryKey),++z===_?b({result:oe}):void me.continue()):b({result:oe})},ie.onerror=mr(R)}})}(l),openCursor:function({trans:v,values:C,query:b,reverse:R,unique:M}){return new Promise((D,_)=>{D=ut(D);const{index:S,range:I}=b,L=v.objectStore(y),V=S.isPrimaryKey?L:L.index(S.name),U=R?M?"prevunique":"prev":M?"nextunique":"next",B=C||!("openKeyCursor"in V)?V.openCursor(i(I),U):V.openKeyCursor(i(I),U);B.onerror=mr(_),B.onsuccess=ut(Q=>{const z=B.result;if(!z)return void D(null);z.___id=++JC,z.done=!1;const ie=z.continue.bind(z);let oe=z.continuePrimaryKey;oe&&(oe=oe.bind(z));const $=z.advance.bind(z),me=()=>{throw new Error("Cursor not stopped")};z.trans=v,z.stop=z.continue=z.continuePrimaryKey=z.advance=()=>{throw new Error("Cursor not started")},z.fail=ut(_),z.next=function(){let he=1;return this.start(()=>he--?this.continue():this.stop()).then(()=>this)},z.start=he=>{const G=new Promise((le,ee)=>{le=ut(le),B.onerror=mr(ee),z.fail=ee,z.stop=ae=>{z.stop=z.continue=z.continuePrimaryKey=z.advance=me,le(ae)}}),Ce=()=>{if(B.result)try{he()}catch(le){z.fail(le)}else z.done=!0,z.start=()=>{throw new Error("Cursor behind last entry")},z.stop()};return B.onsuccess=ut(le=>{B.onsuccess=Ce,Ce()}),z.continue=ie,z.continuePrimaryKey=oe,z.advance=$,Ce(),G},D(z)},_)})},count({query:v,trans:C}){const{index:b,range:R}=v;return new Promise((M,D)=>{const _=C.objectStore(y),S=b.isPrimaryKey?_:_.index(b.name),I=i(R),L=I?S.count(I):S.count();L.onsuccess=ut(V=>M(V.target.result)),L.onerror=mr(D)})}}}(p)),m={};return d.forEach(p=>m[p.name]=p),{stack:"dbcore",transaction:e.transaction.bind(e),table(p){if(!m[p])throw new Error(`Table '${p}' not found`);return m[p]},MIN_KEY:-1/0,MAX_KEY:Ta(t),schema:a}}function bd({_novip:e},t){const n=t.db,i=function(a,l,{IDBKeyRange:d,indexedDB:m},p){return{dbcore:function(y,v){return v.reduce((C,{create:b})=>({...C,...b(C)}),y)}(eE(l,d,p),a.dbcore)}}(e._middlewares,n,e._deps,t);e.core=i.dbcore,e.tables.forEach(a=>{const l=a.name;e.core.schema.tables.some(d=>d.name===l)&&(a.core=e.core.table(l),e[l]instanceof e.Table&&(e[l].core=a.core))})}function Sc({_novip:e},t,n,i){n.forEach(a=>{const l=i[a];t.forEach(d=>{const m=Lh(d,a);(!m||"value"in m&&m.value===void 0)&&(d===e.Transaction.prototype||d instanceof e.Transaction?Br(d,a,{get(){return this.table(a)},set(p){ix(this,a,{value:p,writable:!0,configurable:!0,enumerable:!0})}}):d[a]=new e.Table(a,l))})})}function Id({_novip:e},t){t.forEach(n=>{for(let i in n)n[i]instanceof e.Table&&delete n[i]})}function tE(e,t){return e._cfg.version-t._cfg.version}function nE(e,t,n,i){const a=e._dbSchema,l=e._createTransaction("readwrite",e._storeNames,a);l.create(n),l._completion.catch(i);const d=l._reject.bind(l),m=ve.transless||ve;bi(()=>{ve.trans=l,ve.transless=m,t===0?(_t(a).forEach(p=>{nf(n,p,a[p].primKey,a[p].indexes)}),bd(e,n),ue.follow(()=>e.on.populate.fire(l)).catch(d)):function({_novip:p},g,y,v){const C=[],b=p._versions;let R=p._dbSchema=Td(p,p.idbdb,v),M=!1;const D=b.filter(S=>S._cfg.version>=g);function _(){return C.length?ue.resolve(C.shift()(y.idbtrans)).then(_):ue.resolve()}return D.forEach(S=>{C.push(()=>{const I=R,L=S._cfg.dbschema;_d(p,I,v),_d(p,L,v),R=p._dbSchema=L;const V=Mx(I,L);V.add.forEach(B=>{nf(v,B[0],B[1].primKey,B[1].indexes)}),V.change.forEach(B=>{if(B.recreate)throw new Se.Upgrade("Not yet support for changing primary key");{const Q=v.objectStore(B.name);B.add.forEach(z=>Nd(Q,z)),B.change.forEach(z=>{Q.deleteIndex(z.name),Nd(Q,z)}),B.del.forEach(z=>Q.deleteIndex(z))}});const U=S._cfg.contentUpgrade;if(U&&S._cfg.version>g){bd(p,v),y._memoizedTables={},M=!0;let B=lx(L);V.del.forEach(oe=>{B[oe]=I[oe]}),Id(p,[p.Transaction.prototype]),Sc(p,[p.Transaction.prototype],_t(B),B),y.schema=B;const Q=Ph(U);let z;Q&&uo();const ie=ue.follow(()=>{if(z=U(y),z&&Q){var oe=Hr.bind(null,null);z.then(oe,oe)}});return z&&typeof z.then=="function"?ue.resolve(z):ie.then(()=>z)}}),C.push(I=>{(!M||!GC)&&function(L,V){[].slice.call(V.db.objectStoreNames).forEach(U=>L[U]==null&&V.db.deleteObjectStore(U))}(S._cfg.dbschema,I),Id(p,[p.Transaction.prototype]),Sc(p,[p.Transaction.prototype],p._storeNames,p._dbSchema),y.schema=p._dbSchema})}),_().then(()=>{var S,I;I=v,_t(S=R).forEach(L=>{I.db.objectStoreNames.contains(L)||nf(I,L,S[L].primKey,S[L].indexes)})})}(e,t,l,n).catch(d)})}function Mx(e,t){const n={del:[],add:[],change:[]};let i;for(i in e)t[i]||n.del.push(i);for(i in t){const a=e[i],l=t[i];if(a){const d={name:i,def:l,recreate:!1,del:[],add:[],change:[]};if(""+(a.primKey.keyPath||"")!=""+(l.primKey.keyPath||"")||a.primKey.auto!==l.primKey.auto&&!Jc)d.recreate=!0,n.change.push(d);else{const m=a.idxByName,p=l.idxByName;let g;for(g in m)p[g]||d.del.push(g);for(g in p){const y=m[g],v=p[g];y?y.src!==v.src&&d.change.push(v):d.add.push(v)}(d.del.length>0||d.add.length>0||d.change.length>0)&&n.change.push(d)}}else n.add.push([i,l])}return n}function nf(e,t,n,i){const a=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return i.forEach(l=>Nd(a,l)),a}function Nd(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Td(e,t,n){const i={};return yc(t.objectStoreNames,0).forEach(a=>{const l=n.objectStore(a);let d=l.keyPath;const m=Ad(_x(d),d||"",!1,!1,!!l.autoIncrement,d&&typeof d!="string",!0),p=[];for(let y=0;y<l.indexNames.length;++y){const v=l.index(l.indexNames[y]);d=v.keyPath;var g=Ad(v.name,d,!!v.unique,!!v.multiEntry,!1,d&&typeof d!="string",!1);p.push(g)}i[a]=Ox(a,m,p)}),i}function _d({_novip:e},t,n){const i=n.db.objectStoreNames;for(let a=0;a<i.length;++a){const l=i[a],d=n.objectStore(l);e._hasGetAll="getAll"in d;for(let m=0;m<d.indexNames.length;++m){const p=d.indexNames[m],g=d.index(p).keyPath,y=typeof g=="string"?g:"["+yc(g).join("+")+"]";if(t[l]){const v=t[l].idxByName[y];v&&(v.name=p,delete t[l].idxByName[y],t[l].idxByName[p]=v)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&at.WorkerGlobalScope&&at instanceof at.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class rE{_parseStoresSpec(t,n){_t(t).forEach(i=>{if(t[i]!==null){var a=t[i].split(",").map((d,m)=>{const p=(d=d.trim()).replace(/([&*]|\+\+)/g,""),g=/^\[/.test(p)?p.match(/^\[(.*)\]$/)[1].split("+"):p;return Ad(p,g||null,/\&/.test(d),/\*/.test(d),/\+\+/.test(d),en(g),m===0)}),l=a.shift();if(l.multi)throw new Se.Schema("Primary key cannot be multi-valued");a.forEach(d=>{if(d.auto)throw new Se.Schema("Only primary key can be marked as autoIncrement (++)");if(!d.keyPath)throw new Se.Schema("Index must have a name and cannot be an empty string")}),n[i]=Ox(i,l,a)}})}stores(t){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?cn(this._cfg.storesSource,t):t;const i=n._versions,a={};let l={};return i.forEach(d=>{cn(a,d._cfg.storesSource),l=d._cfg.dbschema={},d._parseStoresSpec(a,l)}),n._dbSchema=l,Id(n,[n._allTables,n,n.Transaction.prototype]),Sc(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],_t(l),l),n._storeNames=_t(l),this}upgrade(t){return this._cfg.contentUpgrade=jh(this._cfg.contentUpgrade||$e,t),this}}function Hh(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new qi(eu,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function Wh(e){return e&&typeof e.databases=="function"}function Od(e){return bi(function(){return ve.letThrough=!0,e()})}function iE(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()}).finally(function(){return clearInterval(e)}):Promise.resolve()}function sE(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?Lt(t.dbOpenError):e);Cr&&(t.openCanceller._stackHolder=us()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const i=t.openCanceller;function a(){if(t.openCanceller!==i)throw new Se.DatabaseClosed("db.open() was cancelled")}let l=t.dbReadyResolve,d=null,m=!1;const p=()=>new ue((g,y)=>{if(a(),!n)throw new Se.MissingAPI;const v=e.name,C=t.autoSchema?n.open(v):n.open(v,Math.round(10*e.verno));if(!C)throw new Se.MissingAPI;C.onerror=mr(y),C.onblocked=ut(e._fireOnBlocked),C.onupgradeneeded=ut(b=>{if(d=C.transaction,t.autoSchema&&!e._options.allowEmptyDB){C.onerror=Ia,d.abort(),C.result.close();const M=n.deleteDatabase(v);M.onsuccess=M.onerror=ut(()=>{y(new Se.NoSuchDatabase(`Database ${v} doesnt exist`))})}else{d.onerror=mr(y);var R=b.oldVersion>Math.pow(2,62)?0:b.oldVersion;m=R<1,e._novip.idbdb=C.result,nE(e,R/10,d,y)}},y),C.onsuccess=ut(()=>{d=null;const b=e._novip.idbdb=C.result,R=yc(b.objectStoreNames);if(R.length>0)try{const D=b.transaction((M=R).length===1?M[0]:M,"readonly");t.autoSchema?function({_novip:_},S,I){_.verno=S.version/10;const L=_._dbSchema=Td(0,S,I);_._storeNames=yc(S.objectStoreNames,0),Sc(_,[_._allTables],_t(L),L)}(e,b,D):(_d(e,e._dbSchema,D),function(_,S){const I=Mx(Td(0,_.idbdb,S),_._dbSchema);return!(I.add.length||I.change.some(L=>L.add.length||L.change.length))}(e,D)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),bd(e,D)}catch{}var M;ea.push(e),b.onversionchange=ut(D=>{t.vcFired=!0,e.on("versionchange").fire(D)}),b.onclose=ut(D=>{e.on("close").fire(D)}),m&&function({indexedDB:D,IDBKeyRange:_},S){!Wh(D)&&S!==eu&&Hh(D,_).put({name:S}).catch($e)}(e._deps,v),g()},y)}).catch(g=>g&&g.name==="UnknownError"&&t.PR1398_maxLoop>0?(t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),p()):ue.reject(g));return ue.race([i,(typeof navigator>"u"?ue.resolve():iE()).then(p)]).then(()=>(a(),t.onReadyBeingFired=[],ue.resolve(Od(()=>e.on.ready.fire(e.vip))).then(function g(){if(t.onReadyBeingFired.length>0){let y=t.onReadyBeingFired.reduce(jh,$e);return t.onReadyBeingFired=[],ue.resolve(Od(()=>y(e.vip))).then(g)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(g=>{t.dbOpenError=g;try{d&&d.abort()}catch{}return i===t.openCanceller&&e._close(),Lt(g)}).finally(()=>{t.openComplete=!0,l()})}function Md(e){var t=l=>e.next(l),n=a(t),i=a(l=>e.throw(l));function a(l){return d=>{var m=l(d),p=m.value;return m.done?p:p&&typeof p.then=="function"?p.then(n,i):en(p)?Promise.all(p).then(n,i):n(p)}}return a(t)()}function oE(e,t,n){var i=arguments.length;if(i<2)throw new Se.InvalidArgument("Too few arguments");for(var a=new Array(i-1);--i;)a[i-1]=arguments[i];return n=a.pop(),[e,cx(a),n]}function Rx(e,t,n,i,a){return ue.resolve().then(()=>{const l=ve.transless||ve,d=e._createTransaction(t,n,e._dbSchema,i),m={trans:d,transless:l};if(i)d.idbtrans=i.idbtrans;else try{d.create(),e._state.PR1398_maxLoop=3}catch(v){return v.name===Fh.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>Rx(e,t,n,null,a))):Lt(v)}const p=Ph(a);let g;p&&uo();const y=ue.follow(()=>{if(g=a.call(d,d),g)if(p){var v=Hr.bind(null,null);g.then(v,v)}else typeof g.next=="function"&&typeof g.throw=="function"&&(g=Md(g))},m);return(g&&typeof g.then=="function"?ue.resolve(g).then(v=>d.active?v:Lt(new Se.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):y.then(()=>g)).then(v=>(i&&d._resolve(),d._completion.then(()=>v))).catch(v=>(d._reject(v),Lt(v)))})}function Sl(e,t,n){const i=en(e)?e.slice():[e];for(let a=0;a<n;++a)i.push(t);return i}const aE={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:i}=n,a={},l=[];function d(y,v,C){const b=na(y),R=a[b]=a[b]||[],M=y==null?0:typeof y=="string"?1:y.length,D=v>0,_={...C,isVirtual:D,keyTail:v,keyLength:M,extractKey:Sd(y),unique:!D&&C.unique};return R.push(_),_.isPrimaryKey||l.push(_),M>1&&d(M===2?y[0]:y.slice(0,M-1),v+1,C),R.sort((S,I)=>S.keyTail-I.keyTail),_}const m=d(i.primaryKey.keyPath,0,i.primaryKey);a[":id"]=[m];for(const y of i.indexes)d(y.keyPath,0,y);function p(y){const v=y.query.index;return v.isVirtual?{...y,query:{index:v,range:(C=y.query.range,b=v.keyTail,{type:C.type===1?2:C.type,lower:Sl(C.lower,C.lowerOpen?e.MAX_KEY:e.MIN_KEY,b),lowerOpen:!0,upper:Sl(C.upper,C.upperOpen?e.MIN_KEY:e.MAX_KEY,b),upperOpen:!0})}}:y;var C,b}return{...n,schema:{...i,primaryKey:m,indexes:l,getIndexByKeyPath:function(y){const v=a[na(y)];return v&&v[0]}},count:y=>n.count(p(y)),query:y=>n.query(p(y)),openCursor(y){const{keyTail:v,isVirtual:C,keyLength:b}=y.query.index;return C?n.openCursor(p(y)).then(R=>R&&function(M){return Object.create(M,{continue:{value:function(_){_!=null?M.continue(Sl(_,y.reverse?e.MAX_KEY:e.MIN_KEY,v)):y.unique?M.continue(M.key.slice(0,b).concat(y.reverse?e.MIN_KEY:e.MAX_KEY,v)):M.continue()}},continuePrimaryKey:{value(_,S){M.continuePrimaryKey(Sl(_,e.MAX_KEY,v),S)}},primaryKey:{get:()=>M.primaryKey},key:{get(){const _=M.key;return b===1?_[0]:_.slice(0,b)}},value:{get:()=>M.value}})}(R)):n.openCursor(y)}}}}}};function Gh(e,t,n,i){return n=n||{},i=i||"",_t(e).forEach(a=>{if(Rn(t,a)){var l=e[a],d=t[a];if(typeof l=="object"&&typeof d=="object"&&l&&d){const m=ud(l);m!==ud(d)?n[i+a]=t[a]:m==="Object"?Gh(l,d,n,i+a+"."):l!==d&&(n[i+a]=t[a])}else l!==d&&(n[i+a]=t[a])}else n[i+a]=void 0}),_t(t).forEach(a=>{Rn(e,a)||(n[i+a]=t[a])}),n}const lE={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:i}=n.schema;return{...n,mutate(l){const d=ve.trans,{deleting:m,creating:p,updating:g}=d.table(t).hook;switch(l.type){case"add":if(p.fire===$e)break;return d._promise("readwrite",()=>y(l),!0);case"put":if(p.fire===$e&&g.fire===$e)break;return d._promise("readwrite",()=>y(l),!0);case"delete":if(m.fire===$e)break;return d._promise("readwrite",()=>y(l),!0);case"deleteRange":if(m.fire===$e)break;return d._promise("readwrite",()=>function(C){return v(C.trans,C.range,1e4)}(l),!0)}return n.mutate(l);function y(C){const b=ve.trans,R=C.keys||function(M,D){return D.type==="delete"?D.keys:D.keys||D.values.map(M.extractKey)}(i,C);if(!R)throw new Error("Keys missing");return(C=C.type==="add"||C.type==="put"?{...C,keys:R}:{...C}).type!=="delete"&&(C.values=[...C.values]),C.keys&&(C.keys=[...C.keys]),function(M,D,_){return D.type==="add"?Promise.resolve([]):M.getMany({trans:D.trans,keys:_,cache:"immutable"})}(n,C,R).then(M=>{const D=R.map((_,S)=>{const I=M[S],L={onerror:null,onsuccess:null};if(C.type==="delete")m.fire.call(L,_,I,b);else if(C.type==="add"||I===void 0){const V=p.fire.call(L,_,C.values[S],b);_==null&&V!=null&&(_=V,C.keys[S]=_,i.outbound||ir(C.values[S],i.keyPath,_))}else{const V=Gh(I,C.values[S]),U=g.fire.call(L,V,_,I,b);if(U){const B=C.values[S];Object.keys(U).forEach(Q=>{Rn(B,Q)?B[Q]=U[Q]:ir(B,Q,U[Q])})}}return L});return n.mutate(C).then(({failures:_,results:S,numFailures:I,lastResult:L})=>{for(let V=0;V<R.length;++V){const U=S?S[V]:R[V],B=D[V];U==null?B.onerror&&B.onerror(_[V]):B.onsuccess&&B.onsuccess(C.type==="put"&&M[V]?C.values[V]:U)}return{failures:_,results:S,numFailures:I,lastResult:L}}).catch(_=>(D.forEach(S=>S.onerror&&S.onerror(_)),Promise.reject(_)))})}function v(C,b,R){return n.query({trans:C,values:!1,query:{index:i,range:b},limit:R}).then(({result:M})=>y({type:"delete",keys:M,trans:C}).then(D=>D.numFailures>0?Promise.reject(D.failures[0]):M.length<R?{failures:[],numFailures:0,lastResult:void 0}:v(C,{...b,lower:M[M.length-1],lowerOpen:!0},R)))}}}}})};function Dx(e,t,n){try{if(!t||t.keys.length<e.length)return null;const i=[];for(let a=0,l=0;a<t.keys.length&&l<e.length;++a)an(t.keys[a],e[l])===0&&(i.push(n?Fa(t.values[a]):t.values[a]),++l);return i.length===e.length?i:null}catch{return null}}const cE={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:i=>{if(!i.cache)return n.getMany(i);const a=Dx(i.keys,i.trans._cache,i.cache==="clone");return a?ue.resolve(a):n.getMany(i).then(l=>(i.trans._cache={keys:i.keys,values:i.cache==="clone"?Fa(l):l},l))},mutate:i=>(i.type!=="add"&&(i.trans._cache=null),n.mutate(i))}}})};function Yh(e){return!("from"in e)}const Tr=function(e,t){if(!this){const n=new Tr;return e&&"d"in e&&cn(n,e),n}cn(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function _a(e,t,n){const i=an(t,n);if(isNaN(i))return;if(i>0)throw RangeError();if(Yh(e))return cn(e,{from:t,to:n,d:1});const a=e.l,l=e.r;if(an(n,e.from)<0)return a?_a(a,t,n):e.l={from:t,to:n,d:1,l:null,r:null},X1(e);if(an(t,e.to)>0)return l?_a(l,t,n):e.r={from:t,to:n,d:1,l:null,r:null},X1(e);an(t,e.from)<0&&(e.from=t,e.l=null,e.d=l?l.d+1:1),an(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const d=!e.r;a&&!e.l&&bc(e,a),l&&d&&bc(e,l)}function bc(e,t){Yh(t)||function n(i,{from:a,to:l,l:d,r:m}){_a(i,a,l),d&&n(i,d),m&&n(i,m)}(e,t)}function uE(e,t){const n=Rd(t);let i=n.next();if(i.done)return!1;let a=i.value;const l=Rd(e);let d=l.next(a.from),m=d.value;for(;!i.done&&!d.done;){if(an(m.from,a.to)<=0&&an(m.to,a.from)>=0)return!0;an(a.from,m.from)<0?a=(i=n.next(m.from)).value:m=(d=l.next(a.from)).value}return!1}function Rd(e){let t=Yh(e)?null:{s:0,n:e};return{next(n){const i=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,i)for(;t.n.l&&an(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!i||an(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function X1(e){var t,n;const i=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),a=i>1?"r":i<-1?"l":"";if(a){const l=a==="r"?"l":"r",d={...e},m=e[a];e.from=m.from,e.to=m.to,e[a]=m[a],d[a]=m[l],e[l]=d,d.d=K1(d)}e.d=K1(e)}function K1({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}io(Tr.prototype,{add(e){return bc(this,e),this},addKey(e){return _a(this,e,e),this},addKeys(e){return e.forEach(t=>_a(this,t,t)),this},[fd](){return Rd(this)}});const fE={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new Tr(e.MIN_KEY,e.MAX_KEY);return{...e,table:i=>{const a=e.table(i),{schema:l}=a,{primaryKey:d}=l,{extractKey:m,outbound:p}=d,g={...a,mutate:C=>{const b=C.trans,R=b.mutatedParts||(b.mutatedParts={}),M=U=>{const B=`idb://${t}/${i}/${U}`;return R[B]||(R[B]=new Tr)},D=M(""),_=M(":dels"),{type:S}=C;let[I,L]=C.type==="deleteRange"?[C.range]:C.type==="delete"?[C.keys]:C.values.length<50?[[],C.values]:[];const V=C.trans._cache;return a.mutate(C).then(U=>{if(en(I)){S!=="delete"&&(I=U.results),D.addKeys(I);const B=Dx(I,V);B||S==="add"||_.addKeys(I),(B||L)&&function(Q,z,ie,oe){function $(me){const he=Q(me.name||"");function G(le){return le!=null?me.extractKey(le):null}const Ce=le=>me.multiEntry&&en(le)?le.forEach(ee=>he.addKey(ee)):he.addKey(le);(ie||oe).forEach((le,ee)=>{const ae=ie&&G(ie[ee]),ge=oe&&G(oe[ee]);an(ae,ge)!==0&&(ae!=null&&Ce(ae),ge!=null&&Ce(ge))})}z.indexes.forEach($)}(M,l,B,L)}else if(I){const B={from:I.lower,to:I.upper};_.add(B),D.add(B)}else D.add(n),_.add(n),l.indexes.forEach(B=>M(B.name).add(n));return U})}},y=({query:{index:C,range:b}})=>{var R,M;return[C,new Tr((R=b.lower)!==null&&R!==void 0?R:e.MIN_KEY,(M=b.upper)!==null&&M!==void 0?M:e.MAX_KEY)]},v={get:C=>[d,new Tr(C.key)],getMany:C=>[d,new Tr().addKeys(C.keys)],count:y,query:y,openCursor:y};return _t(v).forEach(C=>{g[C]=function(b){const{subscr:R}=ve;if(R){const M=L=>{const V=`idb://${t}/${i}/${L}`;return R[V]||(R[V]=new Tr)},D=M(""),_=M(":dels"),[S,I]=v[C](b);if(M(S.name||"").add(I),!S.isPrimaryKey){if(C!=="count"){const L=C==="query"&&p&&b.values&&a.query({...b,values:!1});return a[C].apply(this,arguments).then(V=>{if(C==="query"){if(p&&b.values)return L.then(({result:B})=>(D.addKeys(B),V));const U=b.values?V.result.map(m):V.result;b.values?D.addKeys(U):_.addKeys(U)}else if(C==="openCursor"){const U=V,B=b.values;return U&&Object.create(U,{key:{get:()=>(_.addKey(U.primaryKey),U.key)},primaryKey:{get(){const Q=U.primaryKey;return _.addKey(Q),Q}},value:{get:()=>(B&&D.addKey(U.primaryKey),U.value)}})}return V})}_.add(n)}}return a[C].apply(this,arguments)}}),g}}}};class qi{constructor(t,n){this._middlewares={},this.verno=0;const i=qi.dependencies;this._options=n={addons:qi.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:a}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const l={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:$e,dbReadyPromise:null,cancelOpen:$e,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var d;l.dbReadyPromise=new ue(m=>{l.dbReadyResolve=m}),l.openCanceller=new ue((m,p)=>{l.cancelOpen=p}),this._state=l,this.name=t,this.on=ta(this,"populate","blocked","versionchange","close",{ready:[jh,$e]}),this.on.ready.subscribe=sx(this.on.ready.subscribe,m=>(p,g)=>{qi.vip(()=>{const y=this._state;if(y.openComplete)y.dbOpenError||ue.resolve().then(p),g&&m(p);else if(y.onReadyBeingFired)y.onReadyBeingFired.push(p),g&&m(p);else{m(p);const v=this;g||m(function C(){v.on.ready.unsubscribe(p),v.on.ready.unsubscribe(C)})}})}),this.Collection=(d=this,ko(KC.prototype,function(m,p){this.db=d;let g=Ix,y=null;if(p)try{g=p()}catch(R){y=R}const v=m._ctx,C=v.table,b=C.hook.reading.fire;this._ctx={table:C,index:v.index,isPrimKey:!v.index||C.schema.primKey.keyPath&&v.index===C.schema.primKey.name,range:g,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:y,or:v.or,valueMapper:b!==Sa?b:null}})),this.Table=function(m){return ko(XC.prototype,function(p,g,y){this.db=m,this._tx=y,this.name=p,this.schema=g,this.hook=m._allTables[p]?m._allTables[p].hook:ta(null,{creating:[LC,$e],reading:[kC,Sa],updating:[BC,$e],deleting:[PC,$e]})})}(this),this.Transaction=function(m){return ko($C.prototype,function(p,g,y,v,C){this.db=m,this.mode=p,this.storeNames=g,this.schema=y,this.chromeTransactionDurability=v,this.idbtrans=null,this.on=ta(this,"complete","error","abort"),this.parent=C||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ue((b,R)=>{this._resolve=b,this._reject=R}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},b=>{var R=this.active;return this.active=!1,this.on.error.fire(b),this.parent?this.parent._reject(b):R&&this.idbtrans&&this.idbtrans.abort(),Lt(b)})})}(this),this.Version=function(m){return ko(rE.prototype,function(p){this.db=m,this._cfg={version:p,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(m){return ko(Tx.prototype,function(p,g,y){this.db=m,this._ctx={table:p,index:g===":id"?null:g,or:y};const v=m._deps.indexedDB;if(!v)throw new Se.MissingAPI;this._cmp=this._ascending=v.cmp.bind(v),this._descending=(C,b)=>v.cmp(b,C),this._max=(C,b)=>v.cmp(C,b)>0?C:b,this._min=(C,b)=>v.cmp(C,b)<0?C:b,this._IDBKeyRange=m._deps.IDBKeyRange})}(this),this.on("versionchange",m=>{m.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",m=>{!m.newVersion||m.newVersion<m.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${m.oldVersion/10}`)}),this._maxKey=Ta(n.IDBKeyRange),this._createTransaction=(m,p,g,y)=>new this.Transaction(m,p,g,this._options.chromeTransactionDurability,y),this._fireOnBlocked=m=>{this.on("blocked").fire(m),ea.filter(p=>p.name===this.name&&p!==this&&!p._state.vcFired).map(p=>p.on("versionchange").fire(m))},this.use(aE),this.use(lE),this.use(fE),this.use(cE),this.vip=Object.create(this,{_vip:{value:!0}}),a.forEach(m=>m(this))}version(t){if(isNaN(t)||t<.1)throw new Se.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new Se.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const n=this._versions;var i=n.filter(a=>a._cfg.version===t)[0];return i||(i=new this.Version(t),n.push(i),n.sort(tE),i.stores({}),this._state.autoSchema=!1,i)}_whenReady(t){return this.idbdb&&(this._state.openComplete||ve.letThrough||this._vip)?t():new ue((n,i)=>{if(this._state.openComplete)return i(new Se.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void i(new Se.DatabaseClosed);this.open().catch($e)}this._state.dbReadyPromise.then(n,i)}).then(t)}use({stack:t,create:n,level:i,name:a}){a&&this.unuse({stack:t,name:a});const l=this._middlewares[t]||(this._middlewares[t]=[]);return l.push({stack:t,create:n,level:i??10,name:a}),l.sort((d,m)=>d.level-m.level),this}unuse({stack:t,name:n,create:i}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(a=>i?a.create!==i:!!n&&a.name!==n)),this}open(){return sE(this)}_close(){const t=this._state,n=ea.indexOf(this);if(n>=0&&ea.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new ue(i=>{t.dbReadyResolve=i}),t.openCanceller=new ue((i,a)=>{t.cancelOpen=a})}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new Se.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,n=this._state;return new ue((i,a)=>{const l=()=>{this.close();var d=this._deps.indexedDB.deleteDatabase(this.name);d.onsuccess=ut(()=>{(function({indexedDB:m,IDBKeyRange:p},g){!Wh(m)&&g!==eu&&Hh(m,p).delete(g).catch($e)})(this._deps,this.name),i()}),d.onerror=mr(a),d.onblocked=this._fireOnBlocked};if(t)throw new Se.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(l):l()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return _t(this._allTables).map(t=>this._allTables[t])}transaction(){const t=oE.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,n,i){let a=ve.trans;a&&a.db===this&&t.indexOf("!")===-1||(a=null);const l=t.indexOf("?")!==-1;let d,m;t=t.replace("!","").replace("?","");try{if(m=n.map(g=>{var y=g instanceof this.Table?g.name:g;if(typeof y!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return y}),t=="r"||t===qu)d=qu;else{if(t!="rw"&&t!=$u)throw new Se.InvalidArgument("Invalid transaction mode: "+t);d=$u}if(a){if(a.mode===qu&&d===$u){if(!l)throw new Se.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");a=null}a&&m.forEach(g=>{if(a&&a.storeNames.indexOf(g)===-1){if(!l)throw new Se.SubTransaction("Table "+g+" not included in parent transaction.");a=null}}),l&&a&&!a.active&&(a=null)}}catch(g){return a?a._promise(null,(y,v)=>{v(g)}):Lt(g)}const p=Rx.bind(null,this,d,m,a,i);return a?a._promise(d,p,"lock"):ve.trans?fo(ve.transless,()=>this._whenReady(p)):this._whenReady(p)}table(t){if(!Rn(this._allTables,t))throw new Se.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const dE=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class hE{constructor(t){this._subscribe=t}subscribe(t,n,i){return this._subscribe(t&&typeof t!="function"?t:{next:t,error:n,complete:i})}[dE](){return this}}function kx(e,t){return _t(t).forEach(n=>{bc(e[n]||(e[n]=new Tr),t[n])}),e}function gE(e){let t,n=!1;const i=new hE(a=>{const l=Ph(e);let d=!1,m={},p={};const g={get closed(){return d},unsubscribe:()=>{d=!0,Ni.storagemutated.unsubscribe(b)}};a.start&&a.start(g);let y=!1,v=!1;function C(){return _t(p).some(M=>m[M]&&uE(m[M],p[M]))}const b=M=>{kx(m,M),C()&&R()},R=()=>{if(y||d)return;m={};const M={},D=function(_){l&&uo();const S=()=>bi(e,{subscr:_,trans:null}),I=ve.trans?fo(ve.transless,S):S();return l&&I.then(Hr,Hr),I}(M);v||(Ni(Na,b),v=!0),y=!0,Promise.resolve(D).then(_=>{n=!0,t=_,y=!1,d||(C()?R():(m={},p=M,a.next&&a.next(_)))},_=>{y=!1,n=!1,a.error&&a.error(_),g.unsubscribe()})};return R(),g});return i.hasValue=()=>n,i.getValue=()=>t,i}let Dd;try{Dd={indexedDB:at.indexedDB||at.mozIndexedDB||at.webkitIndexedDB||at.msIndexedDB,IDBKeyRange:at.IDBKeyRange||at.webkitIDBKeyRange}}catch{Dd={indexedDB:null,IDBKeyRange:null}}const ji=qi;function Wl(e){let t=kr;try{kr=!0,Ni.storagemutated.fire(e)}finally{kr=t}}io(ji,{...Fl,delete:e=>new ji(e,{addons:[]}).delete(),exists:e=>new ji(e,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(e){try{return function({indexedDB:t,IDBKeyRange:n}){return Wh(t)?Promise.resolve(t.databases()).then(i=>i.map(a=>a.name).filter(a=>a!==eu)):Hh(t,n).toCollection().primaryKeys()}(ji.dependencies).then(e)}catch{return Lt(new Se.MissingAPI)}},defineClass:()=>function(e){cn(this,e)},ignoreTransaction:e=>ve.trans?fo(ve.transless,e):e(),vip:Od,async:function(e){return function(){try{var t=Md(e.apply(this,arguments));return t&&typeof t.then=="function"?t:ue.resolve(t)}catch(n){return Lt(n)}}},spawn:function(e,t,n){try{var i=Md(e.apply(n,t||[]));return i&&typeof i.then=="function"?i:ue.resolve(i)}catch(a){return Lt(a)}},currentTransaction:{get:()=>ve.trans||null},waitFor:function(e,t){const n=ue.resolve(typeof e=="function"?ji.ignoreTransaction(e):e).timeout(t||6e4);return ve.trans?ve.trans.waitFor(n):n},Promise:ue,debug:{get:()=>Cr,set:e=>{fx(e,e==="dexie"?()=>!0:bx)}},derive:Xs,extend:cn,props:io,override:sx,Events:ta,on:Ni,liveQuery:gE,extendObservabilitySet:kx,getByKeyPath:Fr,setByKeyPath:ir,delByKeyPath:function(e,t){typeof t=="string"?ir(e,t,void 0):"length"in t&&[].map.call(t,function(n){ir(e,n,void 0)})},shallowClone:lx,deepClone:Fa,getObjectDiff:Gh,cmp:an,asap:ox,minKey:Ed,addons:[],connections:ea,errnames:Fh,dependencies:Dd,semVer:z1,version:z1.split(".").map(e=>parseInt(e)).reduce((e,t,n)=>e+t/Math.pow(10,2*n))}),ji.maxKey=Ta(ji.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Ni(Na,e=>{if(!kr){let t;Jc?(t=document.createEvent("CustomEvent"),t.initCustomEvent(ui,!0,!0,e)):t=new CustomEvent(ui,{detail:e}),kr=!0,dispatchEvent(t),kr=!1}}),addEventListener(ui,({detail:e})=>{kr||Wl(e)}));let kr=!1;if(typeof BroadcastChannel<"u"){const e=new BroadcastChannel(ui);typeof e.unref=="function"&&e.unref(),Ni(Na,t=>{kr||e.postMessage(t)}),e.onmessage=t=>{t.data&&Wl(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Ni(Na,t=>{try{kr||(typeof localStorage<"u"&&localStorage.setItem(ui,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:ui,changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if(t.key===ui){const n=JSON.parse(t.newValue);n&&Wl(n.changedParts)}});const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",function({data:t}){t&&t.type===ui&&Wl(t.changedParts)})}ue.rejectionMapper=function(e,t){if(!e||e instanceof Ks||e instanceof TypeError||e instanceof SyntaxError||!e.name||!B1[e.name])return e;var n=new B1[e.name](t||e.message,e);return"stack"in e&&Br(n,"stack",{get:function(){return this.inner.stack}}),n},fx(Cr,bx);class pE extends qi{constructor(){super("SeemattiBillingDB");el(this,"items");el(this,"bills");el(this,"profiles");this.version(1).stores({items:"++id, name, sku, stock, lowStockLimit, profileId",bills:"++id, billNo, date, customerName, profileId",profiles:"++id, businessName"})}}const Te=new pE,Pe=K.forwardRef(({className:e,variant:t="default",size:n="default",...i},a)=>{const l="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",d={default:"bg-primary text-primary-foreground hover:bg-primary/90 bg-slate-900 text-white hover:bg-slate-800",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 bg-red-500 text-white",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground border-slate-200",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 bg-slate-100",ghost:"hover:bg-accent hover:text-accent-foreground hover:bg-slate-100",link:"text-primary underline-offset-4 hover:underline text-slate-900"},m={default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"};return A.jsx("button",{className:cs(l,d[t],m[n],e),ref:a,...i})});Pe.displayName="Button";const zn=K.forwardRef(({className:e,...t},n)=>A.jsx("div",{ref:n,className:cs("rounded-lg border bg-card text-card-foreground shadow-sm bg-white border-slate-200",e),...t}));zn.displayName="Card";const Or=K.forwardRef(({className:e,...t},n)=>A.jsx("div",{ref:n,className:cs("flex flex-col space-y-1.5 p-6",e),...t}));Or.displayName="CardHeader";const Mr=K.forwardRef(({className:e,...t},n)=>A.jsx("h3",{ref:n,className:cs("text-2xl font-semibold leading-none tracking-tight",e),...t}));Mr.displayName="CardTitle";const tr=K.forwardRef(({className:e,...t},n)=>A.jsx("div",{ref:n,className:cs("p-6 pt-0",e),...t}));tr.displayName="CardContent";const pt=K.forwardRef(({className:e,...t},n)=>A.jsx("input",{className:cs("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 border-slate-200",e),ref:n,...t}));pt.displayName="Input";const mE=(e,t=300,n=.7)=>new Promise((i,a)=>{const l=new FileReader;l.readAsDataURL(e),l.onload=d=>{var p;const m=new Image;m.src=(p=d.target)==null?void 0:p.result,m.onload=()=>{const g=document.createElement("canvas");let y=m.width,v=m.height;y>v?y>t&&(v*=t/y,y=t):v>t&&(y*=t/v,v=t),g.width=y,g.height=v;const C=g.getContext("2d");C==null||C.drawImage(m,0,0,y,v);const b=g.toDataURL("image/jpeg",n);i(b)},m.onerror=g=>a(g)},l.onerror=d=>a(d)}),xE=()=>{const{t:e,i18n:t}=Ba(),n=Wn(()=>Te.profiles.toArray()),[i,a]=K.useState(!1),[l,d]=K.useState({}),m=()=>{const C=t.language==="en"?"ta":"en";t.changeLanguage(C)},p=async()=>{if(!l.businessName)return;const C={businessName:l.businessName||"",address:l.address||"",phone:l.phone||"",upiId:l.upiId||"",logo:l.logo||""};l.id?await Te.profiles.update(l.id,C):await Te.profiles.add(C),a(!1),d({})},g=C=>{C&&Te.profiles.delete(C)},y=async()=>{const C={profiles:await Te.profiles.toArray(),items:await Te.items.toArray(),bills:await Te.bills.toArray(),timestamp:new Date().toISOString()},b=new Blob([JSON.stringify(C,null,2)],{type:"application/json"}),R=URL.createObjectURL(b),M=document.createElement("a");M.href=R,M.download=`seematti_backup_${new Date().toISOString().split("T")[0]}.json`,M.click()},v=()=>{const C=document.createElement("input");C.type="file",C.accept="application/json",C.onchange=b=>{var D;const R=(D=b.target.files)==null?void 0:D[0];if(!R)return;const M=new FileReader;M.onload=async _=>{var S;try{const I=JSON.parse((S=_.target)==null?void 0:S.result);await Te.transaction("rw",Te.items,Te.bills,Te.profiles,async()=>{await Te.items.clear(),await Te.bills.clear(),await Te.profiles.clear(),await Te.items.bulkAdd(I.items||[]),await Te.bills.bulkAdd(I.bills||[]),await Te.profiles.bulkAdd(I.profiles||[])}),alert("Restore Successful!")}catch(I){console.error(I),alert("Restore Failed")}},M.readAsText(R)},C.click()};return A.jsxs("div",{className:"p-4 space-y-6 max-w-md mx-auto pb-24",children:[A.jsx("h1",{className:"text-2xl font-bold",children:e("settings")}),A.jsxs(zn,{children:[A.jsx(Or,{className:"pb-2",children:A.jsxs(Mr,{className:"text-lg flex items-center gap-2",children:[A.jsx(x3,{className:"w-5 h-5"}),e("language")]})}),A.jsx(tr,{children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("span",{children:t.language==="en"?"English":""}),A.jsxs(Pe,{variant:"outline",size:"sm",onClick:m,children:["Switch to ",t.language==="en"?"Tamil":"English"]})]})})]}),A.jsxs(zn,{children:[A.jsxs(Or,{className:"pb-2 flex flex-row items-center justify-between",children:[A.jsx(Mr,{className:"text-lg",children:e("profile")}),A.jsx(Pe,{size:"sm",variant:"ghost",onClick:()=>{d({}),a(!i)},children:A.jsx(Rh,{className:"w-5 h-5"})})]}),A.jsxs(tr,{className:"space-y-4",children:[n==null?void 0:n.map(C=>A.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-slate-50",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[C.logo&&A.jsx("img",{src:C.logo,alt:"Logo",className:"w-10 h-10 object-contain rounded bg-white border"}),A.jsxs("div",{children:[A.jsx("p",{className:"font-semibold",children:C.businessName}),A.jsx("p",{className:"text-sm text-gray-500",children:C.phone})]})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx(Pe,{variant:"ghost",size:"icon",onClick:()=>{d(C),a(!0)},children:A.jsx(xc,{className:"w-4 h-4 text-slate-500"})}),A.jsx(Pe,{variant:"ghost",size:"icon",onClick:()=>g(C.id),children:A.jsx(Dh,{className:"w-4 h-4 text-red-500"})})]})]},C.id)),i&&A.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-slate-50 mt-4 animate-in fade-in slide-in-from-top-2",children:[A.jsx("h3",{className:"font-medium text-sm",children:l.id?"Edit Profile":"New Profile"}),A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:"h-16 w-16 bg-white border rounded flex items-center justify-center overflow-hidden relative",children:l.logo?A.jsx("img",{src:l.logo,alt:"Preview",className:"h-full w-full object-contain"}):A.jsx("span",{className:"text-xs text-gray-400",children:"No Logo"})}),A.jsxs("div",{className:"flex-1",children:[A.jsx("label",{className:"text-xs font-medium block mb-1",children:"Business Logo"}),A.jsx(pt,{type:"file",accept:"image/*",onChange:async C=>{var R;const b=(R=C.target.files)==null?void 0:R[0];if(b)try{const M=await mE(b);d({...l,logo:M})}catch{alert("Error processing image")}}}),A.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"Max size optimized for thermal printing"})]})]}),A.jsx(pt,{placeholder:"Business Name",value:l.businessName||"",onChange:C=>d({...l,businessName:C.target.value})}),A.jsx(pt,{placeholder:"Address",value:l.address||"",onChange:C=>d({...l,address:C.target.value})}),A.jsx(pt,{placeholder:"Phone",value:l.phone||"",onChange:C=>d({...l,phone:C.target.value})}),A.jsx(pt,{placeholder:"UPI ID (e.g. name@okhdfcbank)",value:l.upiId||"",onChange:C=>d({...l,upiId:C.target.value})}),A.jsxs("div",{className:"flex gap-2 justify-end mt-2",children:[A.jsx(Pe,{variant:"ghost",size:"sm",onClick:()=>a(!1),children:e("cancel")}),A.jsx(Pe,{size:"sm",onClick:p,children:e("save")})]})]})]}),A.jsxs("div",{className:"p-4 border-t bg-gray-50 rounded-b-lg",children:[A.jsx("label",{className:"text-xs font-medium uppercase text-slate-500 block mb-2",children:"Default Business Profile"}),A.jsxs("select",{className:"w-full p-2 border rounded-md text-sm",value:localStorage.getItem("defaultProfileId")||"",onChange:C=>{localStorage.setItem("defaultProfileId",C.target.value),alert("Default profile saved")},children:[A.jsx("option",{value:"",children:"Select Default Profile"}),n==null?void 0:n.map(C=>A.jsx("option",{value:C.id,children:C.businessName},C.id))]})]})]}),A.jsxs(zn,{children:[A.jsx(Or,{className:"pb-2",children:A.jsxs(Mr,{className:"text-lg flex items-center gap-2",children:[A.jsx(xc,{className:"w-5 h-5"}),"Printer & Template"]})}),A.jsxs(tr,{className:"space-y-4",children:[A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-xs font-medium uppercase text-slate-500",children:"Default Printer Type"}),A.jsxs("select",{className:"w-full p-2 border rounded-md text-sm",onChange:C=>{localStorage.setItem("defaultPrinterType",C.target.value),alert("Default printer saved")},defaultValue:localStorage.getItem("defaultPrinterType")||"thermal",children:[A.jsx("option",{value:"ask",children:"Always Ask"}),A.jsx("option",{value:"thermal",children:"Thermal (58mm/80mm)"}),A.jsx("option",{value:"a4",children:"A4 Professional"})]})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-xs font-medium uppercase text-slate-500",children:"Bill Template Options"}),A.jsx("div",{className:"space-y-2",children:[{id:"showShopName",label:"Show Shop Name"},{id:"showAddress",label:"Show Address"},{id:"showPhone",label:"Show Phone Number"},{id:"showLogo",label:"Show Logo"},{id:"showFooter",label:"Show Footer"},{id:"showSavings",label:"Show MRP Savings"}].map(C=>A.jsxs("div",{className:"flex items-center justify-between p-2 border rounded bg-slate-50",children:[A.jsx("span",{className:"text-sm",children:C.label}),A.jsx("input",{type:"checkbox",defaultChecked:localStorage.getItem(C.id)!=="false",onChange:b=>localStorage.setItem(C.id,String(b.target.checked))})]},C.id))}),A.jsxs("div",{className:"pt-2 space-y-2",children:[A.jsx("label",{className:"text-xs font-medium uppercase text-slate-500",children:"Footer Message"}),A.jsx(pt,{placeholder:"e.g. Thank You Visit Again",defaultValue:localStorage.getItem("footerMessage")||"*** Thank You ***",onChange:C=>localStorage.setItem("footerMessage",C.target.value)})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-xs font-medium uppercase text-slate-500",children:"Business Tagline / Description"}),A.jsx(pt,{placeholder:"e.g. Best Quality Textiles",defaultValue:localStorage.getItem("businessDescription")||"",onChange:C=>localStorage.setItem("businessDescription",C.target.value)})]}),A.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[A.jsx("label",{className:"text-xs font-medium uppercase text-slate-500",children:"Bill Layout Order"}),A.jsx("p",{className:"text-[10px] text-gray-500",children:"Reorder sections for the bill print."}),A.jsx(wE,{})]})]})]})]}),A.jsxs(zn,{children:[A.jsx(Or,{className:"pb-2",children:A.jsxs(Mr,{className:"text-lg flex items-center gap-2",children:[A.jsx(id,{className:"w-5 h-5"}),"Google Drive Backup"]})}),A.jsx(tr,{children:A.jsx(yE,{profiles:n})})]}),A.jsxs(zn,{children:[A.jsx(Or,{className:"pb-2",children:A.jsxs(Mr,{className:"text-lg flex items-center gap-2",children:[A.jsx(id,{className:"w-5 h-5"}),"Data"]})}),A.jsxs(tr,{className:"flex flex-col gap-2",children:[A.jsx(Pe,{variant:"outline",onClick:y,className:"w-full justify-start",children:"Export Backup (JSON)"}),A.jsx(Pe,{variant:"outline",onClick:v,className:"w-full justify-start",children:"Restore from Backup"}),A.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Google Drive Sync can be implemented by uploading the exported JSON manually for now."})]})]})]})},yE=({profiles:e})=>{var g,y;const[t,n]=K.useState(null),[i,a]=K.useState(!1),[l,d]=K.useState(!1);K.useEffect(()=>{(async()=>{const C=localStorage.getItem("google_user_info"),b=localStorage.getItem("google_access_token");if(console.log("Checking Auth State:",{savedUser:!!C,accessToken:!!b}),C)try{n(JSON.parse(C)),console.log("Restored user from localStorage");return}catch(R){console.error("Failed to parse saved user info",R),localStorage.removeItem("google_user_info")}if(b){console.log("Attempting self-healing using token...");try{const R=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${b}`}});if(R.ok){const M=await R.json(),D={email:M.email,name:M.name,picture:M.picture};n(D),localStorage.setItem("google_user_info",JSON.stringify(D)),console.log("Self-healing successful")}else console.warn("Token invalid, clearing storage"),localStorage.removeItem("google_access_token")}catch(R){console.error("Failed to restore session from token",R)}}})()},[]);const m=()=>{d(!0),console.log("Initiating Google Sign In...");try{google.accounts.oauth2.initTokenClient({client_id:"565050862630-om576uifgf6knncs42t2s3e2h2648buc.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/drive.file email profile",callback:async C=>{if(console.log("Token response received",C),C&&C.access_token)try{const R=await(await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${C.access_token}`}})).json(),M={email:R.email,name:R.name,picture:R.picture};console.log("User info fetched",M),n(M),localStorage.setItem("google_access_token",C.access_token),localStorage.setItem("google_user_info",JSON.stringify(M)),console.log("Detailed saved to localStorage"),a(!1)}catch(b){console.error("Error fetching user info",b),alert("Failed to get user profile")}d(!1)},error_callback:C=>{console.error("Auth Error",C),alert("Google Sign In Failed. Check console."),d(!1)}}).requestAccessToken()}catch(v){console.error(v),alert("Google Sign In configuration missing or invalid origin"),d(!1)}},p=async(v,C)=>{t&&(C?await Te.profiles.update(v,{linkedGoogleEmail:t.email}):await Te.profiles.update(v,{linkedGoogleEmail:void 0}))};return A.jsxs("div",{className:"space-y-4",children:[t?A.jsxs("div",{className:"space-y-3",children:[A.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 text-blue-800 rounded-lg",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-200 flex items-center justify-center font-bold text-xs overflow-hidden",children:t.picture?A.jsx("img",{src:t.picture,referrerPolicy:"no-referrer"}):A.jsx("span",{children:((y=(g=t.name)==null?void 0:g[0])==null?void 0:y.toUpperCase())||"U"})}),A.jsxs("div",{children:[A.jsx("div",{className:"text-sm font-bold",children:t.email}),A.jsx("div",{className:"text-xs",children:"Connected to Drive"})]})]}),A.jsx(Pe,{variant:"ghost",size:"sm",onClick:()=>{n(null),localStorage.removeItem("google_access_token"),localStorage.removeItem("google_user_info"),console.log("User signed out manually")},className:"text-red-500 hover:text-red-600",children:"Disconnect"})]}),A.jsxs("div",{className:"pt-2",children:[A.jsx("h4",{className:"text-sm font-medium mb-2",children:"Link Profiles to this Account"}),A.jsx("div",{className:"space-y-2",children:e==null?void 0:e.map(v=>{const C=v.linkedGoogleEmail===t.email,b=v.linkedGoogleEmail&&!C;return A.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[v.logo&&A.jsx("img",{src:v.logo,className:"w-6 h-6 rounded"}),A.jsx("span",{className:"text-sm",children:v.businessName})]}),b?A.jsxs("span",{className:"text-xs text-orange-500",children:["Linked to ",v.linkedGoogleEmail]}):A.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-blue-600",checked:C,onChange:R=>p(v.id,R.target.checked)})]},v.id)})})]})]}):A.jsxs("div",{className:"text-center p-4 border rounded-lg bg-slate-50 border-dashed",children:[A.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Sign in to sync your data to Google Drive"}),A.jsxs(Pe,{onClick:()=>a(!0),className:"bg-white text-gray-700 border hover:bg-gray-50",children:[A.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/c/c1/Google_%22G%22_logo.svg",className:"w-4 h-4 mr-2"}),"Sign in with Google"]})]}),i&&A.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm overflow-hidden shadow-2xl animate-in fade-in zoom-in-95 duration-200",children:[A.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-gray-50",children:[A.jsx("h3",{className:"font-semibold text-gray-700",children:"Sync Setup"}),A.jsx("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-gray-600 text-lg",children:""})]}),A.jsxs("div",{className:"p-6 space-y-6",children:[A.jsxs("div",{className:"space-y-1 text-center",children:[A.jsx("div",{className:"mx-auto w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mb-2 text-blue-600",children:A.jsx(id,{className:"w-6 h-6"})}),A.jsx("h2",{className:"text-lg font-bold",children:"Connect Google Drive"}),A.jsx("p",{className:"text-xs text-gray-500",children:"Securely back up your business data."})]}),A.jsxs(Pe,{onClick:m,disabled:l,className:"w-full bg-white text-gray-700 border hover:bg-gray-50 py-6",children:[A.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/c/c1/Google_%22G%22_logo.svg",className:"w-5 h-5 mr-3"}),l?"Connecting...":"Continue with Google"]}),A.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg text-xs space-y-2 border border-blue-100",children:[A.jsxs("p",{className:"font-semibold text-blue-700 flex items-center gap-1",children:[A.jsx("span",{className:"w-4 h-4 bg-blue-600 text-white rounded-full inline-flex items-center justify-center text-[10px]",children:"?"}),"How it works"]}),A.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-blue-800",children:[A.jsx("li",{children:"Authenticate with your Google Account."}),A.jsx("li",{children:"Grant permission to access file storage."}),A.jsx("li",{children:"Select which profiles to sync."}),A.jsx("li",{children:"Automatic backups will be saved to your Drive."})]})]})]})]})})]})},wE=()=>{const e=[{id:"logo",label:"Logo"},{id:"shopName",label:"Shop Name"},{id:"description",label:"Description"},{id:"address",label:"Address"},{id:"phone",label:"Phone"},{id:"billMeta",label:"Bill No & Date"},{id:"items",label:"Items List"},{id:"totals",label:"Totals (Amt, Disc, Save)"},{id:"footer",label:"Footer Message"}],[t,n]=K.useState(()=>{const a=localStorage.getItem("billLayoutOrder");return a?JSON.parse(a).map(d=>e.find(m=>m.id===d)||{id:d,label:d}):e}),i=(a,l)=>{const d=[...t],m=l==="up"?a-1:a+1;m<0||m>=d.length||([d[a],d[m]]=[d[m],d[a]],n(d),localStorage.setItem("billLayoutOrder",JSON.stringify(d.map(p=>p.id))))};return A.jsx("div",{className:"space-y-1 bg-slate-50 p-2 rounded",children:t.map((a,l)=>A.jsxs("div",{className:"flex items-center justify-between text-sm bg-white p-2 border rounded",children:[A.jsx("span",{children:a.label}),A.jsxs("div",{className:"flex gap-1",children:[A.jsx(Pe,{size:"icon",variant:"ghost",className:"h-6 w-6",disabled:l===0,onClick:()=>i(l,"up"),children:A.jsx(p3,{className:"w-3 h-3"})}),A.jsx(Pe,{size:"icon",variant:"ghost",className:"h-6 w-6",disabled:l===t.length-1,onClick:()=>i(l,"down"),children:A.jsx(g3,{className:"w-3 h-3"})})]})]},a.id))})},vE=()=>{const{id:e}=Ov(),[t]=c3(),n=t.get("template")||"simple",i=t.get("autoprint")==="true",a=Wn(()=>Te.bills.get(Number(e)),[e]),l=Wn(()=>Te.profiles.toArray()),d=l==null?void 0:l[0],m=K.useRef(!1);if(K.useEffect(()=>{a&&d&&i&&!m.current&&(m.current=!0,setTimeout(()=>window.print(),500))},[a,d,i]),!a||!d)return A.jsx("div",{children:"Loading..."});if(n==="simple"){const p=["logo","shopName","description","address","phone","billMeta","items","totals","footer"],g=localStorage.getItem("billLayoutOrder"),y=g?JSON.parse(g):p,v=C=>{switch(C){case"logo":return d.logo&&localStorage.getItem("showLogo")!=="false"?A.jsx("div",{className:"flex justify-center mb-2",children:A.jsx("img",{src:d.logo,alt:"Logo",className:"max-w-[40mm] max-h-[20mm] object-contain grayscale"})}):null;case"shopName":return localStorage.getItem("showShopName")!=="false"?A.jsx("div",{className:"text-center font-bold text-lg",children:d.businessName}):null;case"description":return localStorage.getItem("businessDescription")?A.jsx("div",{className:"text-center text-[10px] italic mb-1",children:localStorage.getItem("businessDescription")}):null;case"address":return localStorage.getItem("showAddress")!=="false"?A.jsx("div",{className:"text-center whitespace-pre-wrap",children:d.address}):null;case"phone":return localStorage.getItem("showPhone")!=="false"?A.jsx("div",{className:"text-center",children:d.phone}):null;case"billMeta":return A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"border-b border-black my-2 border-dashed"}),A.jsxs("div",{className:"flex justify-between",children:[A.jsxs("span",{children:["Bill: ",a.billNo]}),A.jsx("span",{children:new Date(a.date).toLocaleDateString()})]})]});case"items":const b=a.items.reduce((D,_)=>D+_.quantity,0),R=a.items.reduce((D,_)=>D+_.mrp*_.quantity,0),M=a.items.reduce((D,_)=>D+_.price*_.quantity,0);return A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"border-b border-black my-2 border-dashed"}),A.jsxs("div",{className:"flex font-bold text-[11px]",children:[A.jsx("span",{className:"w-6",children:"Qty"}),A.jsx("span",{className:"flex-1",children:"Item"}),A.jsx("span",{className:"w-10 text-right",children:"MRP"}),A.jsx("span",{className:"w-12 text-right",children:"Amt"})]}),a.items.map((D,_)=>A.jsxs("div",{className:"flex items-center text-[11px]",children:[A.jsx("span",{className:"w-6",children:D.quantity}),A.jsx("span",{className:"flex-1 truncate",children:D.name}),A.jsx("span",{className:"w-10 text-right text-gray-500",children:D.mrp}),A.jsx("span",{className:"w-12 text-right font-bold",children:(D.price*D.quantity).toFixed(0)})]},_)),A.jsxs("div",{className:"border-t border-black border-dashed mt-1 pt-1 flex text-[11px] font-bold",children:[A.jsx("span",{className:"w-6",children:b}),A.jsx("span",{className:"flex-1 text-right pr-2",children:"Total"}),A.jsx("span",{className:"w-10 text-right",children:R}),A.jsx("span",{className:"w-12 text-right",children:M.toFixed(0)})]}),A.jsx("div",{className:"border-b border-black my-1 border-dashed"})]});case"totals":return A.jsxs(A.Fragment,{children:[Number(a.discount)>0&&A.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[A.jsx("span",{children:"Discount"}),A.jsxs("span",{children:["",a.discount]})]}),A.jsxs("div",{className:"flex justify-between font-extrabold text-lg",children:[A.jsx("span",{children:"Grand Total"}),A.jsxs("span",{children:["",a.totalAmount.toFixed(0)]})]}),localStorage.getItem("showSavings")!=="false"&&A.jsxs("div",{className:"text-center font-bold mt-2 border border-black p-1 rounded",children:["You Saved: ",(a.items.reduce((D,_)=>D+(_.mrp-_.price)*_.quantity,0)+(a.discount||0)).toFixed(0)]})]});case"footer":return localStorage.getItem("showFooter")!=="false"?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"text-center mt-4",children:localStorage.getItem("footerMessage")||"*** Thank You ***"}),A.jsx("div",{className:"text-center text-[10px] text-gray-500",children:"Provided by Seematti Billing"})]}):null;default:return null}};return A.jsx("div",{className:"w-[58mm] text-[12px] font-mono p-2 mx-auto bg-white",children:y.map(C=>A.jsx(K.Fragment,{children:v(C)},C))})}return A.jsxs("div",{className:"p-8 max-w-4xl mx-auto bg-white min-h-screen print:p-0",children:[A.jsxs("div",{className:"flex justify-between items-start mb-8",children:[A.jsxs("div",{className:"flex gap-4",children:[d.logo&&localStorage.getItem("showLogo")!=="false"&&A.jsx("img",{src:d.logo,alt:"Logo",className:"w-24 h-24 object-contain"}),A.jsxs("div",{children:[A.jsx("h1",{className:"text-3xl font-bold text-blue-900",children:d.businessName}),localStorage.getItem("businessDescription")&&A.jsx("p",{className:"text-gray-500 italic mb-2",children:localStorage.getItem("businessDescription")}),A.jsx("p",{className:"text-gray-600 w-64 whitespace-pre-wrap",children:d.address}),A.jsxs("p",{className:"text-gray-600",children:["Ph: ",d.phone]})]})]}),A.jsxs("div",{className:"text-right",children:[A.jsx("h2",{className:"text-2xl font-light text-gray-500",children:"INVOICE"}),A.jsxs("p",{className:"font-bold",children:["#",a.billNo]}),A.jsxs("p",{children:["Date: ",new Date(a.date).toLocaleDateString()]})]})]}),A.jsxs("div",{className:"mb-8",children:[A.jsx("p",{className:"text-gray-600 text-sm",children:"Bill To:"}),A.jsx("p",{className:"font-bold text-lg",children:a.customerName||"Walk-in Customer"})]}),A.jsxs("table",{className:"w-full mb-8",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"bg-slate-100 text-slate-600 text-left text-sm uppercase tracking-wider",children:[A.jsx("th",{className:"p-3",children:"Item Description"}),A.jsx("th",{className:"p-3 text-right",children:"Price"}),A.jsx("th",{className:"p-3 text-right",children:"Qty"}),A.jsx("th",{className:"p-3 text-right",children:"Total"})]})}),A.jsx("tbody",{className:"divide-y",children:a.items.map((p,g)=>A.jsxs("tr",{children:[A.jsxs("td",{className:"p-3 font-medium",children:[p.name,p.mrp>p.price&&A.jsxs("div",{className:"text-xs text-green-600",children:["MRP: ",p.mrp]})]}),A.jsxs("td",{className:"p-3 text-right",children:["",p.price]}),A.jsx("td",{className:"p-3 text-right",children:p.quantity}),A.jsxs("td",{className:"p-3 text-right font-bold",children:["",p.price*p.quantity]})]},g))}),A.jsx("tfoot",{className:"border-t-2 border-slate-200 font-bold bg-slate-50",children:A.jsxs("tr",{children:[A.jsx("td",{className:"p-3 text-right",colSpan:2}),A.jsx("td",{className:"p-3 text-right",children:a.items.reduce((p,g)=>p+g.quantity,0)}),A.jsx("td",{className:"p-3"})]})})]}),A.jsx("div",{className:"flex justify-end",children:A.jsxs("div",{className:"w-64 space-y-2",children:[A.jsxs("div",{className:"flex justify-between text-gray-500 font-medium pb-2 border-b",children:[A.jsx("span",{children:"Total MRP"}),A.jsxs("span",{className:"line-through decoration-red-500",children:["",a.items.reduce((p,g)=>p+g.mrp*g.quantity,0).toFixed(2)]})]}),localStorage.getItem("showSavings")!=="false"&&A.jsxs("div",{className:"flex justify-between text-green-600 font-medium",children:[A.jsx("span",{children:"You Saved"}),A.jsxs("span",{children:["",(a.items.reduce((p,g)=>p+(g.mrp-g.price)*g.quantity,0)+(a.discount||0)).toFixed(2)]})]}),Number(a.discount)>0&&A.jsxs("div",{className:"flex justify-between text-sm pt-2",children:[A.jsx("span",{children:"Discount"}),A.jsxs("span",{children:["",a.discount]})]}),A.jsxs("div",{className:"flex justify-between font-bold text-xl pt-4 border-t",children:[A.jsx("span",{children:"Total Amount"}),A.jsxs("span",{children:["",a.totalAmount.toFixed(2)]})]})]})}),A.jsx("div",{className:"mt-16 text-center text-gray-500 text-sm",children:A.jsx("p",{children:localStorage.getItem("footerMessage")||"Thank you for your business!"})})]})};var fe;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(fe||(fe={}));var Q1=new Map([[fe.QR_CODE,"QR_CODE"],[fe.AZTEC,"AZTEC"],[fe.CODABAR,"CODABAR"],[fe.CODE_39,"CODE_39"],[fe.CODE_93,"CODE_93"],[fe.CODE_128,"CODE_128"],[fe.DATA_MATRIX,"DATA_MATRIX"],[fe.MAXICODE,"MAXICODE"],[fe.ITF,"ITF"],[fe.EAN_13,"EAN_13"],[fe.EAN_8,"EAN_8"],[fe.PDF_417,"PDF_417"],[fe.RSS_14,"RSS_14"],[fe.RSS_EXPANDED,"RSS_EXPANDED"],[fe.UPC_A,"UPC_A"],[fe.UPC_E,"UPC_E"],[fe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Z1;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Z1||(Z1={}));function CE(e){return Object.values(fe).includes(e)}var Ti;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Ti||(Ti={}));var Jn=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Ti.SCAN_TYPE_CAMERA,Ti.SCAN_TYPE_FILE],e}(),Lx=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Q1.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Q1.get(t))},e}(),q1=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),kd;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(kd||(kd={}));var Px=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:kd.UNKWOWN_ERROR}},e}(),Bx=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function pr(e){return typeof e>"u"||e===null}function EE(e,t,n){return e>n?n:e<t?t:e}var js=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Ye=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),$1=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),Fx=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var i=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(i,"."),!0),!1}for(var a=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],l=new Set(a),d=Object.keys(t),m=0,p=d;m<p.length;m++){var g=p[m];if(l.has(g))return n.logError("".concat(g," is not supported videoConstaints."),!0),!1}return!0},e}(),Ld={exports:{}};(function(e,t){(function(n,i){i(t)})(Ao,function(n){function i(N){return N==null}var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,r){N.__proto__=r}||function(N,r){for(var s in r)r.hasOwnProperty(s)&&(N[s]=r[s])};function l(N,r){a(N,r);function s(){this.constructor=N}N.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}function d(N,r){var s=Object.setPrototypeOf;s?s(N,r):N.__proto__=r}function m(N,r){r===void 0&&(r=N.constructor);var s=Error.captureStackTrace;s&&s(N,r)}var p=function(N){l(r,N);function r(s){var o=this.constructor,c=N.call(this,s)||this;return Object.defineProperty(c,"name",{value:o.name,enumerable:!1}),d(c,o.prototype),m(c),c}return r}(Error);class g extends p{constructor(r=void 0){super(r),this.message=r}getKind(){return this.constructor.kind}}g.kind="Exception";class y extends g{}y.kind="ArgumentException";class v extends g{}v.kind="IllegalArgumentException";class C{constructor(r){if(this.binarizer=r,r===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(r,s){return this.binarizer.getBlackRow(r,s)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(r,s,o,c){const u=this.binarizer.getLuminanceSource().crop(r,s,o,c);return new C(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new C(this.binarizer.createBinarizer(r))}rotateCounterClockwise45(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new C(this.binarizer.createBinarizer(r))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class b extends g{static getChecksumInstance(){return new b}}b.kind="ChecksumException";class R{constructor(r){this.source=r}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class M{static arraycopy(r,s,o,c,u){for(;u--;)o[c++]=r[s++]}static currentTimeMillis(){return Date.now()}}class D extends g{}D.kind="IndexOutOfBoundsException";class _ extends D{constructor(r=void 0,s=void 0){super(s),this.index=r,this.message=s}}_.kind="ArrayIndexOutOfBoundsException";class S{static fill(r,s){for(let o=0,c=r.length;o<c;o++)r[o]=s}static fillWithin(r,s,o,c){S.rangeCheck(r.length,s,o);for(let u=s;u<o;u++)r[u]=c}static rangeCheck(r,s,o){if(s>o)throw new v("fromIndex("+s+") > toIndex("+o+")");if(s<0)throw new _(s);if(o>r)throw new _(o)}static asList(...r){return r}static create(r,s,o){return Array.from({length:r}).map(u=>Array.from({length:s}).fill(o))}static createInt32Array(r,s,o){return Array.from({length:r}).map(u=>Int32Array.from({length:s}).fill(o))}static equals(r,s){if(!r||!s||!r.length||!s.length||r.length!==s.length)return!1;for(let o=0,c=r.length;o<c;o++)if(r[o]!==s[o])return!1;return!0}static hashCode(r){if(r===null)return 0;let s=1;for(const o of r)s=31*s+o;return s}static fillUint8Array(r,s){for(let o=0;o!==r.length;o++)r[o]=s}static copyOf(r,s){return r.slice(0,s)}static copyOfUint8Array(r,s){if(r.length<=s){const o=new Uint8Array(s);return o.set(r),o}return r.slice(0,s)}static copyOfRange(r,s,o){const c=o-s,u=new Int32Array(c);return M.arraycopy(r,s,u,0,c),u}static binarySearch(r,s,o){o===void 0&&(o=S.numberComparator);let c=0,u=r.length-1;for(;c<=u;){const f=u+c>>1,h=o(s,r[f]);if(h>0)c=f+1;else if(h<0)u=f-1;else return f}return-c-1}static numberComparator(r,s){return r-s}}class I{static numberOfTrailingZeros(r){let s;if(r===0)return 32;let o=31;return s=r<<16,s!==0&&(o-=16,r=s),s=r<<8,s!==0&&(o-=8,r=s),s=r<<4,s!==0&&(o-=4,r=s),s=r<<2,s!==0&&(o-=2,r=s),o-(r<<1>>>31)}static numberOfLeadingZeros(r){if(r===0)return 32;let s=1;return r>>>16||(s+=16,r<<=16),r>>>24||(s+=8,r<<=8),r>>>28||(s+=4,r<<=4),r>>>30||(s+=2,r<<=2),s-=r>>>31,s}static toHexString(r){return r.toString(16)}static toBinaryString(r){return String(parseInt(String(r),2))}static bitCount(r){return r=r-(r>>>1&1431655765),r=(r&858993459)+(r>>>2&858993459),r=r+(r>>>4)&252645135,r=r+(r>>>8),r=r+(r>>>16),r&63}static truncDivision(r,s){return Math.trunc(r/s)}static parseInt(r,s=void 0){return parseInt(r,s)}}I.MIN_VALUE_32_BITS=-2147483648,I.MAX_VALUE=Number.MAX_SAFE_INTEGER;class L{constructor(r,s){r===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=r,s==null?this.bits=L.makeArray(r):this.bits=s)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(r){if(r>this.bits.length*32){const s=L.makeArray(r);M.arraycopy(this.bits,0,s,0,this.bits.length),this.bits=s}}get(r){return(this.bits[Math.floor(r/32)]&1<<(r&31))!==0}set(r){this.bits[Math.floor(r/32)]|=1<<(r&31)}flip(r){this.bits[Math.floor(r/32)]^=1<<(r&31)}getNextSet(r){const s=this.size;if(r>=s)return s;const o=this.bits;let c=Math.floor(r/32),u=o[c];u&=~((1<<(r&31))-1);const f=o.length;for(;u===0;){if(++c===f)return s;u=o[c]}const h=c*32+I.numberOfTrailingZeros(u);return h>s?s:h}getNextUnset(r){const s=this.size;if(r>=s)return s;const o=this.bits;let c=Math.floor(r/32),u=~o[c];u&=~((1<<(r&31))-1);const f=o.length;for(;u===0;){if(++c===f)return s;u=~o[c]}const h=c*32+I.numberOfTrailingZeros(u);return h>s?s:h}setBulk(r,s){this.bits[Math.floor(r/32)]=s}setRange(r,s){if(s<r||r<0||s>this.size)throw new v;if(s===r)return;s--;const o=Math.floor(r/32),c=Math.floor(s/32),u=this.bits;for(let f=o;f<=c;f++){const h=f>o?0:r&31,w=(2<<(f<c?31:s&31))-(1<<h);u[f]|=w}}clear(){const r=this.bits.length,s=this.bits;for(let o=0;o<r;o++)s[o]=0}isRange(r,s,o){if(s<r||r<0||s>this.size)throw new v;if(s===r)return!0;s--;const c=Math.floor(r/32),u=Math.floor(s/32),f=this.bits;for(let h=c;h<=u;h++){const x=h>c?0:r&31,E=(2<<(h<u?31:s&31))-(1<<x)&4294967295;if((f[h]&E)!==(o?E:0))return!1}return!0}appendBit(r){this.ensureCapacity(this.size+1),r&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(r,s){if(s<0||s>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+s);for(let o=s;o>0;o--)this.appendBit((r>>o-1&1)===1)}appendBitArray(r){const s=r.size;this.ensureCapacity(this.size+s);for(let o=0;o<s;o++)this.appendBit(r.get(o))}xor(r){if(this.size!==r.size)throw new v("Sizes don't match");const s=this.bits;for(let o=0,c=s.length;o<c;o++)s[o]^=r.bits[o]}toBytes(r,s,o,c){for(let u=0;u<c;u++){let f=0;for(let h=0;h<8;h++)this.get(r)&&(f|=1<<7-h),r++;s[o+u]=f}}getBitArray(){return this.bits}reverse(){const r=new Int32Array(this.bits.length),s=Math.floor((this.size-1)/32),o=s+1,c=this.bits;for(let u=0;u<o;u++){let f=c[u];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,r[s-u]=f}if(this.size!==o*32){const u=o*32-this.size;let f=r[0]>>>u;for(let h=1;h<o;h++){const x=r[h];f|=x<<32-u,r[h-1]=f,f=x>>>u}r[o-1]=f}this.bits=r}static makeArray(r){return new Int32Array(Math.floor((r+31)/32))}equals(r){if(!(r instanceof L))return!1;const s=r;return this.size===s.size&&S.equals(this.bits,s.bits)}hashCode(){return 31*this.size+S.hashCode(this.bits)}toString(){let r="";for(let s=0,o=this.size;s<o;s++)s&7||(r+=" "),r+=this.get(s)?"X":".";return r}clone(){return new L(this.size,this.bits.slice())}}var V;(function(N){N[N.OTHER=0]="OTHER",N[N.PURE_BARCODE=1]="PURE_BARCODE",N[N.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",N[N.TRY_HARDER=3]="TRY_HARDER",N[N.CHARACTER_SET=4]="CHARACTER_SET",N[N.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",N[N.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",N[N.ASSUME_GS1=7]="ASSUME_GS1",N[N.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",N[N.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",N[N.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(V||(V={}));var U=V;class B extends g{static getFormatInstance(){return new B}}B.kind="FormatException";var Q;(function(N){N[N.Cp437=0]="Cp437",N[N.ISO8859_1=1]="ISO8859_1",N[N.ISO8859_2=2]="ISO8859_2",N[N.ISO8859_3=3]="ISO8859_3",N[N.ISO8859_4=4]="ISO8859_4",N[N.ISO8859_5=5]="ISO8859_5",N[N.ISO8859_6=6]="ISO8859_6",N[N.ISO8859_7=7]="ISO8859_7",N[N.ISO8859_8=8]="ISO8859_8",N[N.ISO8859_9=9]="ISO8859_9",N[N.ISO8859_10=10]="ISO8859_10",N[N.ISO8859_11=11]="ISO8859_11",N[N.ISO8859_13=12]="ISO8859_13",N[N.ISO8859_14=13]="ISO8859_14",N[N.ISO8859_15=14]="ISO8859_15",N[N.ISO8859_16=15]="ISO8859_16",N[N.SJIS=16]="SJIS",N[N.Cp1250=17]="Cp1250",N[N.Cp1251=18]="Cp1251",N[N.Cp1252=19]="Cp1252",N[N.Cp1256=20]="Cp1256",N[N.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",N[N.UTF8=22]="UTF8",N[N.ASCII=23]="ASCII",N[N.Big5=24]="Big5",N[N.GB18030=25]="GB18030",N[N.EUC_KR=26]="EUC_KR"})(Q||(Q={}));class z{constructor(r,s,o,...c){this.valueIdentifier=r,this.name=o,typeof s=="number"?this.values=Int32Array.from([s]):this.values=s,this.otherEncodingNames=c,z.VALUE_IDENTIFIER_TO_ECI.set(r,this),z.NAME_TO_ECI.set(o,this);const u=this.values;for(let f=0,h=u.length;f!==h;f++){const x=u[f];z.VALUES_TO_ECI.set(x,this)}for(const f of c)z.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(r){if(r<0||r>=900)throw new B("incorect value");const s=z.VALUES_TO_ECI.get(r);if(s===void 0)throw new B("incorect value");return s}static getCharacterSetECIByName(r){const s=z.NAME_TO_ECI.get(r);if(s===void 0)throw new B("incorect value");return s}equals(r){if(!(r instanceof z))return!1;const s=r;return this.getName()===s.getName()}}z.VALUE_IDENTIFIER_TO_ECI=new Map,z.VALUES_TO_ECI=new Map,z.NAME_TO_ECI=new Map,z.Cp437=new z(Q.Cp437,Int32Array.from([0,2]),"Cp437"),z.ISO8859_1=new z(Q.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),z.ISO8859_2=new z(Q.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),z.ISO8859_3=new z(Q.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),z.ISO8859_4=new z(Q.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),z.ISO8859_5=new z(Q.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),z.ISO8859_6=new z(Q.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),z.ISO8859_7=new z(Q.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),z.ISO8859_8=new z(Q.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),z.ISO8859_9=new z(Q.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),z.ISO8859_10=new z(Q.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),z.ISO8859_11=new z(Q.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),z.ISO8859_13=new z(Q.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),z.ISO8859_14=new z(Q.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),z.ISO8859_15=new z(Q.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),z.ISO8859_16=new z(Q.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),z.SJIS=new z(Q.SJIS,20,"SJIS","Shift_JIS"),z.Cp1250=new z(Q.Cp1250,21,"Cp1250","windows-1250"),z.Cp1251=new z(Q.Cp1251,22,"Cp1251","windows-1251"),z.Cp1252=new z(Q.Cp1252,23,"Cp1252","windows-1252"),z.Cp1256=new z(Q.Cp1256,24,"Cp1256","windows-1256"),z.UnicodeBigUnmarked=new z(Q.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),z.UTF8=new z(Q.UTF8,26,"UTF8","UTF-8"),z.ASCII=new z(Q.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),z.Big5=new z(Q.Big5,28,"Big5"),z.GB18030=new z(Q.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),z.EUC_KR=new z(Q.EUC_KR,30,"EUC_KR","EUC-KR");class ie extends g{}ie.kind="UnsupportedOperationException";class oe{static decode(r,s){const o=this.encodingName(s);return this.customDecoder?this.customDecoder(r,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(r,o):new TextDecoder(o).decode(r)}static shouldDecodeOnFallback(r){return!oe.isBrowser()&&r==="ISO-8859-1"}static encode(r,s){const o=this.encodingName(s);return this.customEncoder?this.customEncoder(r,o):typeof TextEncoder>"u"?this.encodeFallback(r):new TextEncoder().encode(r)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(r){return typeof r=="string"?r:r.getName()}static encodingCharacterSet(r){return r instanceof z?r:z.getCharacterSetECIByName(r)}static decodeFallback(r,s){const o=this.encodingCharacterSet(s);if(oe.isDecodeFallbackSupported(o)){let c="";for(let u=0,f=r.length;u<f;u++){let h=r[u].toString(16);h.length<2&&(h="0"+h),c+="%"+h}return decodeURIComponent(c)}if(o.equals(z.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(r.buffer));throw new ie(`Encoding ${this.encodingName(s)} not supported by fallback.`)}static isDecodeFallbackSupported(r){return r.equals(z.UTF8)||r.equals(z.ISO8859_1)||r.equals(z.ASCII)}static encodeFallback(r){const o=btoa(unescape(encodeURIComponent(r))).split(""),c=[];for(let u=0;u<o.length;u++)c.push(o[u].charCodeAt(0));return new Uint8Array(c)}}class ${static castAsNonUtf8Char(r,s=null){const o=s?s.getName():this.ISO88591;return oe.decode(new Uint8Array([r]),o)}static guessEncoding(r,s){if(s!=null&&s.get(U.CHARACTER_SET)!==void 0)return s.get(U.CHARACTER_SET).toString();const o=r.length;let c=!0,u=!0,f=!0,h=0,x=0,w=0,E=0,T=0,O=0,P=0,F=0,j=0,H=0,X=0;const ne=r.length>3&&r[0]===239&&r[1]===187&&r[2]===191;for(let re=0;re<o&&(c||u||f);re++){const J=r[re]&255;f&&(h>0?J&128?h--:f=!1:J&128&&(J&64?(h++,J&32?(h++,J&16?(h++,J&8?f=!1:E++):w++):x++):f=!1)),c&&(J>127&&J<160?c=!1:J>159&&(J<192||J===215||J===247)&&X++),u&&(T>0?J<64||J===127||J>252?u=!1:T--:J===128||J===160||J>239?u=!1:J>160&&J<224?(O++,F=0,P++,P>j&&(j=P)):J>127?(T++,P=0,F++,F>H&&(H=F)):(P=0,F=0))}return f&&h>0&&(f=!1),u&&T>0&&(u=!1),f&&(ne||x+w+E>0)?$.UTF8:u&&($.ASSUME_SHIFT_JIS||j>=3||H>=3)?$.SHIFT_JIS:c&&u?j===2&&O===2||X*10>=o?$.SHIFT_JIS:$.ISO88591:c?$.ISO88591:u?$.SHIFT_JIS:f?$.UTF8:$.PLATFORM_DEFAULT_ENCODING}static format(r,...s){let o=-1;function c(f,h,x,w,E,T){if(f==="%%")return"%";if(s[++o]===void 0)return;f=w?parseInt(w.substr(1)):void 0;let O=E?parseInt(E.substr(1)):void 0,P;switch(T){case"s":P=s[o];break;case"c":P=s[o][0];break;case"f":P=parseFloat(s[o]).toFixed(f);break;case"p":P=parseFloat(s[o]).toPrecision(f);break;case"e":P=parseFloat(s[o]).toExponential(f);break;case"x":P=parseInt(s[o]).toString(O||16);break;case"d":P=parseFloat(parseInt(s[o],O||10).toPrecision(f)).toFixed(0);break}P=typeof P=="object"?JSON.stringify(P):(+P).toString(O);let F=parseInt(x),j=x&&x[0]+""=="0"?"0":" ";for(;P.length<F;)P=h!==void 0?P+j:j+P;return P}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(u,c)}static getBytes(r,s){return oe.encode(r,s)}static getCharCode(r,s=0){return r.charCodeAt(s)}static getCharAt(r){return String.fromCharCode(r)}}$.SHIFT_JIS=z.SJIS.getName(),$.GB2312="GB2312",$.ISO88591=z.ISO8859_1.getName(),$.EUC_JP="EUC_JP",$.UTF8=z.UTF8.getName(),$.PLATFORM_DEFAULT_ENCODING=$.UTF8,$.ASSUME_SHIFT_JIS=!1;class me{constructor(r=""){this.value=r}enableDecoding(r){return this.encoding=r,this}append(r){return typeof r=="string"?this.value+=r.toString():this.encoding?this.value+=$.castAsNonUtf8Char(r,this.encoding):this.value+=String.fromCharCode(r),this}appendChars(r,s,o){for(let c=s;s<s+o;c++)this.append(r[c]);return this}length(){return this.value.length}charAt(r){return this.value.charAt(r)}deleteCharAt(r){this.value=this.value.substr(0,r)+this.value.substring(r+1)}setCharAt(r,s){this.value=this.value.substr(0,r)+s+this.value.substr(r+1)}substring(r,s){return this.value.substring(r,s)}setLengthToZero(){this.value=""}toString(){return this.value}insert(r,s){this.value=this.value.substr(0,r)+s+this.value.substr(r+s.length)}}class he{constructor(r,s,o,c){if(this.width=r,this.height=s,this.rowSize=o,this.bits=c,s==null&&(s=r),this.height=s,r<1||s<1)throw new v("Both dimensions must be greater than 0");o==null&&(o=Math.floor((r+31)/32)),this.rowSize=o,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(r){const s=r.length,o=r[0].length,c=new he(o,s);for(let u=0;u<s;u++){const f=r[u];for(let h=0;h<o;h++)f[h]&&c.set(h,u)}return c}static parseFromString(r,s,o){if(r===null)throw new v("stringRepresentation cannot be null");const c=new Array(r.length);let u=0,f=0,h=-1,x=0,w=0;for(;w<r.length;)if(r.charAt(w)===`
`||r.charAt(w)==="\r"){if(u>f){if(h===-1)h=u-f;else if(u-f!==h)throw new v("row lengths do not match");f=u,x++}w++}else if(r.substring(w,w+s.length)===s)w+=s.length,c[u]=!0,u++;else if(r.substring(w,w+o.length)===o)w+=o.length,c[u]=!1,u++;else throw new v("illegal character encountered: "+r.substring(w));if(u>f){if(h===-1)h=u-f;else if(u-f!==h)throw new v("row lengths do not match");x++}const E=new he(h,x);for(let T=0;T<u;T++)c[T]&&E.set(Math.floor(T%h),Math.floor(T/h));return E}get(r,s){const o=s*this.rowSize+Math.floor(r/32);return(this.bits[o]>>>(r&31)&1)!==0}set(r,s){const o=s*this.rowSize+Math.floor(r/32);this.bits[o]|=1<<(r&31)&4294967295}unset(r,s){const o=s*this.rowSize+Math.floor(r/32);this.bits[o]&=~(1<<(r&31)&4294967295)}flip(r,s){const o=s*this.rowSize+Math.floor(r/32);this.bits[o]^=1<<(r&31)&4294967295}xor(r){if(this.width!==r.getWidth()||this.height!==r.getHeight()||this.rowSize!==r.getRowSize())throw new v("input matrix dimensions do not match");const s=new L(Math.floor(this.width/32)+1),o=this.rowSize,c=this.bits;for(let u=0,f=this.height;u<f;u++){const h=u*o,x=r.getRow(u,s).getBitArray();for(let w=0;w<o;w++)c[h+w]^=x[w]}}clear(){const r=this.bits,s=r.length;for(let o=0;o<s;o++)r[o]=0}setRegion(r,s,o,c){if(s<0||r<0)throw new v("Left and top must be nonnegative");if(c<1||o<1)throw new v("Height and width must be at least 1");const u=r+o,f=s+c;if(f>this.height||u>this.width)throw new v("The region must fit inside the matrix");const h=this.rowSize,x=this.bits;for(let w=s;w<f;w++){const E=w*h;for(let T=r;T<u;T++)x[E+Math.floor(T/32)]|=1<<(T&31)&4294967295}}getRow(r,s){s==null||s.getSize()<this.width?s=new L(this.width):s.clear();const o=this.rowSize,c=this.bits,u=r*o;for(let f=0;f<o;f++)s.setBulk(f*32,c[u+f]);return s}setRow(r,s){M.arraycopy(s.getBitArray(),0,this.bits,r*this.rowSize,this.rowSize)}rotate180(){const r=this.getWidth(),s=this.getHeight();let o=new L(r),c=new L(r);for(let u=0,f=Math.floor((s+1)/2);u<f;u++)o=this.getRow(u,o),c=this.getRow(s-1-u,c),o.reverse(),c.reverse(),this.setRow(u,c),this.setRow(s-1-u,o)}getEnclosingRectangle(){const r=this.width,s=this.height,o=this.rowSize,c=this.bits;let u=r,f=s,h=-1,x=-1;for(let w=0;w<s;w++)for(let E=0;E<o;E++){const T=c[w*o+E];if(T!==0){if(w<f&&(f=w),w>x&&(x=w),E*32<u){let O=0;for(;!(T<<31-O&4294967295);)O++;E*32+O<u&&(u=E*32+O)}if(E*32+31>h){let O=31;for(;!(T>>>O);)O--;E*32+O>h&&(h=E*32+O)}}}return h<u||x<f?null:Int32Array.from([u,f,h-u+1,x-f+1])}getTopLeftOnBit(){const r=this.rowSize,s=this.bits;let o=0;for(;o<s.length&&s[o]===0;)o++;if(o===s.length)return null;const c=o/r;let u=o%r*32;const f=s[o];let h=0;for(;!(f<<31-h&4294967295);)h++;return u+=h,Int32Array.from([u,c])}getBottomRightOnBit(){const r=this.rowSize,s=this.bits;let o=s.length-1;for(;o>=0&&s[o]===0;)o--;if(o<0)return null;const c=Math.floor(o/r);let u=Math.floor(o%r)*32;const f=s[o];let h=31;for(;!(f>>>h);)h--;return u+=h,Int32Array.from([u,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(r){if(!(r instanceof he))return!1;const s=r;return this.width===s.width&&this.height===s.height&&this.rowSize===s.rowSize&&S.equals(this.bits,s.bits)}hashCode(){let r=this.width;return r=31*r+this.width,r=31*r+this.height,r=31*r+this.rowSize,r=31*r+S.hashCode(this.bits),r}toString(r="X ",s="  ",o=`
`){return this.buildToString(r,s,o)}buildToString(r,s,o){let c=new me;for(let u=0,f=this.height;u<f;u++){for(let h=0,x=this.width;h<x;h++)c.append(this.get(h,u)?r:s);c.append(o)}return c.toString()}clone(){return new he(this.width,this.height,this.rowSize,this.bits.slice())}}class G extends g{static getNotFoundInstance(){return new G}}G.kind="NotFoundException";class Ce extends R{constructor(r){super(r),this.luminances=Ce.EMPTY,this.buckets=new Int32Array(Ce.LUMINANCE_BUCKETS)}getBlackRow(r,s){const o=this.getLuminanceSource(),c=o.getWidth();s==null||s.getSize()<c?s=new L(c):s.clear(),this.initArrays(c);const u=o.getRow(r,this.luminances),f=this.buckets;for(let x=0;x<c;x++)f[(u[x]&255)>>Ce.LUMINANCE_SHIFT]++;const h=Ce.estimateBlackPoint(f);if(c<3)for(let x=0;x<c;x++)(u[x]&255)<h&&s.set(x);else{let x=u[0]&255,w=u[1]&255;for(let E=1;E<c-1;E++){const T=u[E+1]&255;(w*4-x-T)/2<h&&s.set(E),x=w,w=T}}return s}getBlackMatrix(){const r=this.getLuminanceSource(),s=r.getWidth(),o=r.getHeight(),c=new he(s,o);this.initArrays(s);const u=this.buckets;for(let x=1;x<5;x++){const w=Math.floor(o*x/5),E=r.getRow(w,this.luminances),T=Math.floor(s*4/5);for(let O=Math.floor(s/5);O<T;O++){const P=E[O]&255;u[P>>Ce.LUMINANCE_SHIFT]++}}const f=Ce.estimateBlackPoint(u),h=r.getMatrix();for(let x=0;x<o;x++){const w=x*s;for(let E=0;E<s;E++)(h[w+E]&255)<f&&c.set(E,x)}return c}createBinarizer(r){return new Ce(r)}initArrays(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));const s=this.buckets;for(let o=0;o<Ce.LUMINANCE_BUCKETS;o++)s[o]=0}static estimateBlackPoint(r){const s=r.length;let o=0,c=0,u=0;for(let E=0;E<s;E++)r[E]>u&&(c=E,u=r[E]),r[E]>o&&(o=r[E]);let f=0,h=0;for(let E=0;E<s;E++){const T=E-c,O=r[E]*T*T;O>h&&(f=E,h=O)}if(c>f){const E=c;c=f,f=E}if(f-c<=s/16)throw new G;let x=f-1,w=-1;for(let E=f-1;E>c;E--){const T=E-c,O=T*T*(f-E)*(o-r[E]);O>w&&(x=E,w=O)}return x<<Ce.LUMINANCE_SHIFT}}Ce.LUMINANCE_BITS=5,Ce.LUMINANCE_SHIFT=8-Ce.LUMINANCE_BITS,Ce.LUMINANCE_BUCKETS=1<<Ce.LUMINANCE_BITS,Ce.EMPTY=Uint8ClampedArray.from([0]);class le extends Ce{constructor(r){super(r),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const r=this.getLuminanceSource(),s=r.getWidth(),o=r.getHeight();if(s>=le.MINIMUM_DIMENSION&&o>=le.MINIMUM_DIMENSION){const c=r.getMatrix();let u=s>>le.BLOCK_SIZE_POWER;s&le.BLOCK_SIZE_MASK&&u++;let f=o>>le.BLOCK_SIZE_POWER;o&le.BLOCK_SIZE_MASK&&f++;const h=le.calculateBlackPoints(c,u,f,s,o),x=new he(s,o);le.calculateThresholdForBlock(c,u,f,s,o,h,x),this.matrix=x}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(r){return new le(r)}static calculateThresholdForBlock(r,s,o,c,u,f,h){const x=u-le.BLOCK_SIZE,w=c-le.BLOCK_SIZE;for(let E=0;E<o;E++){let T=E<<le.BLOCK_SIZE_POWER;T>x&&(T=x);const O=le.cap(E,2,o-3);for(let P=0;P<s;P++){let F=P<<le.BLOCK_SIZE_POWER;F>w&&(F=w);const j=le.cap(P,2,s-3);let H=0;for(let ne=-2;ne<=2;ne++){const re=f[O+ne];H+=re[j-2]+re[j-1]+re[j]+re[j+1]+re[j+2]}const X=H/25;le.thresholdBlock(r,F,T,X,c,h)}}}static cap(r,s,o){return r<s?s:r>o?o:r}static thresholdBlock(r,s,o,c,u,f){for(let h=0,x=o*u+s;h<le.BLOCK_SIZE;h++,x+=u)for(let w=0;w<le.BLOCK_SIZE;w++)(r[x+w]&255)<=c&&f.set(s+w,o+h)}static calculateBlackPoints(r,s,o,c,u){const f=u-le.BLOCK_SIZE,h=c-le.BLOCK_SIZE,x=new Array(o);for(let w=0;w<o;w++){x[w]=new Int32Array(s);let E=w<<le.BLOCK_SIZE_POWER;E>f&&(E=f);for(let T=0;T<s;T++){let O=T<<le.BLOCK_SIZE_POWER;O>h&&(O=h);let P=0,F=255,j=0;for(let X=0,ne=E*c+O;X<le.BLOCK_SIZE;X++,ne+=c){for(let re=0;re<le.BLOCK_SIZE;re++){const J=r[ne+re]&255;P+=J,J<F&&(F=J),J>j&&(j=J)}if(j-F>le.MIN_DYNAMIC_RANGE)for(X++,ne+=c;X<le.BLOCK_SIZE;X++,ne+=c)for(let re=0;re<le.BLOCK_SIZE;re++)P+=r[ne+re]&255}let H=P>>le.BLOCK_SIZE_POWER*2;if(j-F<=le.MIN_DYNAMIC_RANGE&&(H=F/2,w>0&&T>0)){const X=(x[w-1][T]+2*x[w][T-1]+x[w-1][T-1])/4;F<X&&(H=X)}x[w][T]=H}}return x}}le.BLOCK_SIZE_POWER=3,le.BLOCK_SIZE=1<<le.BLOCK_SIZE_POWER,le.BLOCK_SIZE_MASK=le.BLOCK_SIZE-1,le.MINIMUM_DIMENSION=le.BLOCK_SIZE*5,le.MIN_DYNAMIC_RANGE=24;class ee{constructor(r,s){this.width=r,this.height=s}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(r,s,o,c){throw new ie("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ie("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ie("This luminance source does not support rotation by 45 degrees.")}toString(){const r=new Uint8ClampedArray(this.width);let s=new me;for(let o=0;o<this.height;o++){const c=this.getRow(o,r);for(let u=0;u<this.width;u++){const f=c[u]&255;let h;f<64?h="#":f<128?h="+":f<192?h=".":h=" ",s.append(h)}s.append(`
`)}return s.toString()}}class ae extends ee{constructor(r){super(r.getWidth(),r.getHeight()),this.delegate=r}getRow(r,s){const o=this.delegate.getRow(r,s),c=this.getWidth();for(let u=0;u<c;u++)o[u]=255-(o[u]&255);return o}getMatrix(){const r=this.delegate.getMatrix(),s=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(s);for(let c=0;c<s;c++)o[c]=255-(r[c]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(r,s,o,c){return new ae(this.delegate.crop(r,s,o,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ae(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ae(this.delegate.rotateCounterClockwise45())}}class ge extends ee{constructor(r){super(r.width,r.height),this.canvas=r,this.tempCanvasElement=null,this.buffer=ge.makeBufferFromCanvasImageData(r)}static makeBufferFromCanvasImageData(r){const s=r.getContext("2d").getImageData(0,0,r.width,r.height);return ge.toGrayscaleBuffer(s.data,r.width,r.height)}static toGrayscaleBuffer(r,s,o){const c=new Uint8ClampedArray(s*o);for(let u=0,f=0,h=r.length;u<h;u+=4,f++){let x;if(r[u+3]===0)x=255;else{const E=r[u],T=r[u+1],O=r[u+2];x=306*E+601*T+117*O+512>>10}c[f]=x}return c}getRow(r,s){if(r<0||r>=this.getHeight())throw new v("Requested row is outside the image: "+r);const o=this.getWidth(),c=r*o;return s===null?s=this.buffer.slice(c,c+o):(s.length<o&&(s=new Uint8ClampedArray(o)),s.set(this.buffer.slice(c,c+o))),s}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(r,s,o,c){return super.crop(r,s,o,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement}rotate(r){const s=this.getTempCanvasElement(),o=s.getContext("2d"),c=r*ge.DEGREE_TO_RADIANS,u=this.canvas.width,f=this.canvas.height,h=Math.ceil(Math.abs(Math.cos(c))*u+Math.abs(Math.sin(c))*f),x=Math.ceil(Math.abs(Math.sin(c))*u+Math.abs(Math.cos(c))*f);return s.width=h,s.height=x,o.translate(h/2,x/2),o.rotate(c),o.drawImage(this.canvas,u/-2,f/-2),this.buffer=ge.makeBufferFromCanvasImageData(s),this}invert(){return new ae(this)}}ge.DEGREE_TO_RADIANS=Math.PI/180;class Me{constructor(r,s,o){this.deviceId=r,this.label=s,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var De=(globalThis||Ao||self||window||void 0)&&(globalThis||Ao||self||window||void 0).__awaiter||function(N,r,s,o){function c(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function h(E){try{w(o.next(E))}catch(T){f(T)}}function x(E){try{w(o.throw(E))}catch(T){f(T)}}function w(E){E.done?u(E.value):c(E.value).then(h,x)}w((o=o.apply(N,r||[])).next())})};class Pt{constructor(r,s=500,o){this.reader=r,this.timeBetweenScansMillis=s,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(r){this._timeBetweenDecodingAttempts=r<0?0:r}set hints(r){this._hints=r||null}get hints(){return this._hints}listVideoInputDevices(){return De(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const r=yield navigator.mediaDevices.enumerateDevices(),s=[];for(const o of r){const c=o.kind==="video"?"videoinput":o.kind;if(c!=="videoinput")continue;const u=o.deviceId||o.id,f=o.label||`Video device ${s.length+1}`,h=o.groupId,x={deviceId:u,label:f,kind:c,groupId:h};s.push(x)}return s})}getVideoInputDevices(){return De(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(s=>new Me(s.deviceId,s.label))})}findDeviceById(r){return De(this,void 0,void 0,function*(){const s=yield this.listVideoInputDevices();return s?s.find(o=>o.deviceId===r):null})}decodeFromInputVideoDevice(r,s){return De(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(r,s)})}decodeOnceFromVideoDevice(r,s){return De(this,void 0,void 0,function*(){this.reset();let o;r?o={deviceId:{exact:r}}:o={facingMode:"environment"};const c={video:o};return yield this.decodeOnceFromConstraints(c,s)})}decodeOnceFromConstraints(r,s){return De(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeOnceFromStream(o,s)})}decodeOnceFromStream(r,s){return De(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(r,s);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(r,s,o){return De(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(r,s,o)})}decodeFromVideoDevice(r,s,o){return De(this,void 0,void 0,function*(){let c;r?c={deviceId:{exact:r}}:c={facingMode:"environment"};const u={video:c};return yield this.decodeFromConstraints(u,s,o)})}decodeFromConstraints(r,s,o){return De(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeFromStream(c,s,o)})}decodeFromStream(r,s,o){return De(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(r,s);return yield this.decodeContinuously(c,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(r,s){return De(this,void 0,void 0,function*(){const o=this.prepareVideoElement(s);return this.addVideoSource(o,r),this.videoElement=o,this.stream=r,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(r){return new Promise((s,o)=>this.playVideoOnLoad(r,()=>s()))}playVideoOnLoad(r,s){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(r),r.addEventListener("ended",this.videoEndedListener),r.addEventListener("canplay",this.videoCanPlayListener),r.addEventListener("playing",s),this.tryPlayVideo(r)}isVideoPlaying(r){return r.currentTime>0&&!r.paused&&!r.ended&&r.readyState>2}tryPlayVideo(r){return De(this,void 0,void 0,function*(){if(this.isVideoPlaying(r)){console.warn("Trying to play video that is already playing.");return}try{yield r.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(r,s){const o=document.getElementById(r);if(!o)throw new y(`element with id '${r}' not found`);if(o.nodeName.toLowerCase()!==s.toLowerCase())throw new y(`element with id '${r}' must be an ${s} element`);return o}decodeFromImage(r,s){if(!r&&!s)throw new y("either imageElement with a src set or an url must be provided");return s&&!r?this.decodeFromImageUrl(s):this.decodeFromImageElement(r)}decodeFromVideo(r,s){if(!r&&!s)throw new y("Either an element with a src set or an URL must be provided");return s&&!r?this.decodeFromVideoUrl(s):this.decodeFromVideoElement(r)}decodeFromVideoContinuously(r,s,o){if(r===void 0&&s===void 0)throw new y("Either an element with a src set or an URL must be provided");return s&&!r?this.decodeFromVideoUrlContinuously(s,o):this.decodeFromVideoElementContinuously(r,o)}decodeFromImageElement(r){if(!r)throw new y("An image element must be provided.");this.reset();const s=this.prepareImageElement(r);this.imageElement=s;let o;return this.isImageLoaded(s)?o=this.decodeOnce(s,!1,!0):o=this._decodeOnLoadImage(s),o}decodeFromVideoElement(r){const s=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideo(s)}decodeFromVideoElementContinuously(r,s){const o=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideoContinuously(o,s)}_decodeFromVideoElementSetup(r){if(!r)throw new y("A video element must be provided.");this.reset();const s=this.prepareVideoElement(r);return this.videoElement=s,s}decodeFromImageUrl(r){if(!r)throw new y("An URL must be provided.");this.reset();const s=this.prepareImageElement();this.imageElement=s;const o=this._decodeOnLoadImage(s);return s.src=r,o}decodeFromVideoUrl(r){if(!r)throw new y("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),o=this.decodeFromVideoElement(s);return s.src=r,o}decodeFromVideoUrlContinuously(r,s){if(!r)throw new y("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(o,s);return o.src=r,c}_decodeOnLoadImage(r){return new Promise((s,o)=>{this.imageLoadedListener=()=>this.decodeOnce(r,!1,!0).then(s,o),r.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(r){return De(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(r),yield this.decodeOnce(r)})}_decodeOnLoadVideoContinuously(r,s){return De(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(r),this.decodeContinuously(r,s)})}isImageLoaded(r){return!(!r.complete||r.naturalWidth===0)}prepareImageElement(r){let s;return typeof r>"u"&&(s=document.createElement("img"),s.width=200,s.height=200),typeof r=="string"&&(s=this.getMediaElement(r,"img")),r instanceof HTMLImageElement&&(s=r),s}prepareVideoElement(r){let s;return!r&&typeof document<"u"&&(s=document.createElement("video"),s.width=200,s.height=200),typeof r=="string"&&(s=this.getMediaElement(r,"video")),r instanceof HTMLVideoElement&&(s=r),s.setAttribute("autoplay","true"),s.setAttribute("muted","true"),s.setAttribute("playsinline","true"),s}decodeOnce(r,s=!0,o=!0){this._stopAsyncDecode=!1;const c=(u,f)=>{if(this._stopAsyncDecode){f(new G("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const h=this.decode(r);u(h)}catch(h){const x=s&&h instanceof G,E=(h instanceof b||h instanceof B)&&o;if(x||E)return setTimeout(c,this._timeBetweenDecodingAttempts,u,f);f(h)}};return new Promise((u,f)=>c(u,f))}decodeContinuously(r,s){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(r);s(c,null),setTimeout(o,this.timeBetweenScansMillis)}catch(c){s(null,c);const u=c instanceof b||c instanceof B,f=c instanceof G;(u||f)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(r){const s=this.createBinaryBitmap(r);return this.decodeBitmap(s)}_isHTMLVideoElement(r){return r.videoWidth!==0}drawFrameOnCanvas(r,s,o){s||(s={sx:0,sy:0,sWidth:r.videoWidth,sHeight:r.videoHeight,dx:0,dy:0,dWidth:r.videoWidth,dHeight:r.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(r,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}drawImageOnCanvas(r,s,o=this.captureCanvasContext){s||(s={sx:0,sy:0,sWidth:r.naturalWidth,sHeight:r.naturalHeight,dx:0,dy:0,dWidth:r.naturalWidth,dHeight:r.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(r,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}createBinaryBitmap(r){this.getCaptureCanvasContext(r),this._isHTMLVideoElement(r)?this.drawFrameOnCanvas(r):this.drawImageOnCanvas(r);const s=this.getCaptureCanvas(r),o=new ge(s),c=new le(o);return new C(c)}getCaptureCanvasContext(r){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(r).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(r){if(!this.captureCanvas){const s=this.createCaptureCanvas(r);this.captureCanvas=s}return this.captureCanvas}decodeBitmap(r){return this.reader.decode(r,this._hints)}createCaptureCanvas(r){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const s=document.createElement("canvas");let o,c;return typeof r<"u"&&(r instanceof HTMLVideoElement?(o=r.videoWidth,c=r.videoHeight):r instanceof HTMLImageElement&&(o=r.naturalWidth||r.width,c=r.naturalHeight||r.height)),s.style.width=o+"px",s.style.height=c+"px",s.width=o,s.height=c,s}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(r=>r.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(r,s){try{r.srcObject=s}catch{r.src=URL.createObjectURL(s)}}cleanVideoSource(r){try{r.srcObject=null}catch{r.src=""}this.videoElement.removeAttribute("src")}}class Je{constructor(r,s,o=s==null?0:8*s.length,c,u,f=M.currentTimeMillis()){this.text=r,this.rawBytes=s,this.numBits=o,this.resultPoints=c,this.format=u,this.timestamp=f,this.text=r,this.rawBytes=s,o==null?this.numBits=s==null?0:8*s.length:this.numBits=o,this.resultPoints=c,this.format=u,this.resultMetadata=null,f==null?this.timestamp=M.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(r,s){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(r,s)}putAllMetadata(r){r!==null&&(this.resultMetadata===null?this.resultMetadata=r:this.resultMetadata=new Map(r))}addResultPoints(r){const s=this.resultPoints;if(s===null)this.resultPoints=r;else if(r!==null&&r.length>0){const o=new Array(s.length+r.length);M.arraycopy(s,0,o,0,s.length),M.arraycopy(r,0,o,s.length,r.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Er;(function(N){N[N.AZTEC=0]="AZTEC",N[N.CODABAR=1]="CODABAR",N[N.CODE_39=2]="CODE_39",N[N.CODE_93=3]="CODE_93",N[N.CODE_128=4]="CODE_128",N[N.DATA_MATRIX=5]="DATA_MATRIX",N[N.EAN_8=6]="EAN_8",N[N.EAN_13=7]="EAN_13",N[N.ITF=8]="ITF",N[N.MAXICODE=9]="MAXICODE",N[N.PDF_417=10]="PDF_417",N[N.QR_CODE=11]="QR_CODE",N[N.RSS_14=12]="RSS_14",N[N.RSS_EXPANDED=13]="RSS_EXPANDED",N[N.UPC_A=14]="UPC_A",N[N.UPC_E=15]="UPC_E",N[N.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Er||(Er={}));var Z=Er,ye;(function(N){N[N.OTHER=0]="OTHER",N[N.ORIENTATION=1]="ORIENTATION",N[N.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",N[N.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",N[N.ISSUE_NUMBER=4]="ISSUE_NUMBER",N[N.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",N[N.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",N[N.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",N[N.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",N[N.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",N[N.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ye||(ye={}));var be=ye;class Ge{constructor(r,s,o,c,u=-1,f=-1){this.rawBytes=r,this.text=s,this.byteSegments=o,this.ecLevel=c,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=f,this.numBits=r==null?0:8*r.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(r){this.numBits=r}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(r){this.errorsCorrected=r}getErasures(){return this.erasures}setErasures(r){this.erasures=r}getOther(){return this.other}setOther(r){this.other=r}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class dt{exp(r){return this.expTable[r]}log(r){if(r===0)throw new v;return this.logTable[r]}static addOrSubtract(r,s){return r^s}}class dn{constructor(r,s){if(s.length===0)throw new v;this.field=r;const o=s.length;if(o>1&&s[0]===0){let c=1;for(;c<o&&s[c]===0;)c++;c===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-c),M.arraycopy(s,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);const s=this.coefficients;let o;if(r===1){o=0;for(let f=0,h=s.length;f!==h;f++){const x=s[f];o=dt.addOrSubtract(o,x)}return o}o=s[0];const c=s.length,u=this.field;for(let f=1;f<c;f++)o=dt.addOrSubtract(u.multiply(r,o),s[f]);return o}addOrSubtract(r){if(!this.field.equals(r.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return r;if(r.isZero())return this;let s=this.coefficients,o=r.coefficients;if(s.length>o.length){const f=s;s=o,o=f}let c=new Int32Array(o.length);const u=o.length-s.length;M.arraycopy(o,0,c,0,u);for(let f=u;f<o.length;f++)c[f]=dt.addOrSubtract(s[f-u],o[f]);return new dn(this.field,c)}multiply(r){if(!this.field.equals(r.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||r.isZero())return this.field.getZero();const s=this.coefficients,o=s.length,c=r.coefficients,u=c.length,f=new Int32Array(o+u-1),h=this.field;for(let x=0;x<o;x++){const w=s[x];for(let E=0;E<u;E++)f[x+E]=dt.addOrSubtract(f[x+E],h.multiply(w,c[E]))}return new dn(h,f)}multiplyScalar(r){if(r===0)return this.field.getZero();if(r===1)return this;const s=this.coefficients.length,o=this.field,c=new Int32Array(s),u=this.coefficients;for(let f=0;f<s;f++)c[f]=o.multiply(u[f],r);return new dn(o,c)}multiplyByMonomial(r,s){if(r<0)throw new v;if(s===0)return this.field.getZero();const o=this.coefficients,c=o.length,u=new Int32Array(c+r),f=this.field;for(let h=0;h<c;h++)u[h]=f.multiply(o[h],s);return new dn(f,u)}divide(r){if(!this.field.equals(r.field))throw new v("GenericGFPolys do not have same GenericGF field");if(r.isZero())throw new v("Divide by 0");const s=this.field;let o=s.getZero(),c=this;const u=r.getCoefficient(r.getDegree()),f=s.inverse(u);for(;c.getDegree()>=r.getDegree()&&!c.isZero();){const h=c.getDegree()-r.getDegree(),x=s.multiply(c.getCoefficient(c.getDegree()),f),w=r.multiplyByMonomial(h,x),E=s.buildMonomial(h,x);o=o.addOrSubtract(E),c=c.addOrSubtract(w)}return[o,c]}toString(){let r="";for(let s=this.getDegree();s>=0;s--){let o=this.getCoefficient(s);if(o!==0){if(o<0?(r+=" - ",o=-o):r.length>0&&(r+=" + "),s===0||o!==1){const c=this.field.log(o);c===0?r+="1":c===1?r+="a":(r+="a^",r+=c)}s!==0&&(s===1?r+="x":(r+="x^",r+=s))}}return r}}class za extends g{}za.kind="ArithmeticException";class ze extends dt{constructor(r,s,o){super(),this.primitive=r,this.size=s,this.generatorBase=o;const c=new Int32Array(s);let u=1;for(let h=0;h<s;h++)c[h]=u,u*=2,u>=s&&(u^=r,u&=s-1);this.expTable=c;const f=new Int32Array(s);for(let h=0;h<s-1;h++)f[c[h]]=h;this.logTable=f,this.zero=new dn(this,Int32Array.from([0])),this.one=new dn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,s){if(r<0)throw new v;if(s===0)return this.zero;const o=new Int32Array(r+1);return o[0]=s,new dn(this,o)}inverse(r){if(r===0)throw new za;return this.expTable[this.size-this.logTable[r]-1]}multiply(r,s){return r===0||s===0?0:this.expTable[(this.logTable[r]+this.logTable[s])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+I.toHexString(this.primitive)+","+this.size+")"}equals(r){return r===this}}ze.AZTEC_DATA_12=new ze(4201,4096,1),ze.AZTEC_DATA_10=new ze(1033,1024,1),ze.AZTEC_DATA_6=new ze(67,64,1),ze.AZTEC_PARAM=new ze(19,16,1),ze.QR_CODE_FIELD_256=new ze(285,256,0),ze.DATA_MATRIX_FIELD_256=new ze(301,256,1),ze.AZTEC_DATA_8=ze.DATA_MATRIX_FIELD_256,ze.MAXICODE_FIELD_64=ze.AZTEC_DATA_6;class fs extends g{}fs.kind="ReedSolomonException";class or extends g{}or.kind="IllegalStateException";class ho{constructor(r){this.field=r}decode(r,s){const o=this.field,c=new dn(o,r),u=new Int32Array(s);let f=!0;for(let P=0;P<s;P++){const F=c.evaluateAt(o.exp(P+o.getGeneratorBase()));u[u.length-1-P]=F,F!==0&&(f=!1)}if(f)return;const h=new dn(o,u),x=this.runEuclideanAlgorithm(o.buildMonomial(s,1),h,s),w=x[0],E=x[1],T=this.findErrorLocations(w),O=this.findErrorMagnitudes(E,T);for(let P=0;P<T.length;P++){const F=r.length-1-o.log(T[P]);if(F<0)throw new fs("Bad error location");r[F]=ze.addOrSubtract(r[F],O[P])}}runEuclideanAlgorithm(r,s,o){if(r.getDegree()<s.getDegree()){const P=r;r=s,s=P}const c=this.field;let u=r,f=s,h=c.getZero(),x=c.getOne();for(;f.getDegree()>=(o/2|0);){let P=u,F=h;if(u=f,h=x,u.isZero())throw new fs("r_{i-1} was zero");f=P;let j=c.getZero();const H=u.getCoefficient(u.getDegree()),X=c.inverse(H);for(;f.getDegree()>=u.getDegree()&&!f.isZero();){const ne=f.getDegree()-u.getDegree(),re=c.multiply(f.getCoefficient(f.getDegree()),X);j=j.addOrSubtract(c.buildMonomial(ne,re)),f=f.addOrSubtract(u.multiplyByMonomial(ne,re))}if(x=j.multiply(h).addOrSubtract(F),f.getDegree()>=u.getDegree())throw new or("Division algorithm failed to reduce polynomial?")}const w=x.getCoefficient(0);if(w===0)throw new fs("sigmaTilde(0) was zero");const E=c.inverse(w),T=x.multiplyScalar(E),O=f.multiplyScalar(E);return[T,O]}findErrorLocations(r){const s=r.getDegree();if(s===1)return Int32Array.from([r.getCoefficient(1)]);const o=new Int32Array(s);let c=0;const u=this.field;for(let f=1;f<u.getSize()&&c<s;f++)r.evaluateAt(f)===0&&(o[c]=u.inverse(f),c++);if(c!==s)throw new fs("Error locator degree does not match number of roots");return o}findErrorMagnitudes(r,s){const o=s.length,c=new Int32Array(o),u=this.field;for(let f=0;f<o;f++){const h=u.inverse(s[f]);let x=1;for(let w=0;w<o;w++)if(f!==w){const E=u.multiply(s[w],h),T=E&1?E&-2:E|1;x=u.multiply(x,T)}c[f]=u.multiply(r.evaluateAt(h),u.inverse(x)),u.getGeneratorBase()!==0&&(c[f]=u.multiply(c[f],h))}return c}}var zt;(function(N){N[N.UPPER=0]="UPPER",N[N.LOWER=1]="LOWER",N[N.MIXED=2]="MIXED",N[N.DIGIT=3]="DIGIT",N[N.PUNCT=4]="PUNCT",N[N.BINARY=5]="BINARY"})(zt||(zt={}));class et{decode(r){this.ddata=r;let s=r.getBits(),o=this.extractBits(s),c=this.correctBits(o),u=et.convertBoolArrayToByteArray(c),f=et.getEncodedData(c),h=new Ge(u,f,null,null);return h.setNumBits(c.length),h}static highLevelDecode(r){return this.getEncodedData(r)}static getEncodedData(r){let s=r.length,o=zt.UPPER,c=zt.UPPER,u="",f=0;for(;f<s;)if(c===zt.BINARY){if(s-f<5)break;let h=et.readCode(r,f,5);if(f+=5,h===0){if(s-f<11)break;h=et.readCode(r,f,11)+31,f+=11}for(let x=0;x<h;x++){if(s-f<8){f=s;break}const w=et.readCode(r,f,8);u+=$.castAsNonUtf8Char(w),f+=8}c=o}else{let h=c===zt.DIGIT?4:5;if(s-f<h)break;let x=et.readCode(r,f,h);f+=h;let w=et.getCharacter(c,x);w.startsWith("CTRL_")?(o=c,c=et.getTable(w.charAt(5)),w.charAt(6)==="L"&&(o=c)):(u+=w,c=o)}return u}static getTable(r){switch(r){case"L":return zt.LOWER;case"P":return zt.PUNCT;case"M":return zt.MIXED;case"D":return zt.DIGIT;case"B":return zt.BINARY;case"U":default:return zt.UPPER}}static getCharacter(r,s){switch(r){case zt.UPPER:return et.UPPER_TABLE[s];case zt.LOWER:return et.LOWER_TABLE[s];case zt.MIXED:return et.MIXED_TABLE[s];case zt.PUNCT:return et.PUNCT_TABLE[s];case zt.DIGIT:return et.DIGIT_TABLE[s];default:throw new or("Bad table")}}correctBits(r){let s,o;this.ddata.getNbLayers()<=2?(o=6,s=ze.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,s=ze.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,s=ze.AZTEC_DATA_10):(o=12,s=ze.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),u=r.length/o;if(u<c)throw new B;let f=r.length%o,h=new Int32Array(u);for(let O=0;O<u;O++,f+=o)h[O]=et.readCode(r,f,o);try{new ho(s).decode(h,u-c)}catch(O){throw new B(O)}let x=(1<<o)-1,w=0;for(let O=0;O<c;O++){let P=h[O];if(P===0||P===x)throw new B;(P===1||P===x-1)&&w++}let E=new Array(c*o-w),T=0;for(let O=0;O<c;O++){let P=h[O];if(P===1||P===x-1)E.fill(P>1,T,T+o-1),T+=o-1;else for(let F=o-1;F>=0;--F)E[T++]=(P&1<<F)!==0}return E}extractBits(r){let s=this.ddata.isCompact(),o=this.ddata.getNbLayers(),c=(s?11:14)+o*4,u=new Int32Array(c),f=new Array(this.totalBitsInLayer(o,s));if(s)for(let h=0;h<u.length;h++)u[h]=h;else{let h=c+1+2*I.truncDivision(I.truncDivision(c,2)-1,15),x=c/2,w=I.truncDivision(h,2);for(let E=0;E<x;E++){let T=E+I.truncDivision(E,15);u[x-E-1]=w-T-1,u[x+E]=w+T+1}}for(let h=0,x=0;h<o;h++){let w=(o-h)*4+(s?9:12),E=h*2,T=c-1-E;for(let O=0;O<w;O++){let P=O*2;for(let F=0;F<2;F++)f[x+P+F]=r.get(u[E+F],u[E+O]),f[x+2*w+P+F]=r.get(u[E+O],u[T-F]),f[x+4*w+P+F]=r.get(u[T-F],u[T-O]),f[x+6*w+P+F]=r.get(u[T-O],u[E+F])}x+=w*8}return f}static readCode(r,s,o){let c=0;for(let u=s;u<s+o;u++)c<<=1,r[u]&&(c|=1);return c}static readByte(r,s){let o=r.length-s;return o>=8?et.readCode(r,s,8):et.readCode(r,s,o)<<8-o}static convertBoolArrayToByteArray(r){let s=new Uint8Array((r.length+7)/8);for(let o=0;o<s.length;o++)s[o]=et.readByte(r,8*o);return s}totalBitsInLayer(r,s){return((s?88:112)+16*r)*r}}et.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],et.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],et.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],et.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],et.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Fe{constructor(){}static round(r){return r===NaN?0:r<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:r>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:r+(r<0?-.5:.5)|0}static distance(r,s,o,c){const u=r-o,f=s-c;return Math.sqrt(u*u+f*f)}static sum(r){let s=0;for(let o=0,c=r.length;o!==c;o++){const u=r[o];s+=u}return s}}class Va{static floatToIntBits(r){return r}}Va.MAX_VALUE=Number.MAX_SAFE_INTEGER;class pe{constructor(r,s){this.x=r,this.y=s}getX(){return this.x}getY(){return this.y}equals(r){if(r instanceof pe){const s=r;return this.x===s.x&&this.y===s.y}return!1}hashCode(){return 31*Va.floatToIntBits(this.x)+Va.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(r){const s=this.distance(r[0],r[1]),o=this.distance(r[1],r[2]),c=this.distance(r[0],r[2]);let u,f,h;if(o>=s&&o>=c?(f=r[0],u=r[1],h=r[2]):c>=o&&c>=s?(f=r[1],u=r[0],h=r[2]):(f=r[2],u=r[0],h=r[1]),this.crossProductZ(u,f,h)<0){const x=u;u=h,h=x}r[0]=u,r[1]=f,r[2]=h}static distance(r,s){return Fe.distance(r.x,r.y,s.x,s.y)}static crossProductZ(r,s,o){const c=s.x,u=s.y;return(o.x-c)*(r.y-u)-(o.y-u)*(r.x-c)}}class Ha{constructor(r,s){this.bits=r,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class Qh extends Ha{constructor(r,s,o,c,u){super(r,s),this.compact=o,this.nbDatablocks=c,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ar{constructor(r,s,o,c){this.image=r,this.height=r.getHeight(),this.width=r.getWidth(),s==null&&(s=Ar.INIT_SIZE),o==null&&(o=r.getWidth()/2|0),c==null&&(c=r.getHeight()/2|0);const u=s/2|0;if(this.leftInit=o-u,this.rightInit=o+u,this.upInit=c-u,this.downInit=c+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new G}detect(){let r=this.leftInit,s=this.rightInit,o=this.upInit,c=this.downInit,u=!1,f=!0,h=!1,x=!1,w=!1,E=!1,T=!1;const O=this.width,P=this.height;for(;f;){f=!1;let F=!0;for(;(F||!x)&&s<O;)F=this.containsBlackPoint(o,c,s,!1),F?(s++,f=!0,x=!0):x||s++;if(s>=O){u=!0;break}let j=!0;for(;(j||!w)&&c<P;)j=this.containsBlackPoint(r,s,c,!0),j?(c++,f=!0,w=!0):w||c++;if(c>=P){u=!0;break}let H=!0;for(;(H||!E)&&r>=0;)H=this.containsBlackPoint(o,c,r,!1),H?(r--,f=!0,E=!0):E||r--;if(r<0){u=!0;break}let X=!0;for(;(X||!T)&&o>=0;)X=this.containsBlackPoint(r,s,o,!0),X?(o--,f=!0,T=!0):T||o--;if(o<0){u=!0;break}f&&(h=!0)}if(!u&&h){const F=s-r;let j=null;for(let re=1;j===null&&re<F;re++)j=this.getBlackPointOnSegment(r,c-re,r+re,c);if(j==null)throw new G;let H=null;for(let re=1;H===null&&re<F;re++)H=this.getBlackPointOnSegment(r,o+re,r+re,o);if(H==null)throw new G;let X=null;for(let re=1;X===null&&re<F;re++)X=this.getBlackPointOnSegment(s,o+re,s-re,o);if(X==null)throw new G;let ne=null;for(let re=1;ne===null&&re<F;re++)ne=this.getBlackPointOnSegment(s,c-re,s-re,c);if(ne==null)throw new G;return this.centerEdges(ne,j,X,H)}else throw new G}getBlackPointOnSegment(r,s,o,c){const u=Fe.round(Fe.distance(r,s,o,c)),f=(o-r)/u,h=(c-s)/u,x=this.image;for(let w=0;w<u;w++){const E=Fe.round(r+w*f),T=Fe.round(s+w*h);if(x.get(E,T))return new pe(E,T)}return null}centerEdges(r,s,o,c){const u=r.getX(),f=r.getY(),h=s.getX(),x=s.getY(),w=o.getX(),E=o.getY(),T=c.getX(),O=c.getY(),P=Ar.CORR;return u<this.width/2?[new pe(T-P,O+P),new pe(h+P,x+P),new pe(w-P,E-P),new pe(u+P,f-P)]:[new pe(T+P,O+P),new pe(h+P,x-P),new pe(w-P,E+P),new pe(u-P,f-P)]}containsBlackPoint(r,s,o,c){const u=this.image;if(c){for(let f=r;f<=s;f++)if(u.get(f,o))return!0}else for(let f=r;f<=s;f++)if(u.get(o,f))return!0;return!1}}Ar.INIT_SIZE=10,Ar.CORR=1;class nu{static checkAndNudgePoints(r,s){const o=r.getWidth(),c=r.getHeight();let u=!0;for(let f=0;f<s.length&&u;f+=2){const h=Math.floor(s[f]),x=Math.floor(s[f+1]);if(h<-1||h>o||x<-1||x>c)throw new G;u=!1,h===-1?(s[f]=0,u=!0):h===o&&(s[f]=o-1,u=!0),x===-1?(s[f+1]=0,u=!0):x===c&&(s[f+1]=c-1,u=!0)}u=!0;for(let f=s.length-2;f>=0&&u;f-=2){const h=Math.floor(s[f]),x=Math.floor(s[f+1]);if(h<-1||h>o||x<-1||x>c)throw new G;u=!1,h===-1?(s[f]=0,u=!0):h===o&&(s[f]=o-1,u=!0),x===-1?(s[f+1]=0,u=!0):x===c&&(s[f+1]=c-1,u=!0)}}}class Xn{constructor(r,s,o,c,u,f,h,x,w){this.a11=r,this.a21=s,this.a31=o,this.a12=c,this.a22=u,this.a32=f,this.a13=h,this.a23=x,this.a33=w}static quadrilateralToQuadrilateral(r,s,o,c,u,f,h,x,w,E,T,O,P,F,j,H){const X=Xn.quadrilateralToSquare(r,s,o,c,u,f,h,x);return Xn.squareToQuadrilateral(w,E,T,O,P,F,j,H).times(X)}transformPoints(r){const s=r.length,o=this.a11,c=this.a12,u=this.a13,f=this.a21,h=this.a22,x=this.a23,w=this.a31,E=this.a32,T=this.a33;for(let O=0;O<s;O+=2){const P=r[O],F=r[O+1],j=u*P+x*F+T;r[O]=(o*P+f*F+w)/j,r[O+1]=(c*P+h*F+E)/j}}transformPointsWithValues(r,s){const o=this.a11,c=this.a12,u=this.a13,f=this.a21,h=this.a22,x=this.a23,w=this.a31,E=this.a32,T=this.a33,O=r.length;for(let P=0;P<O;P++){const F=r[P],j=s[P],H=u*F+x*j+T;r[P]=(o*F+f*j+w)/H,s[P]=(c*F+h*j+E)/H}}static squareToQuadrilateral(r,s,o,c,u,f,h,x){const w=r-o+u-h,E=s-c+f-x;if(w===0&&E===0)return new Xn(o-r,u-o,r,c-s,f-c,s,0,0,1);{const T=o-u,O=h-u,P=c-f,F=x-f,j=T*F-O*P,H=(w*F-O*E)/j,X=(T*E-w*P)/j;return new Xn(o-r+H*o,h-r+X*h,r,c-s+H*c,x-s+X*x,s,H,X,1)}}static quadrilateralToSquare(r,s,o,c,u,f,h,x){return Xn.squareToQuadrilateral(r,s,o,c,u,f,h,x).buildAdjoint()}buildAdjoint(){return new Xn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(r){return new Xn(this.a11*r.a11+this.a21*r.a12+this.a31*r.a13,this.a11*r.a21+this.a21*r.a22+this.a31*r.a23,this.a11*r.a31+this.a21*r.a32+this.a31*r.a33,this.a12*r.a11+this.a22*r.a12+this.a32*r.a13,this.a12*r.a21+this.a22*r.a22+this.a32*r.a23,this.a12*r.a31+this.a22*r.a32+this.a32*r.a33,this.a13*r.a11+this.a23*r.a12+this.a33*r.a13,this.a13*r.a21+this.a23*r.a22+this.a33*r.a23,this.a13*r.a31+this.a23*r.a32+this.a33*r.a33)}}class Zh extends nu{sampleGrid(r,s,o,c,u,f,h,x,w,E,T,O,P,F,j,H,X,ne,re){const J=Xn.quadrilateralToQuadrilateral(c,u,f,h,x,w,E,T,O,P,F,j,H,X,ne,re);return this.sampleGridWithTransform(r,s,o,J)}sampleGridWithTransform(r,s,o,c){if(s<=0||o<=0)throw new G;const u=new he(s,o),f=new Float32Array(2*s);for(let h=0;h<o;h++){const x=f.length,w=h+.5;for(let E=0;E<x;E+=2)f[E]=E/2+.5,f[E+1]=w;c.transformPoints(f),nu.checkAndNudgePoints(r,f);try{for(let E=0;E<x;E+=2)r.get(Math.floor(f[E]),Math.floor(f[E+1]))&&u.set(E/2,h)}catch{throw new G}}return u}}class Yr{static setGridSampler(r){Yr.gridSampler=r}static getInstance(){return Yr.gridSampler}}Yr.gridSampler=new Zh;class rn{constructor(r,s){this.x=r,this.y=s}toResultPoint(){return new pe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class qh{constructor(r){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=r}detect(){return this.detectMirror(!1)}detectMirror(r){let s=this.getMatrixCenter(),o=this.getBullsEyeCorners(s);if(r){let f=o[0];o[0]=o[2],o[2]=f}this.extractParameters(o);let c=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),u=this.getMatrixCornerPoints(o);return new Qh(c,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(r){if(!this.isValidPoint(r[0])||!this.isValidPoint(r[1])||!this.isValidPoint(r[2])||!this.isValidPoint(r[3]))throw new G;let s=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(r[0],r[1],s),this.sampleLine(r[1],r[2],s),this.sampleLine(r[2],r[3],s),this.sampleLine(r[3],r[0],s)]);this.shift=this.getRotation(o,s);let c=0;for(let f=0;f<4;f++){let h=o[(this.shift+f)%4];this.compact?(c<<=7,c+=h>>1&127):(c<<=10,c+=(h>>2&992)+(h>>1&31))}let u=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(r,s){let o=0;r.forEach((c,u,f)=>{let h=(c>>s-2<<1)+(c&1);o=(o<<3)+h}),o=((o&1)<<11)+(o>>1);for(let c=0;c<4;c++)if(I.bitCount(o^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new G}getCorrectedParameterData(r,s){let o,c;s?(o=7,c=2):(o=10,c=4);let u=o-c,f=new Int32Array(o);for(let x=o-1;x>=0;--x)f[x]=r&15,r>>=4;try{new ho(ze.AZTEC_PARAM).decode(f,u)}catch{throw new G}let h=0;for(let x=0;x<c;x++)h=(h<<4)+f[x];return h}getBullsEyeCorners(r){let s=r,o=r,c=r,u=r,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let T=this.getFirstDifferent(s,f,1,-1),O=this.getFirstDifferent(o,f,1,1),P=this.getFirstDifferent(c,f,-1,1),F=this.getFirstDifferent(u,f,-1,-1);if(this.nbCenterLayers>2){let j=this.distancePoint(F,T)*this.nbCenterLayers/(this.distancePoint(u,s)*(this.nbCenterLayers+2));if(j<.75||j>1.25||!this.isWhiteOrBlackRectangle(T,O,P,F))break}s=T,o=O,c=P,u=F,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new G;this.compact=this.nbCenterLayers===5;let h=new pe(s.getX()+.5,s.getY()-.5),x=new pe(o.getX()+.5,o.getY()+.5),w=new pe(c.getX()-.5,c.getY()+.5),E=new pe(u.getX()-.5,u.getY()-.5);return this.expandSquare([h,x,w,E],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let r,s,o,c;try{let h=new Ar(this.image).detect();r=h[0],s=h[1],o=h[2],c=h[3]}catch{let x=this.image.getWidth()/2,w=this.image.getHeight()/2;r=this.getFirstDifferent(new rn(x+7,w-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new rn(x+7,w+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new rn(x-7,w+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new rn(x-7,w-7),!1,-1,-1).toResultPoint()}let u=Fe.round((r.getX()+c.getX()+s.getX()+o.getX())/4),f=Fe.round((r.getY()+c.getY()+s.getY()+o.getY())/4);try{let h=new Ar(this.image,15,u,f).detect();r=h[0],s=h[1],o=h[2],c=h[3]}catch{r=this.getFirstDifferent(new rn(u+7,f-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new rn(u+7,f+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new rn(u-7,f+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new rn(u-7,f-7),!1,-1,-1).toResultPoint()}return u=Fe.round((r.getX()+c.getX()+s.getX()+o.getX())/4),f=Fe.round((r.getY()+c.getY()+s.getY()+o.getY())/4),new rn(u,f)}getMatrixCornerPoints(r){return this.expandSquare(r,2*this.nbCenterLayers,this.getDimension())}sampleGrid(r,s,o,c,u){let f=Yr.getInstance(),h=this.getDimension(),x=h/2-this.nbCenterLayers,w=h/2+this.nbCenterLayers;return f.sampleGrid(r,h,h,x,x,w,x,w,w,x,w,s.getX(),s.getY(),o.getX(),o.getY(),c.getX(),c.getY(),u.getX(),u.getY())}sampleLine(r,s,o){let c=0,u=this.distanceResultPoint(r,s),f=u/o,h=r.getX(),x=r.getY(),w=f*(s.getX()-r.getX())/u,E=f*(s.getY()-r.getY())/u;for(let T=0;T<o;T++)this.image.get(Fe.round(h+T*w),Fe.round(x+T*E))&&(c|=1<<o-T-1);return c}isWhiteOrBlackRectangle(r,s,o,c){let u=3;r=new rn(r.getX()-u,r.getY()+u),s=new rn(s.getX()-u,s.getY()-u),o=new rn(o.getX()+u,o.getY()-u),c=new rn(c.getX()+u,c.getY()+u);let f=this.getColor(c,r);if(f===0)return!1;let h=this.getColor(r,s);return h!==f||(h=this.getColor(s,o),h!==f)?!1:(h=this.getColor(o,c),h===f)}getColor(r,s){let o=this.distancePoint(r,s),c=(s.getX()-r.getX())/o,u=(s.getY()-r.getY())/o,f=0,h=r.getX(),x=r.getY(),w=this.image.get(r.getX(),r.getY()),E=Math.ceil(o);for(let O=0;O<E;O++)h+=c,x+=u,this.image.get(Fe.round(h),Fe.round(x))!==w&&f++;let T=f/o;return T>.1&&T<.9?0:T<=.1===w?1:-1}getFirstDifferent(r,s,o,c){let u=r.getX()+o,f=r.getY()+c;for(;this.isValid(u,f)&&this.image.get(u,f)===s;)u+=o,f+=c;for(u-=o,f-=c;this.isValid(u,f)&&this.image.get(u,f)===s;)u+=o;for(u-=o;this.isValid(u,f)&&this.image.get(u,f)===s;)f+=c;return f-=c,new rn(u,f)}expandSquare(r,s,o){let c=o/(2*s),u=r[0].getX()-r[2].getX(),f=r[0].getY()-r[2].getY(),h=(r[0].getX()+r[2].getX())/2,x=(r[0].getY()+r[2].getY())/2,w=new pe(h+c*u,x+c*f),E=new pe(h-c*u,x-c*f);u=r[1].getX()-r[3].getX(),f=r[1].getY()-r[3].getY(),h=(r[1].getX()+r[3].getX())/2,x=(r[1].getY()+r[3].getY())/2;let T=new pe(h+c*u,x+c*f),O=new pe(h-c*u,x-c*f);return[w,T,E,O]}isValid(r,s){return r>=0&&r<this.image.getWidth()&&s>0&&s<this.image.getHeight()}isValidPoint(r){let s=Fe.round(r.getX()),o=Fe.round(r.getY());return this.isValid(s,o)}distancePoint(r,s){return Fe.distance(r.getX(),r.getY(),s.getX(),s.getY())}distanceResultPoint(r,s){return Fe.distance(r.getX(),r.getY(),s.getX(),s.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(I.truncDivision(this.nbLayers-4,8)+1)+15}}class Wa{decode(r,s=null){let o=null,c=new qh(r.getBlackMatrix()),u=null,f=null;try{let E=c.detectMirror(!1);u=E.getPoints(),this.reportFoundResultPoints(s,u),f=new et().decode(E)}catch(E){o=E}if(f==null)try{let E=c.detectMirror(!0);u=E.getPoints(),this.reportFoundResultPoints(s,u),f=new et().decode(E)}catch(E){throw o??E}let h=new Je(f.getText(),f.getRawBytes(),f.getNumBits(),u,Z.AZTEC,M.currentTimeMillis()),x=f.getByteSegments();x!=null&&h.putMetadata(be.BYTE_SEGMENTS,x);let w=f.getECLevel();return w!=null&&h.putMetadata(be.ERROR_CORRECTION_LEVEL,w),h}reportFoundResultPoints(r,s){if(r!=null){let o=r.get(U.NEED_RESULT_POINT_CALLBACK);o!=null&&s.forEach((c,u,f)=>{o.foundPossibleResultPoint(c)})}}reset(){}}class Kx extends Pt{constructor(r=500){super(new Wa,r)}}class Nt{decode(r,s){try{return this.doDecode(r,s)}catch{if(s&&s.get(U.TRY_HARDER)===!0&&r.isRotateSupported()){const u=r.rotateCounterClockwise(),f=this.doDecode(u,s),h=f.getResultMetadata();let x=270;h!==null&&h.get(be.ORIENTATION)===!0&&(x=x+h.get(be.ORIENTATION)%360),f.putMetadata(be.ORIENTATION,x);const w=f.getResultPoints();if(w!==null){const E=u.getHeight();for(let T=0;T<w.length;T++)w[T]=new pe(E-w[T].getY()-1,w[T].getX())}return f}else throw new G}}reset(){}doDecode(r,s){const o=r.getWidth(),c=r.getHeight();let u=new L(o);const f=s&&s.get(U.TRY_HARDER)===!0,h=Math.max(1,c>>(f?8:5));let x;f?x=c:x=15;const w=Math.trunc(c/2);for(let E=0;E<x;E++){const T=Math.trunc((E+1)/2),O=(E&1)===0,P=w+h*(O?T:-T);if(P<0||P>=c)break;try{u=r.getBlackRow(P,u)}catch{continue}for(let F=0;F<2;F++){if(F===1&&(u.reverse(),s&&s.get(U.NEED_RESULT_POINT_CALLBACK)===!0)){const j=new Map;s.forEach((H,X)=>j.set(X,H)),j.delete(U.NEED_RESULT_POINT_CALLBACK),s=j}try{const j=this.decodeRow(P,u,s);if(F===1){j.putMetadata(be.ORIENTATION,180);const H=j.getResultPoints();H!==null&&(H[0]=new pe(o-H[0].getX()-1,H[0].getY()),H[1]=new pe(o-H[1].getX()-1,H[1].getY()))}return j}catch{}}}throw new G}static recordPattern(r,s,o){const c=o.length;for(let w=0;w<c;w++)o[w]=0;const u=r.getSize();if(s>=u)throw new G;let f=!r.get(s),h=0,x=s;for(;x<u;){if(r.get(x)!==f)o[h]++;else{if(++h===c)break;o[h]=1,f=!f}x++}if(!(h===c||h===c-1&&x===u))throw new G}static recordPatternInReverse(r,s,o){let c=o.length,u=r.get(s);for(;s>0&&c>=0;)r.get(--s)!==u&&(c--,u=!u);if(c>=0)throw new G;Nt.recordPattern(r,s+1,o)}static patternMatchVariance(r,s,o){const c=r.length;let u=0,f=0;for(let w=0;w<c;w++)u+=r[w],f+=s[w];if(u<f)return Number.POSITIVE_INFINITY;const h=u/f;o*=h;let x=0;for(let w=0;w<c;w++){const E=r[w],T=s[w]*h,O=E>T?E-T:T-E;if(O>o)return Number.POSITIVE_INFINITY;x+=O}return x/u}}class se extends Nt{static findStartPattern(r){const s=r.getSize(),o=r.getNextSet(0);let c=0,u=Int32Array.from([0,0,0,0,0,0]),f=o,h=!1;const x=6;for(let w=o;w<s;w++)if(r.get(w)!==h)u[c]++;else{if(c===x-1){let E=se.MAX_AVG_VARIANCE,T=-1;for(let O=se.CODE_START_A;O<=se.CODE_START_C;O++){const P=Nt.patternMatchVariance(u,se.CODE_PATTERNS[O],se.MAX_INDIVIDUAL_VARIANCE);P<E&&(E=P,T=O)}if(T>=0&&r.isRange(Math.max(0,f-(w-f)/2),f,!1))return Int32Array.from([f,w,T]);f+=u[0]+u[1],u=u.slice(2,u.length-1),u[c-1]=0,u[c]=0,c--}else c++;u[c]=1,h=!h}throw new G}static decodeCode(r,s,o){Nt.recordPattern(r,o,s);let c=se.MAX_AVG_VARIANCE,u=-1;for(let f=0;f<se.CODE_PATTERNS.length;f++){const h=se.CODE_PATTERNS[f],x=this.patternMatchVariance(s,h,se.MAX_INDIVIDUAL_VARIANCE);x<c&&(c=x,u=f)}if(u>=0)return u;throw new G}decodeRow(r,s,o){const c=o&&o.get(U.ASSUME_GS1)===!0,u=se.findStartPattern(s),f=u[2];let h=0;const x=new Uint8Array(20);x[h++]=f;let w;switch(f){case se.CODE_START_A:w=se.CODE_CODE_A;break;case se.CODE_START_B:w=se.CODE_CODE_B;break;case se.CODE_START_C:w=se.CODE_CODE_C;break;default:throw new B}let E=!1,T=!1,O="",P=u[0],F=u[1];const j=Int32Array.from([0,0,0,0,0,0]);let H=0,X=0,ne=f,re=0,J=!0,Le=!1,Ne=!1;for(;!E;){const vs=T;switch(T=!1,H=X,X=se.decodeCode(s,j,F),x[h++]=X,X!==se.CODE_STOP&&(J=!0),X!==se.CODE_STOP&&(re++,ne+=re*X),P=F,F+=j.reduce((A2,S2)=>A2+S2,0),X){case se.CODE_START_A:case se.CODE_START_B:case se.CODE_START_C:throw new B}switch(w){case se.CODE_CODE_A:if(X<64)Ne===Le?O+=String.fromCharCode(32+X):O+=String.fromCharCode(32+X+128),Ne=!1;else if(X<96)Ne===Le?O+=String.fromCharCode(X-64):O+=String.fromCharCode(X+64),Ne=!1;else switch(X!==se.CODE_STOP&&(J=!1),X){case se.CODE_FNC_1:c&&(O.length===0?O+="]C1":O+="");break;case se.CODE_FNC_2:case se.CODE_FNC_3:break;case se.CODE_FNC_4_A:!Le&&Ne?(Le=!0,Ne=!1):Le&&Ne?(Le=!1,Ne=!1):Ne=!0;break;case se.CODE_SHIFT:T=!0,w=se.CODE_CODE_B;break;case se.CODE_CODE_B:w=se.CODE_CODE_B;break;case se.CODE_CODE_C:w=se.CODE_CODE_C;break;case se.CODE_STOP:E=!0;break}break;case se.CODE_CODE_B:if(X<96)Ne===Le?O+=String.fromCharCode(32+X):O+=String.fromCharCode(32+X+128),Ne=!1;else switch(X!==se.CODE_STOP&&(J=!1),X){case se.CODE_FNC_1:c&&(O.length===0?O+="]C1":O+="");break;case se.CODE_FNC_2:case se.CODE_FNC_3:break;case se.CODE_FNC_4_B:!Le&&Ne?(Le=!0,Ne=!1):Le&&Ne?(Le=!1,Ne=!1):Ne=!0;break;case se.CODE_SHIFT:T=!0,w=se.CODE_CODE_A;break;case se.CODE_CODE_A:w=se.CODE_CODE_A;break;case se.CODE_CODE_C:w=se.CODE_CODE_C;break;case se.CODE_STOP:E=!0;break}break;case se.CODE_CODE_C:if(X<100)X<10&&(O+="0"),O+=X;else switch(X!==se.CODE_STOP&&(J=!1),X){case se.CODE_FNC_1:c&&(O.length===0?O+="]C1":O+="");break;case se.CODE_CODE_A:w=se.CODE_CODE_A;break;case se.CODE_CODE_B:w=se.CODE_CODE_B;break;case se.CODE_STOP:E=!0;break}break}vs&&(w=w===se.CODE_CODE_A?se.CODE_CODE_B:se.CODE_CODE_A)}const mn=F-P;if(F=s.getNextUnset(F),!s.isRange(F,Math.min(s.getSize(),F+(F-P)/2),!1))throw new G;if(ne-=re*H,ne%103!==H)throw new b;const Qn=O.length;if(Qn===0)throw new G;Qn>0&&J&&(w===se.CODE_CODE_C?O=O.substring(0,Qn-2):O=O.substring(0,Qn-1));const xn=(u[1]+u[0])/2,qe=P+mn/2,Wt=x.length,An=new Uint8Array(Wt);for(let vs=0;vs<Wt;vs++)An[vs]=x[vs];const ws=[new pe(xn,r),new pe(qe,r)];return new Je(O,An,0,ws,Z.CODE_128,new Date().getTime())}}se.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],se.MAX_AVG_VARIANCE=.25,se.MAX_INDIVIDUAL_VARIANCE=.7,se.CODE_SHIFT=98,se.CODE_CODE_C=99,se.CODE_CODE_B=100,se.CODE_CODE_A=101,se.CODE_FNC_1=102,se.CODE_FNC_2=97,se.CODE_FNC_3=96,se.CODE_FNC_4_A=101,se.CODE_FNC_4_B=100,se.CODE_START_A=103,se.CODE_START_B=104,se.CODE_START_C=105,se.CODE_STOP=106;class Ot extends Nt{constructor(r=!1,s=!1){super(),this.usingCheckDigit=r,this.extendedMode=s,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(r,s,o){let c=this.counters;c.fill(0),this.decodeRowResult="";let u=Ot.findAsteriskPattern(s,c),f=s.getNextSet(u[1]),h=s.getSize(),x,w;do{Ot.recordPattern(s,f,c);let j=Ot.toNarrowWidePattern(c);if(j<0)throw new G;x=Ot.patternToChar(j),this.decodeRowResult+=x,w=f;for(let H of c)f+=H;f=s.getNextSet(f)}while(x!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let E=0;for(let j of c)E+=j;let T=f-w-E;if(f!==h&&T*2<E)throw new G;if(this.usingCheckDigit){let j=this.decodeRowResult.length-1,H=0;for(let X=0;X<j;X++)H+=Ot.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(X));if(this.decodeRowResult.charAt(j)!==Ot.ALPHABET_STRING.charAt(H%43))throw new b;this.decodeRowResult=this.decodeRowResult.substring(0,j)}if(this.decodeRowResult.length===0)throw new G;let O;this.extendedMode?O=Ot.decodeExtended(this.decodeRowResult):O=this.decodeRowResult;let P=(u[1]+u[0])/2,F=w+E/2;return new Je(O,null,0,[new pe(P,r),new pe(F,r)],Z.CODE_39,new Date().getTime())}static findAsteriskPattern(r,s){let o=r.getSize(),c=r.getNextSet(0),u=0,f=c,h=!1,x=s.length;for(let w=c;w<o;w++)if(r.get(w)!==h)s[u]++;else{if(u===x-1){if(this.toNarrowWidePattern(s)===Ot.ASTERISK_ENCODING&&r.isRange(Math.max(0,f-Math.floor((w-f)/2)),f,!1))return[f,w];f+=s[0]+s[1],s.copyWithin(0,2,2+u-1),s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,h=!h}throw new G}static toNarrowWidePattern(r){let s=r.length,o=0,c;do{let u=2147483647;for(let x of r)x<u&&x>o&&(u=x);o=u,c=0;let f=0,h=0;for(let x=0;x<s;x++){let w=r[x];w>o&&(h|=1<<s-1-x,c++,f+=w)}if(c===3){for(let x=0;x<s&&c>0;x++){let w=r[x];if(w>o&&(c--,w*2>=f))return-1}return h}}while(c>3);return-1}static patternToChar(r){for(let s=0;s<Ot.CHARACTER_ENCODINGS.length;s++)if(Ot.CHARACTER_ENCODINGS[s]===r)return Ot.ALPHABET_STRING.charAt(s);if(r===Ot.ASTERISK_ENCODING)return"*";throw new G}static decodeExtended(r){let s=r.length,o="";for(let c=0;c<s;c++){let u=r.charAt(c);if(u==="+"||u==="$"||u==="%"||u==="/"){let f=r.charAt(c+1),h="\0";switch(u){case"+":if(f>="A"&&f<="Z")h=String.fromCharCode(f.charCodeAt(0)+32);else throw new B;break;case"$":if(f>="A"&&f<="Z")h=String.fromCharCode(f.charCodeAt(0)-64);else throw new B;break;case"%":if(f>="A"&&f<="E")h=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")h=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")h=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")h=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")h="\0";else if(f==="V")h="@";else if(f==="W")h="`";else if(f==="X"||f==="Y"||f==="Z")h="";else throw new B;break;case"/":if(f>="A"&&f<="O")h=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")h=":";else throw new B;break}o+=h,c++}else o+=u}return o}}Ot.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ot.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ot.ASTERISK_ENCODING=148;class Qe extends Nt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(r,s,o){let c=this.decodeStart(s),u=this.decodeEnd(s),f=new me;Qe.decodeMiddle(s,c[1],u[0],f);let h=f.toString(),x=null;o!=null&&(x=o.get(U.ALLOWED_LENGTHS)),x==null&&(x=Qe.DEFAULT_ALLOWED_LENGTHS);let w=h.length,E=!1,T=0;for(let F of x){if(w===F){E=!0;break}F>T&&(T=F)}if(!E&&w>T&&(E=!0),!E)throw new B;const O=[new pe(c[1],r),new pe(u[0],r)];return new Je(h,null,0,O,Z.ITF,new Date().getTime())}static decodeMiddle(r,s,o,c){let u=new Int32Array(10),f=new Int32Array(5),h=new Int32Array(5);for(u.fill(0),f.fill(0),h.fill(0);s<o;){Nt.recordPattern(r,s,u);for(let w=0;w<5;w++){let E=2*w;f[w]=u[E],h[w]=u[E+1]}let x=Qe.decodeDigit(f);c.append(x.toString()),x=this.decodeDigit(h),c.append(x.toString()),u.forEach(function(w){s+=w})}}decodeStart(r){let s=Qe.skipWhiteSpace(r),o=Qe.findGuardPattern(r,s,Qe.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(r,o[0]),o}validateQuietZone(r,s){let o=this.narrowLineWidth*10;o=o<s?o:s;for(let c=s-1;o>0&&c>=0&&!r.get(c);c--)o--;if(o!==0)throw new G}static skipWhiteSpace(r){const s=r.getSize(),o=r.getNextSet(0);if(o===s)throw new G;return o}decodeEnd(r){r.reverse();try{let s=Qe.skipWhiteSpace(r),o;try{o=Qe.findGuardPattern(r,s,Qe.END_PATTERN_REVERSED[0])}catch(u){u instanceof G&&(o=Qe.findGuardPattern(r,s,Qe.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,o[0]);let c=o[0];return o[0]=r.getSize()-o[1],o[1]=r.getSize()-c,o}finally{r.reverse()}}static findGuardPattern(r,s,o){let c=o.length,u=new Int32Array(c),f=r.getSize(),h=!1,x=0,w=s;u.fill(0);for(let E=s;E<f;E++)if(r.get(E)!==h)u[x]++;else{if(x===c-1){if(Nt.patternMatchVariance(u,o,Qe.MAX_INDIVIDUAL_VARIANCE)<Qe.MAX_AVG_VARIANCE)return[w,E];w+=u[0]+u[1],M.arraycopy(u,2,u,0,x-1),u[x-1]=0,u[x]=0,x--}else x++;u[x]=1,h=!h}throw new G}static decodeDigit(r){let s=Qe.MAX_AVG_VARIANCE,o=-1,c=Qe.PATTERNS.length;for(let u=0;u<c;u++){let f=Qe.PATTERNS[u],h=Nt.patternMatchVariance(r,f,Qe.MAX_INDIVIDUAL_VARIANCE);h<s?(s=h,o=u):h===s&&(o=-1)}if(o>=0)return o%10;throw new G}}Qe.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Qe.MAX_AVG_VARIANCE=.38,Qe.MAX_INDIVIDUAL_VARIANCE=.5,Qe.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Qe.START_PATTERN=Int32Array.from([1,1,1,1]),Qe.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class wt extends Nt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(r){let s=!1,o,c=0,u=Int32Array.from([0,0,0]);for(;!s;){u=Int32Array.from([0,0,0]),o=wt.findGuardPattern(r,c,!1,this.START_END_PATTERN,u);let f=o[0];c=o[1];let h=f-(c-f);h>=0&&(s=r.isRange(h,f,!1))}return o}static checkChecksum(r){return wt.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let s=r.length;if(s===0)return!1;let o=parseInt(r.charAt(s-1),10);return wt.getStandardUPCEANChecksum(r.substring(0,s-1))===o}static getStandardUPCEANChecksum(r){let s=r.length,o=0;for(let c=s-1;c>=0;c-=2){let u=r.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new B;o+=u}o*=3;for(let c=s-2;c>=0;c-=2){let u=r.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new B;o+=u}return(1e3-o)%10}static decodeEnd(r,s){return wt.findGuardPattern(r,s,!1,wt.START_END_PATTERN,new Int32Array(wt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(r,s,o,c){return this.findGuardPattern(r,s,o,c,new Int32Array(c.length))}static findGuardPattern(r,s,o,c,u){let f=r.getSize();s=o?r.getNextUnset(s):r.getNextSet(s);let h=0,x=s,w=c.length,E=o;for(let T=s;T<f;T++)if(r.get(T)!==E)u[h]++;else{if(h===w-1){if(Nt.patternMatchVariance(u,c,wt.MAX_INDIVIDUAL_VARIANCE)<wt.MAX_AVG_VARIANCE)return Int32Array.from([x,T]);x+=u[0]+u[1];let O=u.slice(2,u.length-1);for(let P=0;P<h-1;P++)u[P]=O[P];u[h-1]=0,u[h]=0,h--}else h++;u[h]=1,E=!E}throw new G}static decodeDigit(r,s,o,c){this.recordPattern(r,o,s);let u=this.MAX_AVG_VARIANCE,f=-1,h=c.length;for(let x=0;x<h;x++){let w=c[x],E=Nt.patternMatchVariance(s,w,wt.MAX_INDIVIDUAL_VARIANCE);E<u&&(u=E,f=x)}if(f>=0)return f;throw new G}}wt.MAX_AVG_VARIANCE=.48,wt.MAX_INDIVIDUAL_VARIANCE=.7,wt.START_END_PATTERN=Int32Array.from([1,1,1]),wt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),wt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),wt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class go{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,s,o){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(s,o,c),f=c.toString(),h=go.parseExtensionString(f),x=[new pe((o[0]+o[1])/2,r),new pe(u,r)],w=new Je(f,null,0,x,Z.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&w.putAllMetadata(h),w}decodeMiddle(r,s,o){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),f=s[1],h=0;for(let w=0;w<5&&f<u;w++){let E=wt.decodeDigit(r,c,f,wt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+E%10);for(let T of c)f+=T;E>=10&&(h|=1<<4-w),w!==4&&(f=r.getNextSet(f),f=r.getNextUnset(f))}if(o.length!==5)throw new G;let x=this.determineCheckDigit(h);if(go.extensionChecksum(o.toString())!==x)throw new G;return f}static extensionChecksum(r){let s=r.length,o=0;for(let c=s-2;c>=0;c-=2)o+=r.charAt(c).charCodeAt(0)-48;o*=3;for(let c=s-1;c>=0;c-=2)o+=r.charAt(c).charCodeAt(0)-48;return o*=3,o%10}determineCheckDigit(r){for(let s=0;s<10;s++)if(r===this.CHECK_DIGIT_ENCODINGS[s])return s;throw new G}static parseExtensionString(r){if(r.length!==5)return null;let s=go.parseExtension5String(r);return s==null?null:new Map([[be.SUGGESTED_PRICE,s]])}static parseExtension5String(r){let s;switch(r.charAt(0)){case"0":s="";break;case"5":s="$";break;case"9":switch(r){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}s="";break;default:s="";break}let o=parseInt(r.substring(1)),c=(o/100).toString(),u=o%100,f=u<10?"0"+u:u.toString();return s+c+"."+f}}class ru{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,s,o){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(s,o,c),f=c.toString(),h=ru.parseExtensionString(f),x=[new pe((o[0]+o[1])/2,r),new pe(u,r)],w=new Je(f,null,0,x,Z.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&w.putAllMetadata(h),w}decodeMiddle(r,s,o){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),f=s[1],h=0;for(let x=0;x<2&&f<u;x++){let w=wt.decodeDigit(r,c,f,wt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+w%10);for(let E of c)f+=E;w>=10&&(h|=1<<1-x),x!==1&&(f=r.getNextSet(f),f=r.getNextUnset(f))}if(o.length!==2)throw new G;if(parseInt(o.toString())%4!==h)throw new G;return f}static parseExtensionString(r){return r.length!==2?null:new Map([[be.ISSUE_NUMBER,parseInt(r)]])}}class $h{static decodeRow(r,s,o){let c=wt.findGuardPattern(s,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new go().decodeRow(r,s,c)}catch{return new ru().decodeRow(r,s,c)}}}$h.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ve extends wt{constructor(){super(),this.decodeRowStringBuffer="",Ve.L_AND_G_PATTERNS=Ve.L_PATTERNS.map(r=>Int32Array.from(r));for(let r=10;r<20;r++){let s=Ve.L_PATTERNS[r-10],o=new Int32Array(s.length);for(let c=0;c<s.length;c++)o[c]=s[s.length-c-1];Ve.L_AND_G_PATTERNS[r]=o}}decodeRow(r,s,o){let c=Ve.findStartGuardPattern(s),u=o==null?null:o.get(U.NEED_RESULT_POINT_CALLBACK);if(u!=null){const J=new pe((c[0]+c[1])/2,r);u.foundPossibleResultPoint(J)}let f=this.decodeMiddle(s,c,this.decodeRowStringBuffer),h=f.rowOffset,x=f.resultString;if(u!=null){const J=new pe(h,r);u.foundPossibleResultPoint(J)}let w=this.decodeEnd(s,h);if(u!=null){const J=new pe((w[0]+w[1])/2,r);u.foundPossibleResultPoint(J)}let E=w[1],T=E+(E-w[0]);if(T>=s.getSize()||!s.isRange(E,T,!1))throw new G;let O=x.toString();if(O.length<8)throw new B;if(!Ve.checkChecksum(O))throw new b;let P=(c[1]+c[0])/2,F=(w[1]+w[0])/2,j=this.getBarcodeFormat(),H=[new pe(P,r),new pe(F,r)],X=new Je(O,null,0,H,j,new Date().getTime()),ne=0;try{let J=$h.decodeRow(r,s,w[1]);X.putMetadata(be.UPC_EAN_EXTENSION,J.getText()),X.putAllMetadata(J.getResultMetadata()),X.addResultPoints(J.getResultPoints()),ne=J.getText().length}catch{}let re=o==null?null:o.get(U.ALLOWED_EAN_EXTENSIONS);if(re!=null){let J=!1;for(let Le in re)if(ne.toString()===Le){J=!0;break}if(!J)throw new G}return X}decodeEnd(r,s){return Ve.findGuardPattern(r,s,!1,Ve.START_END_PATTERN,new Int32Array(Ve.START_END_PATTERN.length).fill(0))}static checkChecksum(r){return Ve.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let s=r.length;if(s===0)return!1;let o=parseInt(r.charAt(s-1),10);return Ve.getStandardUPCEANChecksum(r.substring(0,s-1))===o}static getStandardUPCEANChecksum(r){let s=r.length,o=0;for(let c=s-1;c>=0;c-=2){let u=r.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new B;o+=u}o*=3;for(let c=s-2;c>=0;c-=2){let u=r.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new B;o+=u}return(1e3-o)%10}}class Di extends Ve{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,s,o){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),f=s[1],h=0;for(let w=0;w<6&&f<u;w++){let E=Ve.decodeDigit(r,c,f,Ve.L_AND_G_PATTERNS);o+=String.fromCharCode(48+E%10);for(let T of c)f+=T;E>=10&&(h|=1<<5-w)}o=Di.determineFirstDigit(o,h),f=Ve.findGuardPattern(r,f,!0,Ve.MIDDLE_PATTERN,new Int32Array(Ve.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<6&&f<u;w++){let E=Ve.decodeDigit(r,c,f,Ve.L_PATTERNS);o+=String.fromCharCode(48+E);for(let T of c)f+=T}return{rowOffset:f,resultString:o}}getBarcodeFormat(){return Z.EAN_13}static determineFirstDigit(r,s){for(let o=0;o<10;o++)if(s===this.FIRST_DIGIT_ENCODINGS[o])return r=String.fromCharCode(48+o)+r,r;throw new G}}Di.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Jh extends Ve{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,s,o){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),f=s[1];for(let x=0;x<4&&f<u;x++){let w=Ve.decodeDigit(r,c,f,Ve.L_PATTERNS);o+=String.fromCharCode(48+w);for(let E of c)f+=E}f=Ve.findGuardPattern(r,f,!0,Ve.MIDDLE_PATTERN,new Int32Array(Ve.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<4&&f<u;x++){let w=Ve.decodeDigit(r,c,f,Ve.L_PATTERNS);o+=String.fromCharCode(48+w);for(let E of c)f+=E}return{rowOffset:f,resultString:o}}getBarcodeFormat(){return Z.EAN_8}}class e0 extends Ve{constructor(){super(...arguments),this.ean13Reader=new Di}getBarcodeFormat(){return Z.UPC_A}decode(r,s){return this.maybeReturnResult(this.ean13Reader.decode(r))}decodeRow(r,s,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,s,o))}decodeMiddle(r,s,o){return this.ean13Reader.decodeMiddle(r,s,o)}maybeReturnResult(r){let s=r.getText();if(s.charAt(0)==="0"){let o=new Je(s.substring(1),null,null,r.getResultPoints(),Z.UPC_A);return r.getResultMetadata()!=null&&o.putAllMetadata(r.getResultMetadata()),o}else throw new G}reset(){this.ean13Reader.reset()}}class Kn extends Ve{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(r,s,o){const c=this.decodeMiddleCounters.map(w=>w);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const u=r.getSize();let f=s[1],h=0;for(let w=0;w<6&&f<u;w++){const E=Kn.decodeDigit(r,c,f,Kn.L_AND_G_PATTERNS);o+=String.fromCharCode(48+E%10);for(let T of c)f+=T;E>=10&&(h|=1<<5-w)}let x=Kn.determineNumSysAndCheckDigit(o,h);return{rowOffset:f,resultString:x}}decodeEnd(r,s){return Kn.findGuardPatternWithoutCounters(r,s,!0,Kn.MIDDLE_END_PATTERN)}checkChecksum(r){return Ve.checkChecksum(Kn.convertUPCEtoUPCA(r))}static determineNumSysAndCheckDigit(r,s){for(let o=0;o<=1;o++)for(let c=0;c<10;c++)if(s===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][c]){let u=String.fromCharCode(48+o),f=String.fromCharCode(48+c);return u+r+f}throw G.getNotFoundInstance()}getBarcodeFormat(){return Z.UPC_E}static convertUPCEtoUPCA(r){const s=r.slice(1,7).split("").map(u=>u.charCodeAt(0)),o=new me;o.append(r.charAt(0));let c=s[5];switch(c){case 0:case 1:case 2:o.appendChars(s,0,2),o.append(c),o.append("0000"),o.appendChars(s,2,3);break;case 3:o.appendChars(s,0,3),o.append("00000"),o.appendChars(s,3,2);break;case 4:o.appendChars(s,0,4),o.append("00000"),o.append(s[4]);break;default:o.appendChars(s,0,5),o.append("0000"),o.append(c);break}return r.length>=8&&o.append(r.charAt(7)),o.toString()}}Kn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Kn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class iu extends Nt{constructor(r){super();let s=r==null?null:r.get(U.POSSIBLE_FORMATS),o=[];i(s)?(o.push(new Di),o.push(new e0),o.push(new Jh),o.push(new Kn)):(s.indexOf(Z.EAN_13)>-1&&o.push(new Di),s.indexOf(Z.UPC_A)>-1&&o.push(new e0),s.indexOf(Z.EAN_8)>-1&&o.push(new Jh),s.indexOf(Z.UPC_E)>-1&&o.push(new Kn)),this.readers=o}decodeRow(r,s,o){for(let c of this.readers)try{const u=c.decodeRow(r,s,o),f=u.getBarcodeFormat()===Z.EAN_13&&u.getText().charAt(0)==="0",h=o==null?null:o.get(U.POSSIBLE_FORMATS),x=h==null||h.includes(Z.UPC_A);if(f&&x){const w=u.getRawBytes(),E=new Je(u.getText().substring(1),w,w?w.length:null,u.getResultPoints(),Z.UPC_A);return E.putAllMetadata(u.getResultMetadata()),E}return u}catch{}throw new G}reset(){for(let r of this.readers)r.reset()}}class Kt extends Nt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(r,s){for(let o=0;o<s.length;o++)if(Nt.patternMatchVariance(r,s[o],Kt.MAX_INDIVIDUAL_VARIANCE)<Kt.MAX_AVG_VARIANCE)return o;throw new G}static count(r){return Fe.sum(new Int32Array(r))}static increment(r,s){let o=0,c=s[0];for(let u=1;u<r.length;u++)s[u]>c&&(c=s[u],o=u);r[o]++}static decrement(r,s){let o=0,c=s[0];for(let u=1;u<r.length;u++)s[u]<c&&(c=s[u],o=u);r[o]--}static isFinderPattern(r){let s=r[0]+r[1],o=s+r[2]+r[3],c=s/o;if(c>=Kt.MIN_FINDER_PATTERN_RATIO&&c<=Kt.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let h of r)h>f&&(f=h),h<u&&(u=h);return f<10*u}return!1}}Kt.MAX_AVG_VARIANCE=.2,Kt.MAX_INDIVIDUAL_VARIANCE=.45,Kt.MIN_FINDER_PATTERN_RATIO=9.5/12,Kt.MAX_FINDER_PATTERN_RATIO=12.5/14;class ds{constructor(r,s){this.value=r,this.checksumPortion=s}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(r){if(!(r instanceof ds))return!1;const s=r;return this.value===s.value&&this.checksumPortion===s.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ga{constructor(r,s,o,c,u){this.value=r,this.startEnd=s,this.value=r,this.startEnd=s,this.resultPoints=new Array,this.resultPoints.push(new pe(o,u)),this.resultPoints.push(new pe(c,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(r){if(!(r instanceof Ga))return!1;const s=r;return this.value===s.value}hashCode(){return this.value}}class ar{constructor(){}static getRSSvalue(r,s,o){let c=0;for(let x of r)c+=x;let u=0,f=0,h=r.length;for(let x=0;x<h-1;x++){let w;for(w=1,f|=1<<x;w<r[x];w++,f&=~(1<<x)){let E=ar.combins(c-w-1,h-x-2);if(o&&f===0&&c-w-(h-x-1)>=h-x-1&&(E-=ar.combins(c-w-(h-x),h-x-2)),h-x-1>1){let T=0;for(let O=c-w-(h-x-2);O>s;O--)T+=ar.combins(c-w-O-1,h-x-3);E-=T*(h-1-x)}else c-w>s&&E--;u+=E}c-=w}return u}static combins(r,s){let o,c;r-s>s?(c=s,o=r-s):(c=r-s,o=s);let u=1,f=1;for(let h=r;h>o;h--)u*=h,f<=c&&(u/=f,f++);for(;f<=c;)u/=f,f++;return u}}class Qx{static buildBitArray(r){let s=r.length*2-1;r[r.length-1].getRightChar()==null&&(s-=1);let o=12*s,c=new L(o),u=0,h=r[0].getRightChar().getValue();for(let x=11;x>=0;--x)h&1<<x&&c.set(u),u++;for(let x=1;x<r.length;++x){let w=r[x],E=w.getLeftChar().getValue();for(let T=11;T>=0;--T)E&1<<T&&c.set(u),u++;if(w.getRightChar()!=null){let T=w.getRightChar().getValue();for(let O=11;O>=0;--O)T&1<<O&&c.set(u),u++}}return c}}class ki{constructor(r,s){s?this.decodedInformation=null:(this.finished=r,this.decodedInformation=s)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class su{constructor(r){this.newPosition=r}getNewPosition(){return this.newPosition}}class hn extends su{constructor(r,s){super(r),this.value=s}getValue(){return this.value}isFNC1(){return this.value===hn.FNC1}}hn.FNC1="$";class Li extends su{constructor(r,s,o){super(r),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=s}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Ln extends su{constructor(r,s,o){if(super(r),s<0||s>10||o<0||o>10)throw new B;this.firstDigit=s,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Ln.FNC1}isSecondDigitFNC1(){return this.secondDigit===Ln.FNC1}isAnyFNC1(){return this.firstDigit===Ln.FNC1||this.secondDigit===Ln.FNC1}}Ln.FNC1=10;class ce{constructor(){}static parseFieldsInGeneralPurpose(r){if(!r)return null;if(r.length<2)throw new G;let s=r.substring(0,2);for(let u of ce.TWO_DIGIT_DATA_LENGTH)if(u[0]===s)return u[1]===ce.VARIABLE_LENGTH?ce.processVariableAI(2,u[2],r):ce.processFixedAI(2,u[1],r);if(r.length<3)throw new G;let o=r.substring(0,3);for(let u of ce.THREE_DIGIT_DATA_LENGTH)if(u[0]===o)return u[1]===ce.VARIABLE_LENGTH?ce.processVariableAI(3,u[2],r):ce.processFixedAI(3,u[1],r);for(let u of ce.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===o)return u[1]===ce.VARIABLE_LENGTH?ce.processVariableAI(4,u[2],r):ce.processFixedAI(4,u[1],r);if(r.length<4)throw new G;let c=r.substring(0,4);for(let u of ce.FOUR_DIGIT_DATA_LENGTH)if(u[0]===c)return u[1]===ce.VARIABLE_LENGTH?ce.processVariableAI(4,u[2],r):ce.processFixedAI(4,u[1],r);throw new G}static processFixedAI(r,s,o){if(o.length<r)throw new G;let c=o.substring(0,r);if(o.length<r+s)throw new G;let u=o.substring(r,r+s),f=o.substring(r+s),h="("+c+")"+u,x=ce.parseFieldsInGeneralPurpose(f);return x==null?h:h+x}static processVariableAI(r,s,o){let c=o.substring(0,r),u;o.length<r+s?u=o.length:u=r+s;let f=o.substring(r,u),h=o.substring(u),x="("+c+")"+f,w=ce.parseFieldsInGeneralPurpose(h);return w==null?x:x+w}}ce.VARIABLE_LENGTH=[],ce.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ce.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ce.VARIABLE_LENGTH,20],["22",ce.VARIABLE_LENGTH,29],["30",ce.VARIABLE_LENGTH,8],["37",ce.VARIABLE_LENGTH,8],["90",ce.VARIABLE_LENGTH,30],["91",ce.VARIABLE_LENGTH,30],["92",ce.VARIABLE_LENGTH,30],["93",ce.VARIABLE_LENGTH,30],["94",ce.VARIABLE_LENGTH,30],["95",ce.VARIABLE_LENGTH,30],["96",ce.VARIABLE_LENGTH,30],["97",ce.VARIABLE_LENGTH,3],["98",ce.VARIABLE_LENGTH,30],["99",ce.VARIABLE_LENGTH,30]],ce.THREE_DIGIT_DATA_LENGTH=[["240",ce.VARIABLE_LENGTH,30],["241",ce.VARIABLE_LENGTH,30],["242",ce.VARIABLE_LENGTH,6],["250",ce.VARIABLE_LENGTH,30],["251",ce.VARIABLE_LENGTH,30],["253",ce.VARIABLE_LENGTH,17],["254",ce.VARIABLE_LENGTH,20],["400",ce.VARIABLE_LENGTH,30],["401",ce.VARIABLE_LENGTH,30],["402",17],["403",ce.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ce.VARIABLE_LENGTH,20],["421",ce.VARIABLE_LENGTH,15],["422",3],["423",ce.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ce.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ce.VARIABLE_LENGTH,15],["391",ce.VARIABLE_LENGTH,18],["392",ce.VARIABLE_LENGTH,15],["393",ce.VARIABLE_LENGTH,18],["703",ce.VARIABLE_LENGTH,30]],ce.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ce.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ce.VARIABLE_LENGTH,20],["8003",ce.VARIABLE_LENGTH,30],["8004",ce.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ce.VARIABLE_LENGTH,30],["8008",ce.VARIABLE_LENGTH,12],["8018",18],["8020",ce.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ce.VARIABLE_LENGTH,70],["8200",ce.VARIABLE_LENGTH,70]];class hs{constructor(r){this.buffer=new me,this.information=r}decodeAllCodes(r,s){let o=s,c=null;do{let u=this.decodeGeneralPurposeField(o,c),f=ce.parseFieldsInGeneralPurpose(u.getNewString());if(f!=null&&r.append(f),u.isRemaining()?c=""+u.getRemainingValue():c=null,o===u.getNewPosition())break;o=u.getNewPosition()}while(!0);return r.toString()}isStillNumeric(r){if(r+7>this.information.getSize())return r+4<=this.information.getSize();for(let s=r;s<r+3;++s)if(this.information.get(s))return!0;return this.information.get(r+3)}decodeNumeric(r){if(r+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(r,4);return u===0?new Ln(this.information.getSize(),Ln.FNC1,Ln.FNC1):new Ln(this.information.getSize(),u-1,Ln.FNC1)}let s=this.extractNumericValueFromBitArray(r,7),o=(s-8)/11,c=(s-8)%11;return new Ln(r+7,o,c)}extractNumericValueFromBitArray(r,s){return hs.extractNumericValueFromBitArray(this.information,r,s)}static extractNumericValueFromBitArray(r,s,o){let c=0;for(let u=0;u<o;++u)r.get(s+u)&&(c|=1<<o-u-1);return c}decodeGeneralPurposeField(r,s){this.buffer.setLengthToZero(),s!=null&&this.buffer.append(s),this.current.setPosition(r);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new Li(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new Li(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let r,s;do{let o=this.current.getPosition();if(this.current.isAlpha()?(s=this.parseAlphaBlock(),r=s.isFinished()):this.current.isIsoIec646()?(s=this.parseIsoIec646Block(),r=s.isFinished()):(s=this.parseNumericBlock(),r=s.isFinished()),!(o!==this.current.getPosition())&&!r)break}while(!r);return s.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let r=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFirstDigitFNC1()){let s;return r.isSecondDigitFNC1()?s=new Li(this.current.getPosition(),this.buffer.toString()):s=new Li(this.current.getPosition(),this.buffer.toString(),r.getSecondDigit()),new ki(!0,s)}if(this.buffer.append(r.getFirstDigit()),r.isSecondDigitFNC1()){let s=new Li(this.current.getPosition(),this.buffer.toString());return new ki(!0,s)}this.buffer.append(r.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ki(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let r=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let s=new Li(this.current.getPosition(),this.buffer.toString());return new ki(!0,s)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ki(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let r=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let s=new Li(this.current.getPosition(),this.buffer.toString());return new ki(!0,s)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ki(!1)}isStillIsoIec646(r){if(r+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(r,5);if(s>=5&&s<16)return!0;if(r+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,7);if(o>=64&&o<116)return!0;if(r+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(r,8);return c>=232&&c<253}decodeIsoIec646(r){let s=this.extractNumericValueFromBitArray(r,5);if(s===15)return new hn(r+5,hn.FNC1);if(s>=5&&s<15)return new hn(r+5,"0"+(s-5));let o=this.extractNumericValueFromBitArray(r,7);if(o>=64&&o<90)return new hn(r+7,""+(o+1));if(o>=90&&o<116)return new hn(r+7,""+(o+7));let c=this.extractNumericValueFromBitArray(r,8),u;switch(c){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new B}return new hn(r+8,u)}isStillAlpha(r){if(r+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(r,5);if(s>=5&&s<16)return!0;if(r+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,6);return o>=16&&o<63}decodeAlphanumeric(r){let s=this.extractNumericValueFromBitArray(r,5);if(s===15)return new hn(r+5,hn.FNC1);if(s>=5&&s<15)return new hn(r+5,"0"+(s-5));let o=this.extractNumericValueFromBitArray(r,6);if(o>=32&&o<58)return new hn(r+6,""+(o+33));let c;switch(o){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new or("Decoding invalid alphanumeric value: "+o)}return new hn(r+6,c)}isAlphaTo646ToAlphaLatch(r){if(r+1>this.information.getSize())return!1;for(let s=0;s<5&&s+r<this.information.getSize();++s)if(s===2){if(!this.information.get(r+2))return!1}else if(this.information.get(r+s))return!1;return!0}isAlphaOr646ToNumericLatch(r){if(r+3>this.information.getSize())return!1;for(let s=r;s<r+3;++s)if(this.information.get(s))return!1;return!0}isNumericToAlphaNumericLatch(r){if(r+1>this.information.getSize())return!1;for(let s=0;s<4&&s+r<this.information.getSize();++s)if(this.information.get(r+s))return!1;return!0}}class ou{constructor(r){this.information=r,this.generalDecoder=new hs(r)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class gn extends ou{constructor(r){super(r)}encodeCompressedGtin(r,s){r.append("(01)");let o=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,s,o)}encodeCompressedGtinWithoutAI(r,s,o){for(let c=0;c<4;++c){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(s+10*c,10);u/100===0&&r.append("0"),u/10===0&&r.append("0"),r.append(u)}gn.appendCheckDigit(r,o)}static appendCheckDigit(r,s){let o=0;for(let c=0;c<13;c++){let u=r.charAt(c+s).charCodeAt(0)-48;o+=c&1?u:3*u}o=10-o%10,o===10&&(o=0),r.append(o)}}gn.GTIN_SIZE=40;class gs extends gn{constructor(r){super(r)}parseInformation(){let r=new me;r.append("(01)");let s=r.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(gs.HEADER_SIZE,4);return r.append(o),this.encodeCompressedGtinWithoutAI(r,gs.HEADER_SIZE+4,s),this.getGeneralDecoder().decodeAllCodes(r,gs.HEADER_SIZE+44)}}gs.HEADER_SIZE=4;class Ya extends ou{constructor(r){super(r)}parseInformation(){let r=new me;return this.getGeneralDecoder().decodeAllCodes(r,Ya.HEADER_SIZE)}}Ya.HEADER_SIZE=5;class Xa extends gn{constructor(r){super(r)}encodeCompressedWeight(r,s,o){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(s,o);this.addWeightCode(r,c);let u=this.checkWeight(c),f=1e5;for(let h=0;h<5;++h)u/f===0&&r.append("0"),f/=10;r.append(u)}}class lr extends Xa{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()!=lr.HEADER_SIZE+Xa.GTIN_SIZE+lr.WEIGHT_SIZE)throw new G;let r=new me;return this.encodeCompressedGtin(r,lr.HEADER_SIZE),this.encodeCompressedWeight(r,lr.HEADER_SIZE+Xa.GTIN_SIZE,lr.WEIGHT_SIZE),r.toString()}}lr.HEADER_SIZE=5,lr.WEIGHT_SIZE=15;class Zx extends lr{constructor(r){super(r)}addWeightCode(r,s){r.append("(3103)")}checkWeight(r){return r}}class qx extends lr{constructor(r){super(r)}addWeightCode(r,s){s<1e4?r.append("(3202)"):r.append("(3203)")}checkWeight(r){return r<1e4?r:r-1e4}}class cr extends gn{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<cr.HEADER_SIZE+gn.GTIN_SIZE)throw new G;let r=new me;this.encodeCompressedGtin(r,cr.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(cr.HEADER_SIZE+gn.GTIN_SIZE,cr.LAST_DIGIT_SIZE);r.append("(392"),r.append(s),r.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(cr.HEADER_SIZE+gn.GTIN_SIZE+cr.LAST_DIGIT_SIZE,null);return r.append(o.getNewString()),r.toString()}}cr.HEADER_SIZE=8,cr.LAST_DIGIT_SIZE=2;class sn extends gn{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<sn.HEADER_SIZE+gn.GTIN_SIZE)throw new G;let r=new me;this.encodeCompressedGtin(r,sn.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(sn.HEADER_SIZE+gn.GTIN_SIZE,sn.LAST_DIGIT_SIZE);r.append("(393"),r.append(s),r.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(sn.HEADER_SIZE+gn.GTIN_SIZE+sn.LAST_DIGIT_SIZE,sn.FIRST_THREE_DIGITS_SIZE);o/100==0&&r.append("0"),o/10==0&&r.append("0"),r.append(o);let c=this.getGeneralDecoder().decodeGeneralPurposeField(sn.HEADER_SIZE+gn.GTIN_SIZE+sn.LAST_DIGIT_SIZE+sn.FIRST_THREE_DIGITS_SIZE,null);return r.append(c.getNewString()),r.toString()}}sn.HEADER_SIZE=8,sn.LAST_DIGIT_SIZE=2,sn.FIRST_THREE_DIGITS_SIZE=10;class ct extends Xa{constructor(r,s,o){super(r),this.dateCode=o,this.firstAIdigits=s}parseInformation(){if(this.getInformation().getSize()!=ct.HEADER_SIZE+ct.GTIN_SIZE+ct.WEIGHT_SIZE+ct.DATE_SIZE)throw new G;let r=new me;return this.encodeCompressedGtin(r,ct.HEADER_SIZE),this.encodeCompressedWeight(r,ct.HEADER_SIZE+ct.GTIN_SIZE,ct.WEIGHT_SIZE),this.encodeCompressedDate(r,ct.HEADER_SIZE+ct.GTIN_SIZE+ct.WEIGHT_SIZE),r.toString()}encodeCompressedDate(r,s){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(s,ct.DATE_SIZE);if(o==38400)return;r.append("("),r.append(this.dateCode),r.append(")");let c=o%32;o/=32;let u=o%12+1;o/=12;let f=o;f/10==0&&r.append("0"),r.append(f),u/10==0&&r.append("0"),r.append(u),c/10==0&&r.append("0"),r.append(c)}addWeightCode(r,s){r.append("("),r.append(this.firstAIdigits),r.append(s/1e5),r.append(")")}checkWeight(r){return r%1e5}}ct.HEADER_SIZE=8,ct.WEIGHT_SIZE=20,ct.DATE_SIZE=16;function t0(N){try{if(N.get(1))return new gs(N);if(!N.get(2))return new Ya(N);switch(hs.extractNumericValueFromBitArray(N,1,4)){case 4:return new Zx(N);case 5:return new qx(N)}switch(hs.extractNumericValueFromBitArray(N,1,5)){case 12:return new cr(N);case 13:return new sn(N)}switch(hs.extractNumericValueFromBitArray(N,1,7)){case 56:return new ct(N,"310","11");case 57:return new ct(N,"320","11");case 58:return new ct(N,"310","13");case 59:return new ct(N,"320","13");case 60:return new ct(N,"310","15");case 61:return new ct(N,"320","15");case 62:return new ct(N,"310","17");case 63:return new ct(N,"320","17")}}catch(r){throw console.log(r),new or("unknown decoder: "+N)}}class Xr{constructor(r,s,o,c){this.leftchar=r,this.rightchar=s,this.finderpattern=o,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(r,s){return r instanceof Xr?Xr.equalsOrNull(r.leftchar,s.leftchar)&&Xr.equalsOrNull(r.rightchar,s.rightchar)&&Xr.equalsOrNull(r.finderpattern,s.finderpattern):!1}static equalsOrNull(r,s){return r===null?s===null:Xr.equals(r,s)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class au{constructor(r,s,o){this.pairs=r,this.rowNumber=s,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(r){return this.checkEqualitity(this,r)}toString(){return"{ "+this.pairs+" }"}equals(r,s){return r instanceof au?this.checkEqualitity(r,s)&&r.wasReversed===s.wasReversed:!1}checkEqualitity(r,s){if(!r||!s)return;let o;return r.forEach((c,u)=>{s.forEach(f=>{c.getLeftChar().getValue()===f.getLeftChar().getValue()&&c.getRightChar().getValue()===f.getRightChar().getValue()&&c.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(o=!0)})}),o}}class q extends Kt{constructor(r){super(...arguments),this.pairs=new Array(q.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=r===!0}decodeRow(r,s,o){this.pairs.length=0,this.startFromEven=!1;try{return q.constructResult(this.decodeRow2pairs(r,s))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,q.constructResult(this.decodeRow2pairs(r,s))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(r,s){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(s,this.pairs,r))}catch(u){if(u instanceof G){if(!this.pairs.length)throw new G;o=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(r,!1),c){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new G}checkRowsBoolean(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());let s=null;try{s=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return r&&(this.rows=this.rows.reverse()),s}checkRows(r,s){for(let o=s;o<this.rows.length;o++){let c=this.rows[o];this.pairs.length=0;for(let f of r)this.pairs.push(f.getPairs());if(this.pairs.push(c.getPairs()),!q.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(r);u.push(c);try{return this.checkRows(u,o+1)}catch(f){this.verbose&&console.log(f)}}throw new G}static isValidSequence(r){for(let s of q.FINDER_PATTERN_SEQUENCES){if(r.length>s.length)continue;let o=!0;for(let c=0;c<r.length;c++)if(r[c].getFinderPattern().getValue()!=s[c]){o=!1;break}if(o)return!0}return!1}storeRow(r,s){let o=0,c=!1,u=!1;for(;o<this.rows.length;){let f=this.rows[o];if(f.getRowNumber()>r){u=f.isEquivalent(this.pairs);break}c=f.isEquivalent(this.pairs),o++}u||c||q.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new au(this.pairs,r,s)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(r,s){for(let o of s)if(o.getPairs().length!==r.length){for(let c of o.getPairs())for(let u of r)if(Xr.equals(c,u))break}}static isPartialRow(r,s){for(let o of s){let c=!0;for(let u of r){let f=!1;for(let h of o.getPairs())if(u.equals(h)){f=!0;break}if(!f){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(r){let s=Qx.buildBitArray(r),c=t0(s).parseInformation(),u=r[0].getFinderPattern().getResultPoints(),f=r[r.length-1].getFinderPattern().getResultPoints(),h=[u[0],u[1],f[0],f[1]];return new Je(c,null,null,h,Z.RSS_EXPANDED,null)}checkChecksum(){let r=this.pairs.get(0),s=r.getLeftChar(),o=r.getRightChar();if(o==null)return!1;let c=o.getChecksumPortion(),u=2;for(let h=1;h<this.pairs.size();++h){let x=this.pairs.get(h);c+=x.getLeftChar().getChecksumPortion(),u++;let w=x.getRightChar();w!=null&&(c+=w.getChecksumPortion(),u++)}return c%=211,211*(u-4)+c==s.getValue()}static getNextSecondBar(r,s){let o;return r.get(s)?(o=r.getNextUnset(s),o=r.getNextSet(o)):(o=r.getNextSet(s),o=r.getNextUnset(o)),o}retrieveNextPair(r,s,o){let c=s.length%2==0;this.startFromEven&&(c=!c);let u,f=!0,h=-1;do this.findNextPair(r,s,h),u=this.parseFoundFinderPattern(r,o,c),u==null?h=q.getNextSecondBar(r,this.startEnd[0]):f=!1;while(f);let x=this.decodeDataCharacter(r,u,c,!0);if(!this.isEmptyPair(s)&&s[s.length-1].mustBeLast())throw new G;let w;try{w=this.decodeDataCharacter(r,u,c,!1)}catch(E){w=null,this.verbose&&console.log(E)}return new Xr(x,w,u,!0)}isEmptyPair(r){return r.length===0}findNextPair(r,s,o){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),f;o>=0?f=o:this.isEmptyPair(s)?f=0:f=s[s.length-1].getFinderPattern().getStartEnd()[1];let h=s.length%2!=0;this.startFromEven&&(h=!h);let x=!1;for(;f<u&&(x=!r.get(f),!!x);)f++;let w=0,E=f;for(let T=f;T<u;T++)if(r.get(T)!=x)c[w]++;else{if(w==3){if(h&&q.reverseCounters(c),q.isFinderPattern(c)){this.startEnd[0]=E,this.startEnd[1]=T;return}h&&q.reverseCounters(c),E+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,w--}else w++;c[w]=1,x=!x}throw new G}static reverseCounters(r){let s=r.length;for(let o=0;o<s/2;++o){let c=r[o];r[o]=r[s-o-1],r[s-o-1]=c}}parseFoundFinderPattern(r,s,o){let c,u,f;if(o){let w=this.startEnd[0]-1;for(;w>=0&&!r.get(w);)w--;w++,c=this.startEnd[0]-w,u=w,f=this.startEnd[1]}else u=this.startEnd[0],f=r.getNextUnset(this.startEnd[1]+1),c=f-this.startEnd[1];let h=this.getDecodeFinderCounters();M.arraycopy(h,0,h,1,h.length-1),h[0]=c;let x;try{x=this.parseFinderValue(h,q.FINDER_PATTERNS)}catch{return null}return new Ga(x,[u,f],u,f,s)}decodeDataCharacter(r,s,o,c){let u=this.getDataCharacterCounters();for(let qe=0;qe<u.length;qe++)u[qe]=0;if(c)q.recordPatternInReverse(r,s.getStartEnd()[0],u);else{q.recordPattern(r,s.getStartEnd()[1],u);for(let qe=0,Wt=u.length-1;qe<Wt;qe++,Wt--){let An=u[qe];u[qe]=u[Wt],u[Wt]=An}}let f=17,h=Fe.sum(new Int32Array(u))/f,x=(s.getStartEnd()[1]-s.getStartEnd()[0])/15;if(Math.abs(h-x)/x>.3)throw new G;let w=this.getOddCounts(),E=this.getEvenCounts(),T=this.getOddRoundingErrors(),O=this.getEvenRoundingErrors();for(let qe=0;qe<u.length;qe++){let Wt=1*u[qe]/h,An=Wt+.5;if(An<1){if(Wt<.3)throw new G;An=1}else if(An>8){if(Wt>8.7)throw new G;An=8}let ws=qe/2;qe&1?(E[ws]=An,O[ws]=Wt-An):(w[ws]=An,T[ws]=Wt-An)}this.adjustOddEvenCounts(f);let P=4*s.getValue()+(o?0:2)+(c?0:1)-1,F=0,j=0;for(let qe=w.length-1;qe>=0;qe--){if(q.isNotA1left(s,o,c)){let Wt=q.WEIGHTS[P][2*qe];j+=w[qe]*Wt}F+=w[qe]}let H=0;for(let qe=E.length-1;qe>=0;qe--)if(q.isNotA1left(s,o,c)){let Wt=q.WEIGHTS[P][2*qe+1];H+=E[qe]*Wt}let X=j+H;if(F&1||F>13||F<4)throw new G;let ne=(13-F)/2,re=q.SYMBOL_WIDEST[ne],J=9-re,Le=ar.getRSSvalue(w,re,!0),Ne=ar.getRSSvalue(E,J,!1),mn=q.EVEN_TOTAL_SUBSET[ne],Qn=q.GSUM[ne],xn=Le*mn+Ne+Qn;return new ds(xn,X)}static isNotA1left(r,s,o){return!(r.getValue()==0&&s&&o)}adjustOddEvenCounts(r){let s=Fe.sum(new Int32Array(this.getOddCounts())),o=Fe.sum(new Int32Array(this.getEvenCounts())),c=!1,u=!1;s>13?u=!0:s<4&&(c=!0);let f=!1,h=!1;o>13?h=!0:o<4&&(f=!0);let x=s+o-r,w=(s&1)==1,E=(o&1)==0;if(x==1)if(w){if(E)throw new G;u=!0}else{if(!E)throw new G;h=!0}else if(x==-1)if(w){if(E)throw new G;c=!0}else{if(!E)throw new G;f=!0}else if(x==0){if(w){if(!E)throw new G;s<o?(c=!0,h=!0):(u=!0,f=!0)}else if(E)throw new G}else throw new G;if(c){if(u)throw new G;q.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&q.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(h)throw new G;q.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&q.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}q.SYMBOL_WIDEST=[7,5,4,3,1],q.EVEN_TOTAL_SUBSET=[4,20,52,104,204],q.GSUM=[0,348,1388,2948,3988],q.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],q.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],q.FINDER_PAT_A=0,q.FINDER_PAT_B=1,q.FINDER_PAT_C=2,q.FINDER_PAT_D=3,q.FINDER_PAT_E=4,q.FINDER_PAT_F=5,q.FINDER_PATTERN_SEQUENCES=[[q.FINDER_PAT_A,q.FINDER_PAT_A],[q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B],[q.FINDER_PAT_A,q.FINDER_PAT_C,q.FINDER_PAT_B,q.FINDER_PAT_D],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_C],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_D,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_D],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_E],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F]],q.MAX_PAIRS=11;class $x extends ds{constructor(r,s,o){super(r,s),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class vt extends Kt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(r,s,o){const c=this.decodePair(s,!1,r,o);vt.addOrTally(this.possibleLeftPairs,c),s.reverse();let u=this.decodePair(s,!0,r,o);vt.addOrTally(this.possibleRightPairs,u),s.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let h of this.possibleRightPairs)if(h.getCount()>1&&vt.checkChecksum(f,h))return vt.constructResult(f,h)}throw new G}static addOrTally(r,s){if(s==null)return;let o=!1;for(let c of r)if(c.getValue()===s.getValue()){c.incrementCount(),o=!0;break}o||r.push(s)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(r,s){let o=4537077*r.getValue()+s.getValue(),c=new String(o).toString(),u=new me;for(let w=13-c.length;w>0;w--)u.append("0");u.append(c);let f=0;for(let w=0;w<13;w++){let E=u.charAt(w).charCodeAt(0)-48;f+=w&1?E:3*E}f=10-f%10,f===10&&(f=0),u.append(f.toString());let h=r.getFinderPattern().getResultPoints(),x=s.getFinderPattern().getResultPoints();return new Je(u.toString(),null,0,[h[0],h[1],x[0],x[1]],Z.RSS_14,new Date().getTime())}static checkChecksum(r,s){let o=(r.getChecksumPortion()+16*s.getChecksumPortion())%79,c=9*r.getFinderPattern().getValue()+s.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,o===c}decodePair(r,s,o,c){try{let u=this.findFinderPattern(r,s),f=this.parseFoundFinderPattern(r,o,s,u),h=c==null?null:c.get(U.NEED_RESULT_POINT_CALLBACK);if(h!=null){let E=(u[0]+u[1])/2;s&&(E=r.getSize()-1-E),h.foundPossibleResultPoint(new pe(E,o))}let x=this.decodeDataCharacter(r,f,!0),w=this.decodeDataCharacter(r,f,!1);return new $x(1597*x.getValue()+w.getValue(),x.getChecksumPortion()+4*w.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(r,s,o){let c=this.getDataCharacterCounters();for(let H=0;H<c.length;H++)c[H]=0;if(o)Nt.recordPatternInReverse(r,s.getStartEnd()[0],c);else{Nt.recordPattern(r,s.getStartEnd()[1]+1,c);for(let H=0,X=c.length-1;H<X;H++,X--){let ne=c[H];c[H]=c[X],c[X]=ne}}let u=o?16:15,f=Fe.sum(new Int32Array(c))/u,h=this.getOddCounts(),x=this.getEvenCounts(),w=this.getOddRoundingErrors(),E=this.getEvenRoundingErrors();for(let H=0;H<c.length;H++){let X=c[H]/f,ne=Math.floor(X+.5);ne<1?ne=1:ne>8&&(ne=8);let re=Math.floor(H/2);H&1?(x[re]=ne,E[re]=X-ne):(h[re]=ne,w[re]=X-ne)}this.adjustOddEvenCounts(o,u);let T=0,O=0;for(let H=h.length-1;H>=0;H--)O*=9,O+=h[H],T+=h[H];let P=0,F=0;for(let H=x.length-1;H>=0;H--)P*=9,P+=x[H],F+=x[H];let j=O+3*P;if(o){if(T&1||T>12||T<4)throw new G;let H=(12-T)/2,X=vt.OUTSIDE_ODD_WIDEST[H],ne=9-X,re=ar.getRSSvalue(h,X,!1),J=ar.getRSSvalue(x,ne,!0),Le=vt.OUTSIDE_EVEN_TOTAL_SUBSET[H],Ne=vt.OUTSIDE_GSUM[H];return new ds(re*Le+J+Ne,j)}else{if(F&1||F>10||F<4)throw new G;let H=(10-F)/2,X=vt.INSIDE_ODD_WIDEST[H],ne=9-X,re=ar.getRSSvalue(h,X,!0),J=ar.getRSSvalue(x,ne,!1),Le=vt.INSIDE_ODD_TOTAL_SUBSET[H],Ne=vt.INSIDE_GSUM[H];return new ds(J*Le+re+Ne,j)}}findFinderPattern(r,s){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let c=r.getSize(),u=!1,f=0;for(;f<c&&(u=!r.get(f),s!==u);)f++;let h=0,x=f;for(let w=f;w<c;w++)if(r.get(w)!==u)o[h]++;else{if(h===3){if(Kt.isFinderPattern(o))return[x,w];x+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,h--}else h++;o[h]=1,u=!u}throw new G}parseFoundFinderPattern(r,s,o,c){let u=r.get(c[0]),f=c[0]-1;for(;f>=0&&u!==r.get(f);)f--;f++;const h=c[0]-f,x=this.getDecodeFinderCounters(),w=new Int32Array(x.length);M.arraycopy(x,0,w,1,x.length-1),w[0]=h;const E=this.parseFinderValue(w,vt.FINDER_PATTERNS);let T=f,O=c[1];return o&&(T=r.getSize()-1-T,O=r.getSize()-1-O),new Ga(E,[f,c[1]],T,O,s)}adjustOddEvenCounts(r,s){let o=Fe.sum(new Int32Array(this.getOddCounts())),c=Fe.sum(new Int32Array(this.getEvenCounts())),u=!1,f=!1,h=!1,x=!1;r?(o>12?f=!0:o<4&&(u=!0),c>12?x=!0:c<4&&(h=!0)):(o>11?f=!0:o<5&&(u=!0),c>10?x=!0:c<4&&(h=!0));let w=o+c-s,E=(o&1)===(r?1:0),T=(c&1)===1;if(w===1)if(E){if(T)throw new G;f=!0}else{if(!T)throw new G;x=!0}else if(w===-1)if(E){if(T)throw new G;u=!0}else{if(!T)throw new G;h=!0}else if(w===0){if(E){if(!T)throw new G;o<c?(u=!0,x=!0):(f=!0,h=!0)}else if(T)throw new G}else throw new G;if(u){if(f)throw new G;Kt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&Kt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(x)throw new G;Kt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&Kt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}vt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],vt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],vt.OUTSIDE_GSUM=[0,161,961,2015,2715],vt.INSIDE_GSUM=[0,336,1036,1516],vt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],vt.INSIDE_ODD_WIDEST=[2,4,6,8],vt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ps extends Nt{constructor(r,s){super(),this.readers=[],this.verbose=s===!0;const o=r?r.get(U.POSSIBLE_FORMATS):null,c=r&&r.get(U.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(Z.EAN_13)||o.includes(Z.UPC_A)||o.includes(Z.EAN_8)||o.includes(Z.UPC_E))&&this.readers.push(new iu(r)),o.includes(Z.CODE_39)&&this.readers.push(new Ot(c)),o.includes(Z.CODE_128)&&this.readers.push(new se),o.includes(Z.ITF)&&this.readers.push(new Qe),o.includes(Z.RSS_14)&&this.readers.push(new vt),o.includes(Z.RSS_EXPANDED)&&this.readers.push(new q(this.verbose))):(this.readers.push(new iu(r)),this.readers.push(new Ot),this.readers.push(new iu(r)),this.readers.push(new se),this.readers.push(new Qe),this.readers.push(new vt),this.readers.push(new q(this.verbose)))}decodeRow(r,s,o){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(r,s,o)}catch{}throw new G}reset(){this.readers.forEach(r=>r.reset())}}class Jx extends Pt{constructor(r=500,s){super(new ps(s),r,s)}}class We{constructor(r,s,o){this.ecCodewords=r,this.ecBlocks=[s],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class He{constructor(r,s){this.count=r,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Be{constructor(r,s,o,c,u,f){this.versionNumber=r,this.symbolSizeRows=s,this.symbolSizeColumns=o,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=u,this.ecBlocks=f;let h=0;const x=f.getECCodewords(),w=f.getECBlocks();for(let E of w)h+=E.getCount()*(E.getDataCodewords()+x);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(r,s){if(r&1||s&1)throw new B;for(let o of Be.VERSIONS)if(o.symbolSizeRows===r&&o.symbolSizeColumns===s)return o;throw new B}toString(){return""+this.versionNumber}static buildVersions(){return[new Be(1,10,10,8,8,new We(5,new He(1,3))),new Be(2,12,12,10,10,new We(7,new He(1,5))),new Be(3,14,14,12,12,new We(10,new He(1,8))),new Be(4,16,16,14,14,new We(12,new He(1,12))),new Be(5,18,18,16,16,new We(14,new He(1,18))),new Be(6,20,20,18,18,new We(18,new He(1,22))),new Be(7,22,22,20,20,new We(20,new He(1,30))),new Be(8,24,24,22,22,new We(24,new He(1,36))),new Be(9,26,26,24,24,new We(28,new He(1,44))),new Be(10,32,32,14,14,new We(36,new He(1,62))),new Be(11,36,36,16,16,new We(42,new He(1,86))),new Be(12,40,40,18,18,new We(48,new He(1,114))),new Be(13,44,44,20,20,new We(56,new He(1,144))),new Be(14,48,48,22,22,new We(68,new He(1,174))),new Be(15,52,52,24,24,new We(42,new He(2,102))),new Be(16,64,64,14,14,new We(56,new He(2,140))),new Be(17,72,72,16,16,new We(36,new He(4,92))),new Be(18,80,80,18,18,new We(48,new He(4,114))),new Be(19,88,88,20,20,new We(56,new He(4,144))),new Be(20,96,96,22,22,new We(68,new He(4,174))),new Be(21,104,104,24,24,new We(56,new He(6,136))),new Be(22,120,120,18,18,new We(68,new He(6,175))),new Be(23,132,132,20,20,new We(62,new He(8,163))),new Be(24,144,144,22,22,new We(62,new He(8,156),new He(2,155))),new Be(25,8,18,6,16,new We(7,new He(1,5))),new Be(26,8,32,6,14,new We(11,new He(1,10))),new Be(27,12,26,10,24,new We(14,new He(1,16))),new Be(28,12,36,10,16,new We(18,new He(1,22))),new Be(29,16,36,14,16,new We(24,new He(1,32))),new Be(30,16,48,14,22,new We(28,new He(1,49)))]}}Be.VERSIONS=Be.buildVersions();class lu{constructor(r){const s=r.getHeight();if(s<8||s>144||s&1)throw new B;this.version=lu.readVersion(r),this.mappingBitMatrix=this.extractDataRegion(r),this.readMappingMatrix=new he(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(r){const s=r.getHeight(),o=r.getWidth();return Be.getVersionForDimensions(s,o)}readCodewords(){const r=new Int8Array(this.version.getTotalCodewords());let s=0,o=4,c=0;const u=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let h=!1,x=!1,w=!1,E=!1;do if(o===u&&c===0&&!h)r[s++]=this.readCorner1(u,f)&255,o-=2,c+=2,h=!0;else if(o===u-2&&c===0&&f&3&&!x)r[s++]=this.readCorner2(u,f)&255,o-=2,c+=2,x=!0;else if(o===u+4&&c===2&&!(f&7)&&!w)r[s++]=this.readCorner3(u,f)&255,o-=2,c+=2,w=!0;else if(o===u-2&&c===0&&(f&7)===4&&!E)r[s++]=this.readCorner4(u,f)&255,o-=2,c+=2,E=!0;else{do o<u&&c>=0&&!this.readMappingMatrix.get(c,o)&&(r[s++]=this.readUtah(o,c,u,f)&255),o-=2,c+=2;while(o>=0&&c<f);o+=1,c+=3;do o>=0&&c<f&&!this.readMappingMatrix.get(c,o)&&(r[s++]=this.readUtah(o,c,u,f)&255),o+=2,c-=2;while(o<u&&c>=0);o+=3,c+=1}while(o<u||c<f);if(s!==this.version.getTotalCodewords())throw new B;return r}readModule(r,s,o,c){return r<0&&(r+=o,s+=4-(o+4&7)),s<0&&(s+=c,r+=4-(c+4&7)),this.readMappingMatrix.set(s,r),this.mappingBitMatrix.get(s,r)}readUtah(r,s,o,c){let u=0;return this.readModule(r-2,s-2,o,c)&&(u|=1),u<<=1,this.readModule(r-2,s-1,o,c)&&(u|=1),u<<=1,this.readModule(r-1,s-2,o,c)&&(u|=1),u<<=1,this.readModule(r-1,s-1,o,c)&&(u|=1),u<<=1,this.readModule(r-1,s,o,c)&&(u|=1),u<<=1,this.readModule(r,s-2,o,c)&&(u|=1),u<<=1,this.readModule(r,s-1,o,c)&&(u|=1),u<<=1,this.readModule(r,s,o,c)&&(u|=1),u}readCorner1(r,s){let o=0;return this.readModule(r-1,0,r,s)&&(o|=1),o<<=1,this.readModule(r-1,1,r,s)&&(o|=1),o<<=1,this.readModule(r-1,2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-1,r,s)&&(o|=1),o<<=1,this.readModule(1,s-1,r,s)&&(o|=1),o<<=1,this.readModule(2,s-1,r,s)&&(o|=1),o<<=1,this.readModule(3,s-1,r,s)&&(o|=1),o}readCorner2(r,s){let o=0;return this.readModule(r-3,0,r,s)&&(o|=1),o<<=1,this.readModule(r-2,0,r,s)&&(o|=1),o<<=1,this.readModule(r-1,0,r,s)&&(o|=1),o<<=1,this.readModule(0,s-4,r,s)&&(o|=1),o<<=1,this.readModule(0,s-3,r,s)&&(o|=1),o<<=1,this.readModule(0,s-2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-1,r,s)&&(o|=1),o<<=1,this.readModule(1,s-1,r,s)&&(o|=1),o}readCorner3(r,s){let o=0;return this.readModule(r-1,0,r,s)&&(o|=1),o<<=1,this.readModule(r-1,s-1,r,s)&&(o|=1),o<<=1,this.readModule(0,s-3,r,s)&&(o|=1),o<<=1,this.readModule(0,s-2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-1,r,s)&&(o|=1),o<<=1,this.readModule(1,s-3,r,s)&&(o|=1),o<<=1,this.readModule(1,s-2,r,s)&&(o|=1),o<<=1,this.readModule(1,s-1,r,s)&&(o|=1),o}readCorner4(r,s){let o=0;return this.readModule(r-3,0,r,s)&&(o|=1),o<<=1,this.readModule(r-2,0,r,s)&&(o|=1),o<<=1,this.readModule(r-1,0,r,s)&&(o|=1),o<<=1,this.readModule(0,s-2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-1,r,s)&&(o|=1),o<<=1,this.readModule(1,s-1,r,s)&&(o|=1),o<<=1,this.readModule(2,s-1,r,s)&&(o|=1),o<<=1,this.readModule(3,s-1,r,s)&&(o|=1),o}extractDataRegion(r){const s=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(r.getHeight()!==s)throw new v("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),f=s/c|0,h=o/u|0,x=f*c,w=h*u,E=new he(w,x);for(let T=0;T<f;++T){const O=T*c;for(let P=0;P<h;++P){const F=P*u;for(let j=0;j<c;++j){const H=T*(c+2)+1+j,X=O+j;for(let ne=0;ne<u;++ne){const re=P*(u+2)+1+ne;if(r.get(re,H)){const J=F+ne;E.set(J,X)}}}}}return E}}class cu{constructor(r,s){this.numDataCodewords=r,this.codewords=s}static getDataBlocks(r,s){const o=s.getECBlocks();let c=0;const u=o.getECBlocks();for(let j of u)c+=j.getCount();const f=new Array(c);let h=0;for(let j of u)for(let H=0;H<j.getCount();H++){const X=j.getDataCodewords(),ne=o.getECCodewords()+X;f[h++]=new cu(X,new Uint8Array(ne))}const w=f[0].codewords.length-o.getECCodewords(),E=w-1;let T=0;for(let j=0;j<E;j++)for(let H=0;H<h;H++)f[H].codewords[j]=r[T++];const O=s.getVersionNumber()===24,P=O?8:h;for(let j=0;j<P;j++)f[j].codewords[w-1]=r[T++];const F=f[0].codewords.length;for(let j=w;j<F;j++)for(let H=0;H<h;H++){const X=O?(H+8)%h:H,ne=O&&X>7?j-1:j;f[X].codewords[ne]=r[T++]}if(T!==r.length)throw new v;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class uu{constructor(r){this.bytes=r,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(r){if(r<1||r>32||r>this.available())throw new v(""+r);let s=0,o=this.bitOffset,c=this.byteOffset;const u=this.bytes;if(o>0){const f=8-o,h=r<f?r:f,x=f-h,w=255>>8-h<<x;s=(u[c]&w)>>x,r-=h,o+=h,o===8&&(o=0,c++)}if(r>0){for(;r>=8;)s=s<<8|u[c]&255,c++,r-=8;if(r>0){const f=8-r,h=255>>f<<f;s=s<<r|(u[c]&h)>>f,o+=r}}return this.bitOffset=o,this.byteOffset=c,s}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Mt;(function(N){N[N.PAD_ENCODE=0]="PAD_ENCODE",N[N.ASCII_ENCODE=1]="ASCII_ENCODE",N[N.C40_ENCODE=2]="C40_ENCODE",N[N.TEXT_ENCODE=3]="TEXT_ENCODE",N[N.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",N[N.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",N[N.BASE256_ENCODE=6]="BASE256_ENCODE"})(Mt||(Mt={}));class Kr{static decode(r){const s=new uu(r),o=new me,c=new me,u=new Array;let f=Mt.ASCII_ENCODE;do if(f===Mt.ASCII_ENCODE)f=this.decodeAsciiSegment(s,o,c);else{switch(f){case Mt.C40_ENCODE:this.decodeC40Segment(s,o);break;case Mt.TEXT_ENCODE:this.decodeTextSegment(s,o);break;case Mt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(s,o);break;case Mt.EDIFACT_ENCODE:this.decodeEdifactSegment(s,o);break;case Mt.BASE256_ENCODE:this.decodeBase256Segment(s,o,u);break;default:throw new B}f=Mt.ASCII_ENCODE}while(f!==Mt.PAD_ENCODE&&s.available()>0);return c.length()>0&&o.append(c.toString()),new Ge(r,o.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(r,s,o){let c=!1;do{let u=r.readBits(8);if(u===0)throw new B;if(u<=128)return c&&(u+=128),s.append(String.fromCharCode(u-1)),Mt.ASCII_ENCODE;if(u===129)return Mt.PAD_ENCODE;if(u<=229){const f=u-130;f<10&&s.append("0"),s.append(""+f)}else switch(u){case 230:return Mt.C40_ENCODE;case 231:return Mt.BASE256_ENCODE;case 232:s.append("");break;case 233:case 234:break;case 235:c=!0;break;case 236:s.append("[)>05"),o.insert(0,"");break;case 237:s.append("[)>06"),o.insert(0,"");break;case 238:return Mt.ANSIX12_ENCODE;case 239:return Mt.TEXT_ENCODE;case 240:return Mt.EDIFACT_ENCODE;case 241:break;default:if(u!==254||r.available()!==0)throw new B;break}}while(r.available()>0);return Mt.ASCII_ENCODE}static decodeC40Segment(r,s){let o=!1;const c=[];let u=0;do{if(r.available()===8)return;const f=r.readBits(8);if(f===254)return;this.parseTwoBytes(f,r.readBits(8),c);for(let h=0;h<3;h++){const x=c[h];switch(u){case 0:if(x<3)u=x+1;else if(x<this.C40_BASIC_SET_CHARS.length){const w=this.C40_BASIC_SET_CHARS[x];o?(s.append(String.fromCharCode(w.charCodeAt(0)+128)),o=!1):s.append(w)}else throw new B;break;case 1:o?(s.append(String.fromCharCode(x+128)),o=!1):s.append(String.fromCharCode(x)),u=0;break;case 2:if(x<this.C40_SHIFT2_SET_CHARS.length){const w=this.C40_SHIFT2_SET_CHARS[x];o?(s.append(String.fromCharCode(w.charCodeAt(0)+128)),o=!1):s.append(w)}else switch(x){case 27:s.append("");break;case 30:o=!0;break;default:throw new B}u=0;break;case 3:o?(s.append(String.fromCharCode(x+224)),o=!1):s.append(String.fromCharCode(x+96)),u=0;break;default:throw new B}}}while(r.available()>0)}static decodeTextSegment(r,s){let o=!1,c=[],u=0;do{if(r.available()===8)return;const f=r.readBits(8);if(f===254)return;this.parseTwoBytes(f,r.readBits(8),c);for(let h=0;h<3;h++){const x=c[h];switch(u){case 0:if(x<3)u=x+1;else if(x<this.TEXT_BASIC_SET_CHARS.length){const w=this.TEXT_BASIC_SET_CHARS[x];o?(s.append(String.fromCharCode(w.charCodeAt(0)+128)),o=!1):s.append(w)}else throw new B;break;case 1:o?(s.append(String.fromCharCode(x+128)),o=!1):s.append(String.fromCharCode(x)),u=0;break;case 2:if(x<this.TEXT_SHIFT2_SET_CHARS.length){const w=this.TEXT_SHIFT2_SET_CHARS[x];o?(s.append(String.fromCharCode(w.charCodeAt(0)+128)),o=!1):s.append(w)}else switch(x){case 27:s.append("");break;case 30:o=!0;break;default:throw new B}u=0;break;case 3:if(x<this.TEXT_SHIFT3_SET_CHARS.length){const w=this.TEXT_SHIFT3_SET_CHARS[x];o?(s.append(String.fromCharCode(w.charCodeAt(0)+128)),o=!1):s.append(w),u=0}else throw new B;break;default:throw new B}}}while(r.available()>0)}static decodeAnsiX12Segment(r,s){const o=[];do{if(r.available()===8)return;const c=r.readBits(8);if(c===254)return;this.parseTwoBytes(c,r.readBits(8),o);for(let u=0;u<3;u++){const f=o[u];switch(f){case 0:s.append("\r");break;case 1:s.append("*");break;case 2:s.append(">");break;case 3:s.append(" ");break;default:if(f<14)s.append(String.fromCharCode(f+44));else if(f<40)s.append(String.fromCharCode(f+51));else throw new B;break}}}while(r.available()>0)}static parseTwoBytes(r,s,o){let c=(r<<8)+s-1,u=Math.floor(c/1600);o[0]=u,c-=u*1600,u=Math.floor(c/40),o[1]=u,o[2]=c-u*40}static decodeEdifactSegment(r,s){do{if(r.available()<=16)return;for(let o=0;o<4;o++){let c=r.readBits(6);if(c===31){const u=8-r.getBitOffset();u!==8&&r.readBits(u);return}c&32||(c|=64),s.append(String.fromCharCode(c))}}while(r.available()>0)}static decodeBase256Segment(r,s,o){let c=1+r.getByteOffset();const u=this.unrandomize255State(r.readBits(8),c++);let f;if(u===0?f=r.available()/8|0:u<250?f=u:f=250*(u-249)+this.unrandomize255State(r.readBits(8),c++),f<0)throw new B;const h=new Uint8Array(f);for(let x=0;x<f;x++){if(r.available()<8)throw new B;h[x]=this.unrandomize255State(r.readBits(8),c++)}o.push(h);try{s.append(oe.decode(h,$.ISO88591))}catch(x){throw new or("Platform does not support required encoding: "+x.message)}}static unrandomize255State(r,s){const o=149*s%255+1,c=r-o;return c>=0?c:c+256}}Kr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Kr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Kr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Kr.TEXT_SHIFT2_SET_CHARS=Kr.C40_SHIFT2_SET_CHARS,Kr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class e2{constructor(){this.rsDecoder=new ho(ze.DATA_MATRIX_FIELD_256)}decode(r){const s=new lu(r),o=s.getVersion(),c=s.readCodewords(),u=cu.getDataBlocks(c,o);let f=0;for(let w of u)f+=w.getNumDataCodewords();const h=new Uint8Array(f),x=u.length;for(let w=0;w<x;w++){const E=u[w],T=E.getCodewords(),O=E.getNumDataCodewords();this.correctErrors(T,O);for(let P=0;P<O;P++)h[P*x+w]=T[P]}return Kr.decode(h)}correctErrors(r,s){const o=new Int32Array(r);try{this.rsDecoder.decode(o,r.length-s)}catch{throw new b}for(let c=0;c<s;c++)r[c]=o[c]}}class bt{constructor(r){this.image=r,this.rectangleDetector=new Ar(this.image)}detect(){const r=this.rectangleDetector.detect();let s=this.detectSolid1(r);if(s=this.detectSolid2(s),s[3]=this.correctTopRight(s),!s[3])throw new G;s=this.shiftToModuleCenter(s);const o=s[0],c=s[1],u=s[2],f=s[3];let h=this.transitionsBetween(o,f)+1,x=this.transitionsBetween(u,f)+1;(h&1)===1&&(h+=1),(x&1)===1&&(x+=1),4*h<7*x&&4*x<7*h&&(h=x=Math.max(h,x));let w=bt.sampleGrid(this.image,o,c,u,f,h,x);return new Ha(w,[o,c,u,f])}static shiftPoint(r,s,o){let c=(s.getX()-r.getX())/(o+1),u=(s.getY()-r.getY())/(o+1);return new pe(r.getX()+c,r.getY()+u)}static moveAway(r,s,o){let c=r.getX(),u=r.getY();return c<s?c-=1:c+=1,u<o?u-=1:u+=1,new pe(c,u)}detectSolid1(r){let s=r[0],o=r[1],c=r[3],u=r[2],f=this.transitionsBetween(s,o),h=this.transitionsBetween(o,c),x=this.transitionsBetween(c,u),w=this.transitionsBetween(u,s),E=f,T=[u,s,o,c];return E>h&&(E=h,T[0]=s,T[1]=o,T[2]=c,T[3]=u),E>x&&(E=x,T[0]=o,T[1]=c,T[2]=u,T[3]=s),E>w&&(T[0]=c,T[1]=u,T[2]=s,T[3]=o),T}detectSolid2(r){let s=r[0],o=r[1],c=r[2],u=r[3],f=this.transitionsBetween(s,u),h=bt.shiftPoint(o,c,(f+1)*4),x=bt.shiftPoint(c,o,(f+1)*4),w=this.transitionsBetween(h,s),E=this.transitionsBetween(x,u);return w<E?(r[0]=s,r[1]=o,r[2]=c,r[3]=u):(r[0]=o,r[1]=c,r[2]=u,r[3]=s),r}correctTopRight(r){let s=r[0],o=r[1],c=r[2],u=r[3],f=this.transitionsBetween(s,u),h=this.transitionsBetween(o,u),x=bt.shiftPoint(s,o,(h+1)*4),w=bt.shiftPoint(c,o,(f+1)*4);f=this.transitionsBetween(x,u),h=this.transitionsBetween(w,u);let E=new pe(u.getX()+(c.getX()-o.getX())/(f+1),u.getY()+(c.getY()-o.getY())/(f+1)),T=new pe(u.getX()+(s.getX()-o.getX())/(h+1),u.getY()+(s.getY()-o.getY())/(h+1));if(!this.isValid(E))return this.isValid(T)?T:null;if(!this.isValid(T))return E;let O=this.transitionsBetween(x,E)+this.transitionsBetween(w,E),P=this.transitionsBetween(x,T)+this.transitionsBetween(w,T);return O>P?E:T}shiftToModuleCenter(r){let s=r[0],o=r[1],c=r[2],u=r[3],f=this.transitionsBetween(s,u)+1,h=this.transitionsBetween(c,u)+1,x=bt.shiftPoint(s,o,h*4),w=bt.shiftPoint(c,o,f*4);f=this.transitionsBetween(x,u)+1,h=this.transitionsBetween(w,u)+1,(f&1)===1&&(f+=1),(h&1)===1&&(h+=1);let E=(s.getX()+o.getX()+c.getX()+u.getX())/4,T=(s.getY()+o.getY()+c.getY()+u.getY())/4;s=bt.moveAway(s,E,T),o=bt.moveAway(o,E,T),c=bt.moveAway(c,E,T),u=bt.moveAway(u,E,T);let O,P;return x=bt.shiftPoint(s,o,h*4),x=bt.shiftPoint(x,u,f*4),O=bt.shiftPoint(o,s,h*4),O=bt.shiftPoint(O,c,f*4),w=bt.shiftPoint(c,u,h*4),w=bt.shiftPoint(w,o,f*4),P=bt.shiftPoint(u,c,h*4),P=bt.shiftPoint(P,s,f*4),[x,O,w,P]}isValid(r){return r.getX()>=0&&r.getX()<this.image.getWidth()&&r.getY()>0&&r.getY()<this.image.getHeight()}static sampleGrid(r,s,o,c,u,f,h){return Yr.getInstance().sampleGrid(r,f,h,.5,.5,f-.5,.5,f-.5,h-.5,.5,h-.5,s.getX(),s.getY(),u.getX(),u.getY(),c.getX(),c.getY(),o.getX(),o.getY())}transitionsBetween(r,s){let o=Math.trunc(r.getX()),c=Math.trunc(r.getY()),u=Math.trunc(s.getX()),f=Math.trunc(s.getY()),h=Math.abs(f-c)>Math.abs(u-o);if(h){let j=o;o=c,c=j,j=u,u=f,f=j}let x=Math.abs(u-o),w=Math.abs(f-c),E=-x/2,T=c<f?1:-1,O=o<u?1:-1,P=0,F=this.image.get(h?c:o,h?o:c);for(let j=o,H=c;j!==u;j+=O){let X=this.image.get(h?H:j,h?j:H);if(X!==F&&(P++,F=X),E+=w,E>0){if(H===f)break;H+=T,E-=x}}return P}}class Qr{constructor(){this.decoder=new e2}decode(r,s=null){let o,c;if(s!=null&&s.has(U.PURE_BARCODE)){const w=Qr.extractPureBits(r.getBlackMatrix());o=this.decoder.decode(w),c=Qr.NO_POINTS}else{const w=new bt(r.getBlackMatrix()).detect();o=this.decoder.decode(w.getBits()),c=w.getPoints()}const u=o.getRawBytes(),f=new Je(o.getText(),u,8*u.length,c,Z.DATA_MATRIX,M.currentTimeMillis()),h=o.getByteSegments();h!=null&&f.putMetadata(be.BYTE_SEGMENTS,h);const x=o.getECLevel();return x!=null&&f.putMetadata(be.ERROR_CORRECTION_LEVEL,x),f}reset(){}static extractPureBits(r){const s=r.getTopLeftOnBit(),o=r.getBottomRightOnBit();if(s==null||o==null)throw new G;const c=this.moduleSize(s,r);let u=s[1];const f=o[1];let h=s[0];const w=(o[0]-h+1)/c,E=(f-u+1)/c;if(w<=0||E<=0)throw new G;const T=c/2;u+=T,h+=T;const O=new he(w,E);for(let P=0;P<E;P++){const F=u+P*c;for(let j=0;j<w;j++)r.get(h+j*c,F)&&O.set(j,P)}return O}static moduleSize(r,s){const o=s.getWidth();let c=r[0];const u=r[1];for(;c<o&&s.get(c,u);)c++;if(c===o)throw new G;const f=c-r[0];if(f===0)throw new G;return f}}Qr.NO_POINTS=[];class t2 extends Pt{constructor(r=500){super(new Qr,r)}}var ms;(function(N){N[N.L=0]="L",N[N.M=1]="M",N[N.Q=2]="Q",N[N.H=3]="H"})(ms||(ms={}));class tt{constructor(r,s,o){this.value=r,this.stringValue=s,this.bits=o,tt.FOR_BITS.set(o,this),tt.FOR_VALUE.set(r,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(r){switch(r){case"L":return tt.L;case"M":return tt.M;case"Q":return tt.Q;case"H":return tt.H;default:throw new y(r+"not available")}}toString(){return this.stringValue}equals(r){if(!(r instanceof tt))return!1;const s=r;return this.value===s.value}static forBits(r){if(r<0||r>=tt.FOR_BITS.size)throw new v;return tt.FOR_BITS.get(r)}}tt.FOR_BITS=new Map,tt.FOR_VALUE=new Map,tt.L=new tt(ms.L,"L",1),tt.M=new tt(ms.M,"M",0),tt.Q=new tt(ms.Q,"Q",3),tt.H=new tt(ms.H,"H",2);class Qt{constructor(r){this.errorCorrectionLevel=tt.forBits(r>>3&3),this.dataMask=r&7}static numBitsDiffering(r,s){return I.bitCount(r^s)}static decodeFormatInformation(r,s){const o=Qt.doDecodeFormatInformation(r,s);return o!==null?o:Qt.doDecodeFormatInformation(r^Qt.FORMAT_INFO_MASK_QR,s^Qt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(r,s){let o=Number.MAX_SAFE_INTEGER,c=0;for(const u of Qt.FORMAT_INFO_DECODE_LOOKUP){const f=u[0];if(f===r||f===s)return new Qt(u[1]);let h=Qt.numBitsDiffering(r,f);h<o&&(c=u[1],o=h),r!==s&&(h=Qt.numBitsDiffering(s,f),h<o&&(c=u[1],o=h))}return o<=3?new Qt(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(r){if(!(r instanceof Qt))return!1;const s=r;return this.errorCorrectionLevel===s.errorCorrectionLevel&&this.dataMask===s.dataMask}}Qt.FORMAT_INFO_MASK_QR=21522,Qt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class W{constructor(r,...s){this.ecCodewordsPerBlock=r,this.ecBlocks=s}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let r=0;const s=this.ecBlocks;for(const o of s)r+=o.getCount();return r}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class k{constructor(r,s){this.count=r,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class xe{constructor(r,s,...o){this.versionNumber=r,this.alignmentPatternCenters=s,this.ecBlocks=o;let c=0;const u=o[0].getECCodewordsPerBlock(),f=o[0].getECBlocks();for(const h of f)c+=h.getCount()*(h.getDataCodewords()+u);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(r){return this.ecBlocks[r.getValue()]}static getProvisionalVersionForDimension(r){if(r%4!==1)throw new B;try{return this.getVersionForNumber((r-17)/4)}catch{throw new B}}static getVersionForNumber(r){if(r<1||r>40)throw new v;return xe.VERSIONS[r-1]}static decodeVersionInformation(r){let s=Number.MAX_SAFE_INTEGER,o=0;for(let c=0;c<xe.VERSION_DECODE_INFO.length;c++){const u=xe.VERSION_DECODE_INFO[c];if(u===r)return xe.getVersionForNumber(c+7);const f=Qt.numBitsDiffering(r,u);f<s&&(o=c+7,s=f)}return s<=3?xe.getVersionForNumber(o):null}buildFunctionPattern(){const r=this.getDimensionForVersion(),s=new he(r);s.setRegion(0,0,9,9),s.setRegion(r-8,0,8,9),s.setRegion(0,r-8,9,8);const o=this.alignmentPatternCenters.length;for(let c=0;c<o;c++){const u=this.alignmentPatternCenters[c]-2;for(let f=0;f<o;f++)c===0&&(f===0||f===o-1)||c===o-1&&f===0||s.setRegion(this.alignmentPatternCenters[f]-2,u,5,5)}return s.setRegion(6,9,1,r-17),s.setRegion(9,6,r-17,1),this.versionNumber>6&&(s.setRegion(r-11,0,3,6),s.setRegion(0,r-11,6,3)),s}toString(){return""+this.versionNumber}}xe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),xe.VERSIONS=[new xe(1,new Int32Array(0),new W(7,new k(1,19)),new W(10,new k(1,16)),new W(13,new k(1,13)),new W(17,new k(1,9))),new xe(2,Int32Array.from([6,18]),new W(10,new k(1,34)),new W(16,new k(1,28)),new W(22,new k(1,22)),new W(28,new k(1,16))),new xe(3,Int32Array.from([6,22]),new W(15,new k(1,55)),new W(26,new k(1,44)),new W(18,new k(2,17)),new W(22,new k(2,13))),new xe(4,Int32Array.from([6,26]),new W(20,new k(1,80)),new W(18,new k(2,32)),new W(26,new k(2,24)),new W(16,new k(4,9))),new xe(5,Int32Array.from([6,30]),new W(26,new k(1,108)),new W(24,new k(2,43)),new W(18,new k(2,15),new k(2,16)),new W(22,new k(2,11),new k(2,12))),new xe(6,Int32Array.from([6,34]),new W(18,new k(2,68)),new W(16,new k(4,27)),new W(24,new k(4,19)),new W(28,new k(4,15))),new xe(7,Int32Array.from([6,22,38]),new W(20,new k(2,78)),new W(18,new k(4,31)),new W(18,new k(2,14),new k(4,15)),new W(26,new k(4,13),new k(1,14))),new xe(8,Int32Array.from([6,24,42]),new W(24,new k(2,97)),new W(22,new k(2,38),new k(2,39)),new W(22,new k(4,18),new k(2,19)),new W(26,new k(4,14),new k(2,15))),new xe(9,Int32Array.from([6,26,46]),new W(30,new k(2,116)),new W(22,new k(3,36),new k(2,37)),new W(20,new k(4,16),new k(4,17)),new W(24,new k(4,12),new k(4,13))),new xe(10,Int32Array.from([6,28,50]),new W(18,new k(2,68),new k(2,69)),new W(26,new k(4,43),new k(1,44)),new W(24,new k(6,19),new k(2,20)),new W(28,new k(6,15),new k(2,16))),new xe(11,Int32Array.from([6,30,54]),new W(20,new k(4,81)),new W(30,new k(1,50),new k(4,51)),new W(28,new k(4,22),new k(4,23)),new W(24,new k(3,12),new k(8,13))),new xe(12,Int32Array.from([6,32,58]),new W(24,new k(2,92),new k(2,93)),new W(22,new k(6,36),new k(2,37)),new W(26,new k(4,20),new k(6,21)),new W(28,new k(7,14),new k(4,15))),new xe(13,Int32Array.from([6,34,62]),new W(26,new k(4,107)),new W(22,new k(8,37),new k(1,38)),new W(24,new k(8,20),new k(4,21)),new W(22,new k(12,11),new k(4,12))),new xe(14,Int32Array.from([6,26,46,66]),new W(30,new k(3,115),new k(1,116)),new W(24,new k(4,40),new k(5,41)),new W(20,new k(11,16),new k(5,17)),new W(24,new k(11,12),new k(5,13))),new xe(15,Int32Array.from([6,26,48,70]),new W(22,new k(5,87),new k(1,88)),new W(24,new k(5,41),new k(5,42)),new W(30,new k(5,24),new k(7,25)),new W(24,new k(11,12),new k(7,13))),new xe(16,Int32Array.from([6,26,50,74]),new W(24,new k(5,98),new k(1,99)),new W(28,new k(7,45),new k(3,46)),new W(24,new k(15,19),new k(2,20)),new W(30,new k(3,15),new k(13,16))),new xe(17,Int32Array.from([6,30,54,78]),new W(28,new k(1,107),new k(5,108)),new W(28,new k(10,46),new k(1,47)),new W(28,new k(1,22),new k(15,23)),new W(28,new k(2,14),new k(17,15))),new xe(18,Int32Array.from([6,30,56,82]),new W(30,new k(5,120),new k(1,121)),new W(26,new k(9,43),new k(4,44)),new W(28,new k(17,22),new k(1,23)),new W(28,new k(2,14),new k(19,15))),new xe(19,Int32Array.from([6,30,58,86]),new W(28,new k(3,113),new k(4,114)),new W(26,new k(3,44),new k(11,45)),new W(26,new k(17,21),new k(4,22)),new W(26,new k(9,13),new k(16,14))),new xe(20,Int32Array.from([6,34,62,90]),new W(28,new k(3,107),new k(5,108)),new W(26,new k(3,41),new k(13,42)),new W(30,new k(15,24),new k(5,25)),new W(28,new k(15,15),new k(10,16))),new xe(21,Int32Array.from([6,28,50,72,94]),new W(28,new k(4,116),new k(4,117)),new W(26,new k(17,42)),new W(28,new k(17,22),new k(6,23)),new W(30,new k(19,16),new k(6,17))),new xe(22,Int32Array.from([6,26,50,74,98]),new W(28,new k(2,111),new k(7,112)),new W(28,new k(17,46)),new W(30,new k(7,24),new k(16,25)),new W(24,new k(34,13))),new xe(23,Int32Array.from([6,30,54,78,102]),new W(30,new k(4,121),new k(5,122)),new W(28,new k(4,47),new k(14,48)),new W(30,new k(11,24),new k(14,25)),new W(30,new k(16,15),new k(14,16))),new xe(24,Int32Array.from([6,28,54,80,106]),new W(30,new k(6,117),new k(4,118)),new W(28,new k(6,45),new k(14,46)),new W(30,new k(11,24),new k(16,25)),new W(30,new k(30,16),new k(2,17))),new xe(25,Int32Array.from([6,32,58,84,110]),new W(26,new k(8,106),new k(4,107)),new W(28,new k(8,47),new k(13,48)),new W(30,new k(7,24),new k(22,25)),new W(30,new k(22,15),new k(13,16))),new xe(26,Int32Array.from([6,30,58,86,114]),new W(28,new k(10,114),new k(2,115)),new W(28,new k(19,46),new k(4,47)),new W(28,new k(28,22),new k(6,23)),new W(30,new k(33,16),new k(4,17))),new xe(27,Int32Array.from([6,34,62,90,118]),new W(30,new k(8,122),new k(4,123)),new W(28,new k(22,45),new k(3,46)),new W(30,new k(8,23),new k(26,24)),new W(30,new k(12,15),new k(28,16))),new xe(28,Int32Array.from([6,26,50,74,98,122]),new W(30,new k(3,117),new k(10,118)),new W(28,new k(3,45),new k(23,46)),new W(30,new k(4,24),new k(31,25)),new W(30,new k(11,15),new k(31,16))),new xe(29,Int32Array.from([6,30,54,78,102,126]),new W(30,new k(7,116),new k(7,117)),new W(28,new k(21,45),new k(7,46)),new W(30,new k(1,23),new k(37,24)),new W(30,new k(19,15),new k(26,16))),new xe(30,Int32Array.from([6,26,52,78,104,130]),new W(30,new k(5,115),new k(10,116)),new W(28,new k(19,47),new k(10,48)),new W(30,new k(15,24),new k(25,25)),new W(30,new k(23,15),new k(25,16))),new xe(31,Int32Array.from([6,30,56,82,108,134]),new W(30,new k(13,115),new k(3,116)),new W(28,new k(2,46),new k(29,47)),new W(30,new k(42,24),new k(1,25)),new W(30,new k(23,15),new k(28,16))),new xe(32,Int32Array.from([6,34,60,86,112,138]),new W(30,new k(17,115)),new W(28,new k(10,46),new k(23,47)),new W(30,new k(10,24),new k(35,25)),new W(30,new k(19,15),new k(35,16))),new xe(33,Int32Array.from([6,30,58,86,114,142]),new W(30,new k(17,115),new k(1,116)),new W(28,new k(14,46),new k(21,47)),new W(30,new k(29,24),new k(19,25)),new W(30,new k(11,15),new k(46,16))),new xe(34,Int32Array.from([6,34,62,90,118,146]),new W(30,new k(13,115),new k(6,116)),new W(28,new k(14,46),new k(23,47)),new W(30,new k(44,24),new k(7,25)),new W(30,new k(59,16),new k(1,17))),new xe(35,Int32Array.from([6,30,54,78,102,126,150]),new W(30,new k(12,121),new k(7,122)),new W(28,new k(12,47),new k(26,48)),new W(30,new k(39,24),new k(14,25)),new W(30,new k(22,15),new k(41,16))),new xe(36,Int32Array.from([6,24,50,76,102,128,154]),new W(30,new k(6,121),new k(14,122)),new W(28,new k(6,47),new k(34,48)),new W(30,new k(46,24),new k(10,25)),new W(30,new k(2,15),new k(64,16))),new xe(37,Int32Array.from([6,28,54,80,106,132,158]),new W(30,new k(17,122),new k(4,123)),new W(28,new k(29,46),new k(14,47)),new W(30,new k(49,24),new k(10,25)),new W(30,new k(24,15),new k(46,16))),new xe(38,Int32Array.from([6,32,58,84,110,136,162]),new W(30,new k(4,122),new k(18,123)),new W(28,new k(13,46),new k(32,47)),new W(30,new k(48,24),new k(14,25)),new W(30,new k(42,15),new k(32,16))),new xe(39,Int32Array.from([6,26,54,82,110,138,166]),new W(30,new k(20,117),new k(4,118)),new W(28,new k(40,47),new k(7,48)),new W(30,new k(43,24),new k(22,25)),new W(30,new k(10,15),new k(67,16))),new xe(40,Int32Array.from([6,30,58,86,114,142,170]),new W(30,new k(19,118),new k(6,119)),new W(28,new k(18,47),new k(31,48)),new W(30,new k(34,24),new k(34,25)),new W(30,new k(20,15),new k(61,16)))];var Bt;(function(N){N[N.DATA_MASK_000=0]="DATA_MASK_000",N[N.DATA_MASK_001=1]="DATA_MASK_001",N[N.DATA_MASK_010=2]="DATA_MASK_010",N[N.DATA_MASK_011=3]="DATA_MASK_011",N[N.DATA_MASK_100=4]="DATA_MASK_100",N[N.DATA_MASK_101=5]="DATA_MASK_101",N[N.DATA_MASK_110=6]="DATA_MASK_110",N[N.DATA_MASK_111=7]="DATA_MASK_111"})(Bt||(Bt={}));class Pn{constructor(r,s){this.value=r,this.isMasked=s}unmaskBitMatrix(r,s){for(let o=0;o<s;o++)for(let c=0;c<s;c++)this.isMasked(o,c)&&r.flip(c,o)}}Pn.values=new Map([[Bt.DATA_MASK_000,new Pn(Bt.DATA_MASK_000,(N,r)=>(N+r&1)===0)],[Bt.DATA_MASK_001,new Pn(Bt.DATA_MASK_001,(N,r)=>(N&1)===0)],[Bt.DATA_MASK_010,new Pn(Bt.DATA_MASK_010,(N,r)=>r%3===0)],[Bt.DATA_MASK_011,new Pn(Bt.DATA_MASK_011,(N,r)=>(N+r)%3===0)],[Bt.DATA_MASK_100,new Pn(Bt.DATA_MASK_100,(N,r)=>(Math.floor(N/2)+Math.floor(r/3)&1)===0)],[Bt.DATA_MASK_101,new Pn(Bt.DATA_MASK_101,(N,r)=>N*r%6===0)],[Bt.DATA_MASK_110,new Pn(Bt.DATA_MASK_110,(N,r)=>N*r%6<3)],[Bt.DATA_MASK_111,new Pn(Bt.DATA_MASK_111,(N,r)=>(N+r+N*r%3&1)===0)]]);class n2{constructor(r){const s=r.getHeight();if(s<21||(s&3)!==1)throw new B;this.bitMatrix=r}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let r=0;for(let u=0;u<6;u++)r=this.copyBit(u,8,r);r=this.copyBit(7,8,r),r=this.copyBit(8,8,r),r=this.copyBit(8,7,r);for(let u=5;u>=0;u--)r=this.copyBit(8,u,r);const s=this.bitMatrix.getHeight();let o=0;const c=s-7;for(let u=s-1;u>=c;u--)o=this.copyBit(8,u,o);for(let u=s-8;u<s;u++)o=this.copyBit(u,8,o);if(this.parsedFormatInfo=Qt.decodeFormatInformation(r,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new B}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const r=this.bitMatrix.getHeight(),s=Math.floor((r-17)/4);if(s<=6)return xe.getVersionForNumber(s);let o=0;const c=r-11;for(let f=5;f>=0;f--)for(let h=r-9;h>=c;h--)o=this.copyBit(h,f,o);let u=xe.decodeVersionInformation(o);if(u!==null&&u.getDimensionForVersion()===r)return this.parsedVersion=u,u;o=0;for(let f=5;f>=0;f--)for(let h=r-9;h>=c;h--)o=this.copyBit(f,h,o);if(u=xe.decodeVersionInformation(o),u!==null&&u.getDimensionForVersion()===r)return this.parsedVersion=u,u;throw new B}copyBit(r,s,o){return(this.isMirror?this.bitMatrix.get(s,r):this.bitMatrix.get(r,s))?o<<1|1:o<<1}readCodewords(){const r=this.readFormatInformation(),s=this.readVersion(),o=Pn.values.get(r.getDataMask()),c=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,c);const u=s.buildFunctionPattern();let f=!0;const h=new Uint8Array(s.getTotalCodewords());let x=0,w=0,E=0;for(let T=c-1;T>0;T-=2){T===6&&T--;for(let O=0;O<c;O++){const P=f?c-1-O:O;for(let F=0;F<2;F++)u.get(T-F,P)||(E++,w<<=1,this.bitMatrix.get(T-F,P)&&(w|=1),E===8&&(h[x++]=w,E=0,w=0))}f=!f}if(x!==s.getTotalCodewords())throw new B;return h}remask(){if(this.parsedFormatInfo===null)return;const r=Pn.values[this.parsedFormatInfo.getDataMask()],s=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,s)}setMirror(r){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=r}mirror(){const r=this.bitMatrix;for(let s=0,o=r.getWidth();s<o;s++)for(let c=s+1,u=r.getHeight();c<u;c++)r.get(s,c)!==r.get(c,s)&&(r.flip(c,s),r.flip(s,c))}}class fu{constructor(r,s){this.numDataCodewords=r,this.codewords=s}static getDataBlocks(r,s,o){if(r.length!==s.getTotalCodewords())throw new v;const c=s.getECBlocksForLevel(o);let u=0;const f=c.getECBlocks();for(const F of f)u+=F.getCount();const h=new Array(u);let x=0;for(const F of f)for(let j=0;j<F.getCount();j++){const H=F.getDataCodewords(),X=c.getECCodewordsPerBlock()+H;h[x++]=new fu(H,new Uint8Array(X))}const w=h[0].codewords.length;let E=h.length-1;for(;E>=0&&h[E].codewords.length!==w;)E--;E++;const T=w-c.getECCodewordsPerBlock();let O=0;for(let F=0;F<T;F++)for(let j=0;j<x;j++)h[j].codewords[F]=r[O++];for(let F=E;F<x;F++)h[F].codewords[T]=r[O++];const P=h[0].codewords.length;for(let F=T;F<P;F++)for(let j=0;j<x;j++){const H=j<E?F:F+1;h[j].codewords[H]=r[O++]}return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Bn;(function(N){N[N.TERMINATOR=0]="TERMINATOR",N[N.NUMERIC=1]="NUMERIC",N[N.ALPHANUMERIC=2]="ALPHANUMERIC",N[N.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",N[N.BYTE=4]="BYTE",N[N.ECI=5]="ECI",N[N.KANJI=6]="KANJI",N[N.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",N[N.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",N[N.HANZI=9]="HANZI"})(Bn||(Bn={}));class we{constructor(r,s,o,c){this.value=r,this.stringValue=s,this.characterCountBitsForVersions=o,this.bits=c,we.FOR_BITS.set(c,this),we.FOR_VALUE.set(r,this)}static forBits(r){const s=we.FOR_BITS.get(r);if(s===void 0)throw new v;return s}getCharacterCountBits(r){const s=r.getVersionNumber();let o;return s<=9?o=0:s<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(r){if(!(r instanceof we))return!1;const s=r;return this.value===s.value}toString(){return this.stringValue}}we.FOR_BITS=new Map,we.FOR_VALUE=new Map,we.TERMINATOR=new we(Bn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),we.NUMERIC=new we(Bn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),we.ALPHANUMERIC=new we(Bn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),we.STRUCTURED_APPEND=new we(Bn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),we.BYTE=new we(Bn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),we.ECI=new we(Bn.ECI,"ECI",Int32Array.from([0,0,0]),7),we.KANJI=new we(Bn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),we.FNC1_FIRST_POSITION=new we(Bn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),we.FNC1_SECOND_POSITION=new we(Bn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),we.HANZI=new we(Bn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class ht{static decode(r,s,o,c){const u=new uu(r);let f=new me;const h=new Array;let x=-1,w=-1;try{let E=null,T=!1,O;do{if(u.available()<4)O=we.TERMINATOR;else{const P=u.readBits(4);O=we.forBits(P)}switch(O){case we.TERMINATOR:break;case we.FNC1_FIRST_POSITION:case we.FNC1_SECOND_POSITION:T=!0;break;case we.STRUCTURED_APPEND:if(u.available()<16)throw new B;x=u.readBits(8),w=u.readBits(8);break;case we.ECI:const P=ht.parseECIValue(u);if(E=z.getCharacterSetECIByValue(P),E===null)throw new B;break;case we.HANZI:const F=u.readBits(4),j=u.readBits(O.getCharacterCountBits(s));F===ht.GB2312_SUBSET&&ht.decodeHanziSegment(u,f,j);break;default:const H=u.readBits(O.getCharacterCountBits(s));switch(O){case we.NUMERIC:ht.decodeNumericSegment(u,f,H);break;case we.ALPHANUMERIC:ht.decodeAlphanumericSegment(u,f,H,T);break;case we.BYTE:ht.decodeByteSegment(u,f,H,E,h,c);break;case we.KANJI:ht.decodeKanjiSegment(u,f,H);break;default:throw new B}break}}while(O!==we.TERMINATOR)}catch{throw new B}return new Ge(r,f.toString(),h.length===0?null:h,o===null?null:o.toString(),x,w)}static decodeHanziSegment(r,s,o){if(o*13>r.available())throw new B;const c=new Uint8Array(2*o);let u=0;for(;o>0;){const f=r.readBits(13);let h=f/96<<8&4294967295|f%96;h<959?h+=41377:h+=42657,c[u]=h>>8&255,c[u+1]=h&255,u+=2,o--}try{s.append(oe.decode(c,$.GB2312))}catch(f){throw new B(f)}}static decodeKanjiSegment(r,s,o){if(o*13>r.available())throw new B;const c=new Uint8Array(2*o);let u=0;for(;o>0;){const f=r.readBits(13);let h=f/192<<8&4294967295|f%192;h<7936?h+=33088:h+=49472,c[u]=h>>8,c[u+1]=h,u+=2,o--}try{s.append(oe.decode(c,$.SHIFT_JIS))}catch(f){throw new B(f)}}static decodeByteSegment(r,s,o,c,u,f){if(8*o>r.available())throw new B;const h=new Uint8Array(o);for(let w=0;w<o;w++)h[w]=r.readBits(8);let x;c===null?x=$.guessEncoding(h,f):x=c.getName();try{s.append(oe.decode(h,x))}catch(w){throw new B(w)}u.push(h)}static toAlphaNumericChar(r){if(r>=ht.ALPHANUMERIC_CHARS.length)throw new B;return ht.ALPHANUMERIC_CHARS[r]}static decodeAlphanumericSegment(r,s,o,c){const u=s.length();for(;o>1;){if(r.available()<11)throw new B;const f=r.readBits(11);s.append(ht.toAlphaNumericChar(Math.floor(f/45))),s.append(ht.toAlphaNumericChar(f%45)),o-=2}if(o===1){if(r.available()<6)throw new B;s.append(ht.toAlphaNumericChar(r.readBits(6)))}if(c)for(let f=u;f<s.length();f++)s.charAt(f)==="%"&&(f<s.length()-1&&s.charAt(f+1)==="%"?s.deleteCharAt(f+1):s.setCharAt(f,""))}static decodeNumericSegment(r,s,o){for(;o>=3;){if(r.available()<10)throw new B;const c=r.readBits(10);if(c>=1e3)throw new B;s.append(ht.toAlphaNumericChar(Math.floor(c/100))),s.append(ht.toAlphaNumericChar(Math.floor(c/10)%10)),s.append(ht.toAlphaNumericChar(c%10)),o-=3}if(o===2){if(r.available()<7)throw new B;const c=r.readBits(7);if(c>=100)throw new B;s.append(ht.toAlphaNumericChar(Math.floor(c/10))),s.append(ht.toAlphaNumericChar(c%10))}else if(o===1){if(r.available()<4)throw new B;const c=r.readBits(4);if(c>=10)throw new B;s.append(ht.toAlphaNumericChar(c))}}static parseECIValue(r){const s=r.readBits(8);if(!(s&128))return s&127;if((s&192)===128){const o=r.readBits(8);return(s&63)<<8&4294967295|o}if((s&224)===192){const o=r.readBits(16);return(s&31)<<16&4294967295|o}throw new B}}ht.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",ht.GB2312_SUBSET=1;class n0{constructor(r){this.mirrored=r}isMirrored(){return this.mirrored}applyMirroredCorrection(r){if(!this.mirrored||r===null||r.length<3)return;const s=r[0];r[0]=r[2],r[2]=s}}class r2{constructor(){this.rsDecoder=new ho(ze.QR_CODE_FIELD_256)}decodeBooleanArray(r,s){return this.decodeBitMatrix(he.parseFromBooleanArray(r),s)}decodeBitMatrix(r,s){const o=new n2(r);let c=null;try{return this.decodeBitMatrixParser(o,s)}catch(u){c=u}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const u=this.decodeBitMatrixParser(o,s);return u.setOther(new n0(!0)),u}catch(u){throw c!==null?c:u}}decodeBitMatrixParser(r,s){const o=r.readVersion(),c=r.readFormatInformation().getErrorCorrectionLevel(),u=r.readCodewords(),f=fu.getDataBlocks(u,o,c);let h=0;for(const E of f)h+=E.getNumDataCodewords();const x=new Uint8Array(h);let w=0;for(const E of f){const T=E.getCodewords(),O=E.getNumDataCodewords();this.correctErrors(T,O);for(let P=0;P<O;P++)x[w++]=T[P]}return ht.decode(x,o,c,s)}correctErrors(r,s){const o=new Int32Array(r);try{this.rsDecoder.decode(o,r.length-s)}catch{throw new b}for(let c=0;c<s;c++)r[c]=o[c]}}class du extends pe{constructor(r,s,o){super(r,s),this.estimatedModuleSize=o}aboutEquals(r,s,o){if(Math.abs(s-this.getY())<=r&&Math.abs(o-this.getX())<=r){const c=Math.abs(r-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(r,s,o){const c=(this.getX()+s)/2,u=(this.getY()+r)/2,f=(this.estimatedModuleSize+o)/2;return new du(c,u,f)}}class Ka{constructor(r,s,o,c,u,f,h){this.image=r,this.startX=s,this.startY=o,this.width=c,this.height=u,this.moduleSize=f,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const r=this.startX,s=this.height,o=this.width,c=r+o,u=this.startY+s/2,f=new Int32Array(3),h=this.image;for(let x=0;x<s;x++){const w=u+(x&1?-Math.floor((x+1)/2):Math.floor((x+1)/2));f[0]=0,f[1]=0,f[2]=0;let E=r;for(;E<c&&!h.get(E,w);)E++;let T=0;for(;E<c;){if(h.get(E,w))if(T===1)f[1]++;else if(T===2){if(this.foundPatternCross(f)){const O=this.handlePossibleCenter(f,w,E);if(O!==null)return O}f[0]=f[2],f[1]=1,f[2]=0,T=1}else f[++T]++;else T===1&&T++,f[T]++;E++}if(this.foundPatternCross(f)){const O=this.handlePossibleCenter(f,w,c);if(O!==null)return O}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new G}static centerFromEnd(r,s){return s-r[2]-r[1]/2}foundPatternCross(r){const s=this.moduleSize,o=s/2;for(let c=0;c<3;c++)if(Math.abs(s-r[c])>=o)return!1;return!0}crossCheckVertical(r,s,o,c){const u=this.image,f=u.getHeight(),h=this.crossCheckStateCount;h[0]=0,h[1]=0,h[2]=0;let x=r;for(;x>=0&&u.get(s,x)&&h[1]<=o;)h[1]++,x--;if(x<0||h[1]>o)return NaN;for(;x>=0&&!u.get(s,x)&&h[0]<=o;)h[0]++,x--;if(h[0]>o)return NaN;for(x=r+1;x<f&&u.get(s,x)&&h[1]<=o;)h[1]++,x++;if(x===f||h[1]>o)return NaN;for(;x<f&&!u.get(s,x)&&h[2]<=o;)h[2]++,x++;if(h[2]>o)return NaN;const w=h[0]+h[1]+h[2];return 5*Math.abs(w-c)>=2*c?NaN:this.foundPatternCross(h)?Ka.centerFromEnd(h,x):NaN}handlePossibleCenter(r,s,o){const c=r[0]+r[1]+r[2],u=Ka.centerFromEnd(r,o),f=this.crossCheckVertical(s,u,2*r[1],c);if(!isNaN(f)){const h=(r[0]+r[1]+r[2])/3;for(const w of this.possibleCenters)if(w.aboutEquals(h,f,u))return w.combineEstimate(f,u,h);const x=new du(u,f,h);this.possibleCenters.push(x),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(x)}return null}}class hu extends pe{constructor(r,s,o,c){super(r,s),this.estimatedModuleSize=o,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(r,s,o){if(Math.abs(s-this.getY())<=r&&Math.abs(o-this.getX())<=r){const c=Math.abs(r-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(r,s,o){const c=this.count+1,u=(this.count*this.getX()+s)/c,f=(this.count*this.getY()+r)/c,h=(this.count*this.estimatedModuleSize+o)/c;return new hu(u,f,h,c)}}class i2{constructor(r){this.bottomLeft=r[0],this.topLeft=r[1],this.topRight=r[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Ft{constructor(r,s){this.image=r,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=s}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(r){const s=r!=null&&r.get(U.TRY_HARDER)!==void 0,o=r!=null&&r.get(U.PURE_BARCODE)!==void 0,c=this.image,u=c.getHeight(),f=c.getWidth();let h=Math.floor(3*u/(4*Ft.MAX_MODULES));(h<Ft.MIN_SKIP||s)&&(h=Ft.MIN_SKIP);let x=!1;const w=new Int32Array(5);for(let T=h-1;T<u&&!x;T+=h){w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0;let O=0;for(let P=0;P<f;P++)if(c.get(P,T))(O&1)===1&&O++,w[O]++;else if(O&1)w[O]++;else if(O===4)if(Ft.foundPatternCross(w)){if(this.handlePossibleCenter(w,T,P,o)===!0)if(h=2,this.hasSkipped===!0)x=this.haveMultiplyConfirmedCenters();else{const j=this.findRowSkip();j>w[2]&&(T+=j-w[2]-h,P=f-1)}else{w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,O=3;continue}O=0,w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0}else w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,O=3;else w[++O]++;Ft.foundPatternCross(w)&&this.handlePossibleCenter(w,T,f,o)===!0&&(h=w[0],this.hasSkipped&&(x=this.haveMultiplyConfirmedCenters()))}const E=this.selectBestPatterns();return pe.orderBestPatterns(E),new i2(E)}static centerFromEnd(r,s){return s-r[4]-r[3]-r[2]/2}static foundPatternCross(r){let s=0;for(let u=0;u<5;u++){const f=r[u];if(f===0)return!1;s+=f}if(s<7)return!1;const o=s/7,c=o/2;return Math.abs(o-r[0])<c&&Math.abs(o-r[1])<c&&Math.abs(3*o-r[2])<3*c&&Math.abs(o-r[3])<c&&Math.abs(o-r[4])<c}getCrossCheckStateCount(){const r=this.crossCheckStateCount;return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r}crossCheckDiagonal(r,s,o,c){const u=this.getCrossCheckStateCount();let f=0;const h=this.image;for(;r>=f&&s>=f&&h.get(s-f,r-f);)u[2]++,f++;if(r<f||s<f)return!1;for(;r>=f&&s>=f&&!h.get(s-f,r-f)&&u[1]<=o;)u[1]++,f++;if(r<f||s<f||u[1]>o)return!1;for(;r>=f&&s>=f&&h.get(s-f,r-f)&&u[0]<=o;)u[0]++,f++;if(u[0]>o)return!1;const x=h.getHeight(),w=h.getWidth();for(f=1;r+f<x&&s+f<w&&h.get(s+f,r+f);)u[2]++,f++;if(r+f>=x||s+f>=w)return!1;for(;r+f<x&&s+f<w&&!h.get(s+f,r+f)&&u[3]<o;)u[3]++,f++;if(r+f>=x||s+f>=w||u[3]>=o)return!1;for(;r+f<x&&s+f<w&&h.get(s+f,r+f)&&u[4]<o;)u[4]++,f++;if(u[4]>=o)return!1;const E=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(E-c)<2*c&&Ft.foundPatternCross(u)}crossCheckVertical(r,s,o,c){const u=this.image,f=u.getHeight(),h=this.getCrossCheckStateCount();let x=r;for(;x>=0&&u.get(s,x);)h[2]++,x--;if(x<0)return NaN;for(;x>=0&&!u.get(s,x)&&h[1]<=o;)h[1]++,x--;if(x<0||h[1]>o)return NaN;for(;x>=0&&u.get(s,x)&&h[0]<=o;)h[0]++,x--;if(h[0]>o)return NaN;for(x=r+1;x<f&&u.get(s,x);)h[2]++,x++;if(x===f)return NaN;for(;x<f&&!u.get(s,x)&&h[3]<o;)h[3]++,x++;if(x===f||h[3]>=o)return NaN;for(;x<f&&u.get(s,x)&&h[4]<o;)h[4]++,x++;if(h[4]>=o)return NaN;const w=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(w-c)>=2*c?NaN:Ft.foundPatternCross(h)?Ft.centerFromEnd(h,x):NaN}crossCheckHorizontal(r,s,o,c){const u=this.image,f=u.getWidth(),h=this.getCrossCheckStateCount();let x=r;for(;x>=0&&u.get(x,s);)h[2]++,x--;if(x<0)return NaN;for(;x>=0&&!u.get(x,s)&&h[1]<=o;)h[1]++,x--;if(x<0||h[1]>o)return NaN;for(;x>=0&&u.get(x,s)&&h[0]<=o;)h[0]++,x--;if(h[0]>o)return NaN;for(x=r+1;x<f&&u.get(x,s);)h[2]++,x++;if(x===f)return NaN;for(;x<f&&!u.get(x,s)&&h[3]<o;)h[3]++,x++;if(x===f||h[3]>=o)return NaN;for(;x<f&&u.get(x,s)&&h[4]<o;)h[4]++,x++;if(h[4]>=o)return NaN;const w=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(w-c)>=c?NaN:Ft.foundPatternCross(h)?Ft.centerFromEnd(h,x):NaN}handlePossibleCenter(r,s,o,c){const u=r[0]+r[1]+r[2]+r[3]+r[4];let f=Ft.centerFromEnd(r,o),h=this.crossCheckVertical(s,Math.floor(f),r[2],u);if(!isNaN(h)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(h),r[2],u),!isNaN(f)&&(!c||this.crossCheckDiagonal(Math.floor(h),Math.floor(f),r[2],u)))){const x=u/7;let w=!1;const E=this.possibleCenters;for(let T=0,O=E.length;T<O;T++){const P=E[T];if(P.aboutEquals(x,h,f)){E[T]=P.combineEstimate(h,f,x),w=!0;break}}if(!w){const T=new hu(f,h,x);E.push(T),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(T)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let s=null;for(const o of this.possibleCenters)if(o.getCount()>=Ft.CENTER_QUORUM)if(s==null)s=o;else return this.hasSkipped=!0,Math.floor((Math.abs(s.getX()-o.getX())-Math.abs(s.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let r=0,s=0;const o=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=Ft.CENTER_QUORUM&&(r++,s+=f.getEstimatedModuleSize());if(r<3)return!1;const c=s/o;let u=0;for(const f of this.possibleCenters)u+=Math.abs(f.getEstimatedModuleSize()-c);return u<=.05*s}selectBestPatterns(){const r=this.possibleCenters.length;if(r<3)throw new G;const s=this.possibleCenters;let o;if(r>3){let c=0,u=0;for(const x of this.possibleCenters){const w=x.getEstimatedModuleSize();c+=w,u+=w*w}o=c/r;let f=Math.sqrt(u/r-o*o);s.sort((x,w)=>{const E=Math.abs(w.getEstimatedModuleSize()-o),T=Math.abs(x.getEstimatedModuleSize()-o);return E<T?-1:E>T?1:0});const h=Math.max(.2*o,f);for(let x=0;x<s.length&&s.length>3;x++){const w=s[x];Math.abs(w.getEstimatedModuleSize()-o)>h&&(s.splice(x,1),x--)}}if(s.length>3){let c=0;for(const u of s)c+=u.getEstimatedModuleSize();o=c/s.length,s.sort((u,f)=>{if(f.getCount()===u.getCount()){const h=Math.abs(f.getEstimatedModuleSize()-o),x=Math.abs(u.getEstimatedModuleSize()-o);return h<x?1:h>x?-1:0}else return f.getCount()-u.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]}}Ft.CENTER_QUORUM=2,Ft.MIN_SKIP=3,Ft.MAX_MODULES=57;class po{constructor(r){this.image=r}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(r){this.resultPointCallback=r==null?null:r.get(U.NEED_RESULT_POINT_CALLBACK);const o=new Ft(this.image,this.resultPointCallback).find(r);return this.processFinderPatternInfo(o)}processFinderPatternInfo(r){const s=r.getTopLeft(),o=r.getTopRight(),c=r.getBottomLeft(),u=this.calculateModuleSize(s,o,c);if(u<1)throw new G("No pattern found in proccess finder.");const f=po.computeDimension(s,o,c,u),h=xe.getProvisionalVersionForDimension(f),x=h.getDimensionForVersion()-7;let w=null;if(h.getAlignmentPatternCenters().length>0){const P=o.getX()-s.getX()+c.getX(),F=o.getY()-s.getY()+c.getY(),j=1-3/x,H=Math.floor(s.getX()+j*(P-s.getX())),X=Math.floor(s.getY()+j*(F-s.getY()));for(let ne=4;ne<=16;ne<<=1)try{w=this.findAlignmentInRegion(u,H,X,ne);break}catch(re){if(!(re instanceof G))throw re}}const E=po.createTransform(s,o,c,w,f),T=po.sampleGrid(this.image,E,f);let O;return w===null?O=[c,s,o]:O=[c,s,o,w],new Ha(T,O)}static createTransform(r,s,o,c,u){const f=u-3.5;let h,x,w,E;return c!==null?(h=c.getX(),x=c.getY(),w=f-3,E=w):(h=s.getX()-r.getX()+o.getX(),x=s.getY()-r.getY()+o.getY(),w=f,E=f),Xn.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,w,E,3.5,f,r.getX(),r.getY(),s.getX(),s.getY(),h,x,o.getX(),o.getY())}static sampleGrid(r,s,o){return Yr.getInstance().sampleGridWithTransform(r,o,o,s)}static computeDimension(r,s,o,c){const u=Fe.round(pe.distance(r,s)/c),f=Fe.round(pe.distance(r,o)/c);let h=Math.floor((u+f)/2)+7;switch(h&3){case 0:h++;break;case 2:h--;break;case 3:throw new G("Dimensions could be not found.")}return h}calculateModuleSize(r,s,o){return(this.calculateModuleSizeOneWay(r,s)+this.calculateModuleSizeOneWay(r,o))/2}calculateModuleSizeOneWay(r,s){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(s.getX()),Math.floor(s.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(r.getX()),Math.floor(r.getY()));return isNaN(o)?c/7:isNaN(c)?o/7:(o+c)/14}sizeOfBlackWhiteBlackRunBothWays(r,s,o,c){let u=this.sizeOfBlackWhiteBlackRun(r,s,o,c),f=1,h=r-(o-r);h<0?(f=r/(r-h),h=0):h>=this.image.getWidth()&&(f=(this.image.getWidth()-1-r)/(h-r),h=this.image.getWidth()-1);let x=Math.floor(s-(c-s)*f);return f=1,x<0?(f=s/(s-x),x=0):x>=this.image.getHeight()&&(f=(this.image.getHeight()-1-s)/(x-s),x=this.image.getHeight()-1),h=Math.floor(r+(h-r)*f),u+=this.sizeOfBlackWhiteBlackRun(r,s,h,x),u-1}sizeOfBlackWhiteBlackRun(r,s,o,c){const u=Math.abs(c-s)>Math.abs(o-r);if(u){let P=r;r=s,s=P,P=o,o=c,c=P}const f=Math.abs(o-r),h=Math.abs(c-s);let x=-f/2;const w=r<o?1:-1,E=s<c?1:-1;let T=0;const O=o+w;for(let P=r,F=s;P!==O;P+=w){const j=u?F:P,H=u?P:F;if(T===1===this.image.get(j,H)){if(T===2)return Fe.distance(P,F,r,s);T++}if(x+=h,x>0){if(F===c)break;F+=E,x-=f}}return T===2?Fe.distance(o+w,c,r,s):NaN}findAlignmentInRegion(r,s,o,c){const u=Math.floor(c*r),f=Math.max(0,s-u),h=Math.min(this.image.getWidth()-1,s+u);if(h-f<r*3)throw new G("Alignment top exceeds estimated module size.");const x=Math.max(0,o-u),w=Math.min(this.image.getHeight()-1,o+u);if(w-x<r*3)throw new G("Alignment bottom exceeds estimated module size.");return new Ka(this.image,f,x,h-f,w-x,r,this.resultPointCallback).find()}}class Zr{constructor(){this.decoder=new r2}getDecoder(){return this.decoder}decode(r,s){let o,c;if(s!=null&&s.get(U.PURE_BARCODE)!==void 0){const x=Zr.extractPureBits(r.getBlackMatrix());o=this.decoder.decodeBitMatrix(x,s),c=Zr.NO_POINTS}else{const x=new po(r.getBlackMatrix()).detect(s);o=this.decoder.decodeBitMatrix(x.getBits(),s),c=x.getPoints()}o.getOther()instanceof n0&&o.getOther().applyMirroredCorrection(c);const u=new Je(o.getText(),o.getRawBytes(),void 0,c,Z.QR_CODE,void 0),f=o.getByteSegments();f!==null&&u.putMetadata(be.BYTE_SEGMENTS,f);const h=o.getECLevel();return h!==null&&u.putMetadata(be.ERROR_CORRECTION_LEVEL,h),o.hasStructuredAppend()&&(u.putMetadata(be.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),u.putMetadata(be.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),u}reset(){}static extractPureBits(r){const s=r.getTopLeftOnBit(),o=r.getBottomRightOnBit();if(s===null||o===null)throw new G;const c=this.moduleSize(s,r);let u=s[1],f=o[1],h=s[0],x=o[0];if(h>=x||u>=f)throw new G;if(f-u!==x-h&&(x=h+(f-u),x>=r.getWidth()))throw new G;const w=Math.round((x-h+1)/c),E=Math.round((f-u+1)/c);if(w<=0||E<=0)throw new G;if(E!==w)throw new G;const T=Math.floor(c/2);u+=T,h+=T;const O=h+Math.floor((w-1)*c)-x;if(O>0){if(O>T)throw new G;h-=O}const P=u+Math.floor((E-1)*c)-f;if(P>0){if(P>T)throw new G;u-=P}const F=new he(w,E);for(let j=0;j<E;j++){const H=u+Math.floor(j*c);for(let X=0;X<w;X++)r.get(h+Math.floor(X*c),H)&&F.set(X,j)}return F}static moduleSize(r,s){const o=s.getHeight(),c=s.getWidth();let u=r[0],f=r[1],h=!0,x=0;for(;u<c&&f<o;){if(h!==s.get(u,f)){if(++x===5)break;h=!h}u++,f++}if(u===c||f===o)throw new G;return(u-r[0])/7}}Zr.NO_POINTS=new Array;class Ae{PDF417Common(){}static getBitCountSum(r){return Fe.sum(r)}static toIntArray(r){if(r==null||!r.length)return Ae.EMPTY_INT_ARRAY;const s=new Int32Array(r.length);let o=0;for(const c of r)s[o++]=c;return s}static getCodeword(r){const s=S.binarySearch(Ae.SYMBOL_TABLE,r&262143);return s<0?-1:(Ae.CODEWORD_TABLE[s]-1)%Ae.NUMBER_OF_CODEWORDS}}Ae.NUMBER_OF_CODEWORDS=929,Ae.MAX_CODEWORDS_IN_BARCODE=Ae.NUMBER_OF_CODEWORDS-1,Ae.MIN_ROWS_IN_BARCODE=3,Ae.MAX_ROWS_IN_BARCODE=90,Ae.MODULES_IN_CODEWORD=17,Ae.MODULES_IN_STOP_PATTERN=18,Ae.BARS_IN_MODULE=8,Ae.EMPTY_INT_ARRAY=new Int32Array([]),Ae.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ae.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class s2{constructor(r,s){this.bits=r,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class Oe{static detectMultiple(r,s,o){let c=r.getBlackMatrix(),u=Oe.detect(o,c);return u.length||(c=c.clone(),c.rotate180(),u=Oe.detect(o,c)),new s2(c,u)}static detect(r,s){const o=new Array;let c=0,u=0,f=!1;for(;c<s.getHeight();){const h=Oe.findVertices(s,c,u);if(h[0]==null&&h[3]==null){if(!f)break;f=!1,u=0;for(const x of o)x[1]!=null&&(c=Math.trunc(Math.max(c,x[1].getY()))),x[3]!=null&&(c=Math.max(c,Math.trunc(x[3].getY())));c+=Oe.ROW_STEP;continue}if(f=!0,o.push(h),!r)break;h[2]!=null?(u=Math.trunc(h[2].getX()),c=Math.trunc(h[2].getY())):(u=Math.trunc(h[4].getX()),c=Math.trunc(h[4].getY()))}return o}static findVertices(r,s,o){const c=r.getHeight(),u=r.getWidth(),f=new Array(8);return Oe.copyToResult(f,Oe.findRowsWithPattern(r,c,u,s,o,Oe.START_PATTERN),Oe.INDEXES_START_PATTERN),f[4]!=null&&(o=Math.trunc(f[4].getX()),s=Math.trunc(f[4].getY())),Oe.copyToResult(f,Oe.findRowsWithPattern(r,c,u,s,o,Oe.STOP_PATTERN),Oe.INDEXES_STOP_PATTERN),f}static copyToResult(r,s,o){for(let c=0;c<o.length;c++)r[o[c]]=s[c]}static findRowsWithPattern(r,s,o,c,u,f){const h=new Array(4);let x=!1;const w=new Int32Array(f.length);for(;c<s;c+=Oe.ROW_STEP){let T=Oe.findGuardPattern(r,u,c,o,!1,f,w);if(T!=null){for(;c>0;){const O=Oe.findGuardPattern(r,u,--c,o,!1,f,w);if(O!=null)T=O;else{c++;break}}h[0]=new pe(T[0],c),h[1]=new pe(T[1],c),x=!0;break}}let E=c+1;if(x){let T=0,O=Int32Array.from([Math.trunc(h[0].getX()),Math.trunc(h[1].getX())]);for(;E<s;E++){const P=Oe.findGuardPattern(r,O[0],E,o,!1,f,w);if(P!=null&&Math.abs(O[0]-P[0])<Oe.MAX_PATTERN_DRIFT&&Math.abs(O[1]-P[1])<Oe.MAX_PATTERN_DRIFT)O=P,T=0;else{if(T>Oe.SKIPPED_ROW_COUNT_MAX)break;T++}}E-=T+1,h[2]=new pe(O[0],E),h[3]=new pe(O[1],E)}return E-c<Oe.BARCODE_MIN_HEIGHT&&S.fill(h,null),h}static findGuardPattern(r,s,o,c,u,f,h){S.fillWithin(h,0,h.length,0);let x=s,w=0;for(;r.get(x,o)&&x>0&&w++<Oe.MAX_PIXEL_DRIFT;)x--;let E=x,T=0,O=f.length;for(let P=u;E<c;E++)if(r.get(E,o)!==P)h[T]++;else{if(T===O-1){if(Oe.patternMatchVariance(h,f,Oe.MAX_INDIVIDUAL_VARIANCE)<Oe.MAX_AVG_VARIANCE)return new Int32Array([x,E]);x+=h[0]+h[1],M.arraycopy(h,2,h,0,T-1),h[T-1]=0,h[T]=0,T--}else T++;h[T]=1,P=!P}return T===O-1&&Oe.patternMatchVariance(h,f,Oe.MAX_INDIVIDUAL_VARIANCE)<Oe.MAX_AVG_VARIANCE?new Int32Array([x,E-1]):null}static patternMatchVariance(r,s,o){let c=r.length,u=0,f=0;for(let w=0;w<c;w++)u+=r[w],f+=s[w];if(u<f)return 1/0;let h=u/f;o*=h;let x=0;for(let w=0;w<c;w++){let E=r[w],T=s[w]*h,O=E>T?E-T:T-E;if(O>o)return 1/0;x+=O}return x/u}}Oe.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Oe.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Oe.MAX_AVG_VARIANCE=.42,Oe.MAX_INDIVIDUAL_VARIANCE=.8,Oe.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Oe.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Oe.MAX_PIXEL_DRIFT=3,Oe.MAX_PATTERN_DRIFT=5,Oe.SKIPPED_ROW_COUNT_MAX=25,Oe.ROW_STEP=5,Oe.BARCODE_MIN_HEIGHT=10;class Vt{constructor(r,s){if(s.length===0)throw new v;this.field=r;let o=s.length;if(o>1&&s[0]===0){let c=1;for(;c<o&&s[c]===0;)c++;c===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-c),M.arraycopy(s,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);if(r===1){let c=0;for(let u of this.coefficients)c=this.field.add(c,u);return c}let s=this.coefficients[0],o=this.coefficients.length;for(let c=1;c<o;c++)s=this.field.add(this.field.multiply(r,s),this.coefficients[c]);return s}add(r){if(!this.field.equals(r.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return r;if(r.isZero())return this;let s=this.coefficients,o=r.coefficients;if(s.length>o.length){let f=s;s=o,o=f}let c=new Int32Array(o.length),u=o.length-s.length;M.arraycopy(o,0,c,0,u);for(let f=u;f<o.length;f++)c[f]=this.field.add(s[f-u],o[f]);return new Vt(this.field,c)}subtract(r){if(!this.field.equals(r.field))throw new v("ModulusPolys do not have same ModulusGF field");return r.isZero()?this:this.add(r.negative())}multiply(r){return r instanceof Vt?this.multiplyOther(r):this.multiplyScalar(r)}multiplyOther(r){if(!this.field.equals(r.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||r.isZero())return new Vt(this.field,new Int32Array([0]));let s=this.coefficients,o=s.length,c=r.coefficients,u=c.length,f=new Int32Array(o+u-1);for(let h=0;h<o;h++){let x=s[h];for(let w=0;w<u;w++)f[h+w]=this.field.add(f[h+w],this.field.multiply(x,c[w]))}return new Vt(this.field,f)}negative(){let r=this.coefficients.length,s=new Int32Array(r);for(let o=0;o<r;o++)s[o]=this.field.subtract(0,this.coefficients[o]);return new Vt(this.field,s)}multiplyScalar(r){if(r===0)return new Vt(this.field,new Int32Array([0]));if(r===1)return this;let s=this.coefficients.length,o=new Int32Array(s);for(let c=0;c<s;c++)o[c]=this.field.multiply(this.coefficients[c],r);return new Vt(this.field,o)}multiplyByMonomial(r,s){if(r<0)throw new v;if(s===0)return new Vt(this.field,new Int32Array([0]));let o=this.coefficients.length,c=new Int32Array(o+r);for(let u=0;u<o;u++)c[u]=this.field.multiply(this.coefficients[u],s);return new Vt(this.field,c)}toString(){let r=new me;for(let s=this.getDegree();s>=0;s--){let o=this.getCoefficient(s);o!==0&&(o<0?(r.append(" - "),o=-o):r.length()>0&&r.append(" + "),(s===0||o!==1)&&r.append(o),s!==0&&(s===1?r.append("x"):(r.append("x^"),r.append(s))))}return r.toString()}}class o2{add(r,s){return(r+s)%this.modulus}subtract(r,s){return(this.modulus+r-s)%this.modulus}exp(r){return this.expTable[r]}log(r){if(r===0)throw new v;return this.logTable[r]}inverse(r){if(r===0)throw new za;return this.expTable[this.modulus-this.logTable[r]-1]}multiply(r,s){return r===0||s===0?0:this.expTable[(this.logTable[r]+this.logTable[s])%(this.modulus-1)]}getSize(){return this.modulus}equals(r){return r===this}}class gu extends o2{constructor(r,s){super(),this.modulus=r,this.expTable=new Int32Array(r),this.logTable=new Int32Array(r);let o=1;for(let c=0;c<r;c++)this.expTable[c]=o,o=o*s%r;for(let c=0;c<r-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new Vt(this,new Int32Array([0])),this.one=new Vt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,s){if(r<0)throw new v;if(s===0)return this.zero;let o=new Int32Array(r+1);return o[0]=s,new Vt(this,o)}}gu.PDF417_GF=new gu(Ae.NUMBER_OF_CODEWORDS,3);class r0{constructor(){this.field=gu.PDF417_GF}decode(r,s,o){let c=new Vt(this.field,r),u=new Int32Array(s),f=!1;for(let F=s;F>0;F--){let j=c.evaluateAt(this.field.exp(F));u[s-F]=j,j!==0&&(f=!0)}if(!f)return 0;let h=this.field.getOne();if(o!=null)for(const F of o){let j=this.field.exp(r.length-1-F),H=new Vt(this.field,new Int32Array([this.field.subtract(0,j),1]));h=h.multiply(H)}let x=new Vt(this.field,u),w=this.runEuclideanAlgorithm(this.field.buildMonomial(s,1),x,s),E=w[0],T=w[1],O=this.findErrorLocations(E),P=this.findErrorMagnitudes(T,E,O);for(let F=0;F<O.length;F++){let j=r.length-1-this.field.log(O[F]);if(j<0)throw b.getChecksumInstance();r[j]=this.field.subtract(r[j],P[F])}return O.length}runEuclideanAlgorithm(r,s,o){if(r.getDegree()<s.getDegree()){let O=r;r=s,s=O}let c=r,u=s,f=this.field.getZero(),h=this.field.getOne();for(;u.getDegree()>=Math.round(o/2);){let O=c,P=f;if(c=u,f=h,c.isZero())throw b.getChecksumInstance();u=O;let F=this.field.getZero(),j=c.getCoefficient(c.getDegree()),H=this.field.inverse(j);for(;u.getDegree()>=c.getDegree()&&!u.isZero();){let X=u.getDegree()-c.getDegree(),ne=this.field.multiply(u.getCoefficient(u.getDegree()),H);F=F.add(this.field.buildMonomial(X,ne)),u=u.subtract(c.multiplyByMonomial(X,ne))}h=F.multiply(f).subtract(P).negative()}let x=h.getCoefficient(0);if(x===0)throw b.getChecksumInstance();let w=this.field.inverse(x),E=h.multiply(w),T=u.multiply(w);return[E,T]}findErrorLocations(r){let s=r.getDegree(),o=new Int32Array(s),c=0;for(let u=1;u<this.field.getSize()&&c<s;u++)r.evaluateAt(u)===0&&(o[c]=this.field.inverse(u),c++);if(c!==s)throw b.getChecksumInstance();return o}findErrorMagnitudes(r,s,o){let c=s.getDegree(),u=new Int32Array(c);for(let w=1;w<=c;w++)u[c-w]=this.field.multiply(w,s.getCoefficient(w));let f=new Vt(this.field,u),h=o.length,x=new Int32Array(h);for(let w=0;w<h;w++){let E=this.field.inverse(o[w]),T=this.field.subtract(0,r.evaluateAt(E)),O=this.field.inverse(f.evaluateAt(E));x[w]=this.field.multiply(T,O)}return x}}class Pi{constructor(r,s,o,c,u){r instanceof Pi?this.constructor_2(r):this.constructor_1(r,s,o,c,u)}constructor_1(r,s,o,c,u){const f=s==null||o==null,h=c==null||u==null;if(f&&h)throw new G;f?(s=new pe(0,c.getY()),o=new pe(0,u.getY())):h&&(c=new pe(r.getWidth()-1,s.getY()),u=new pe(r.getWidth()-1,o.getY())),this.image=r,this.topLeft=s,this.bottomLeft=o,this.topRight=c,this.bottomRight=u,this.minX=Math.trunc(Math.min(s.getX(),o.getX())),this.maxX=Math.trunc(Math.max(c.getX(),u.getX())),this.minY=Math.trunc(Math.min(s.getY(),c.getY())),this.maxY=Math.trunc(Math.max(o.getY(),u.getY()))}constructor_2(r){this.image=r.image,this.topLeft=r.getTopLeft(),this.bottomLeft=r.getBottomLeft(),this.topRight=r.getTopRight(),this.bottomRight=r.getBottomRight(),this.minX=r.getMinX(),this.maxX=r.getMaxX(),this.minY=r.getMinY(),this.maxY=r.getMaxY()}static merge(r,s){return r==null?s:s==null?r:new Pi(r.image,r.topLeft,r.bottomLeft,s.topRight,s.bottomRight)}addMissingRows(r,s,o){let c=this.topLeft,u=this.bottomLeft,f=this.topRight,h=this.bottomRight;if(r>0){let x=o?this.topLeft:this.topRight,w=Math.trunc(x.getY()-r);w<0&&(w=0);let E=new pe(x.getX(),w);o?c=E:f=E}if(s>0){let x=o?this.bottomLeft:this.bottomRight,w=Math.trunc(x.getY()+s);w>=this.image.getHeight()&&(w=this.image.getHeight()-1);let E=new pe(x.getX(),w);o?u=E:h=E}return new Pi(this.image,c,u,f,h)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class a2{constructor(r,s,o,c){this.columnCount=r,this.errorCorrectionLevel=c,this.rowCountUpperPart=s,this.rowCountLowerPart=o,this.rowCount=s+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class mo{constructor(){this.buffer=""}static form(r,s){let o=-1;function c(f,h,x,w,E,T){if(f==="%%")return"%";if(s[++o]===void 0)return;f=w?parseInt(w.substr(1)):void 0;let O=E?parseInt(E.substr(1)):void 0,P;switch(T){case"s":P=s[o];break;case"c":P=s[o][0];break;case"f":P=parseFloat(s[o]).toFixed(f);break;case"p":P=parseFloat(s[o]).toPrecision(f);break;case"e":P=parseFloat(s[o]).toExponential(f);break;case"x":P=parseInt(s[o]).toString(O||16);break;case"d":P=parseFloat(parseInt(s[o],O||10).toPrecision(f)).toFixed(0);break}P=typeof P=="object"?JSON.stringify(P):(+P).toString(O);let F=parseInt(x),j=x&&x[0]+""=="0"?"0":" ";for(;P.length<F;)P=h!==void 0?P+j:j+P;return P}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(u,c)}format(r,...s){this.buffer+=mo.form(r,s)}toString(){return this.buffer}}class xo{constructor(r){this.boundingBox=new Pi(r),this.codewords=new Array(r.getMaxY()-r.getMinY()+1)}getCodewordNearby(r){let s=this.getCodeword(r);if(s!=null)return s;for(let o=1;o<xo.MAX_NEARBY_DISTANCE;o++){let c=this.imageRowToCodewordIndex(r)-o;if(c>=0&&(s=this.codewords[c],s!=null)||(c=this.imageRowToCodewordIndex(r)+o,c<this.codewords.length&&(s=this.codewords[c],s!=null)))return s}return null}imageRowToCodewordIndex(r){return r-this.boundingBox.getMinY()}setCodeword(r,s){this.codewords[this.imageRowToCodewordIndex(r)]=s}getCodeword(r){return this.codewords[this.imageRowToCodewordIndex(r)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const r=new mo;let s=0;for(const o of this.codewords){if(o==null){r.format("%3d:    |   %n",s++);continue}r.format("%3d: %3d|%3d%n",s++,o.getRowNumber(),o.getValue())}return r.toString()}}xo.MAX_NEARBY_DISTANCE=5;class yo{constructor(){this.values=new Map}setValue(r){r=Math.trunc(r);let s=this.values.get(r);s==null&&(s=0),s++,this.values.set(r,s)}getValue(){let r=-1,s=new Array;for(const[o,c]of this.values.entries()){const u={getKey:()=>o,getValue:()=>c};u.getValue()>r?(r=u.getValue(),s=[],s.push(u.getKey())):u.getValue()===r&&s.push(u.getKey())}return Ae.toIntArray(s)}getConfidence(r){return this.values.get(r)}}class i0 extends xo{constructor(r,s){super(r),this._isLeft=s}setRowNumbers(){for(let r of this.getCodewords())r!=null&&r.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(r){let s=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(s,r);let o=this.getBoundingBox(),c=this._isLeft?o.getTopLeft():o.getTopRight(),u=this._isLeft?o.getBottomLeft():o.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(c.getY())),h=this.imageRowToCodewordIndex(Math.trunc(u.getY())),x=-1,w=1,E=0;for(let T=f;T<h;T++){if(s[T]==null)continue;let O=s[T],P=O.getRowNumber()-x;if(P===0)E++;else if(P===1)w=Math.max(w,E),E=1,x=O.getRowNumber();else if(P<0||O.getRowNumber()>=r.getRowCount()||P>T)s[T]=null;else{let F;w>2?F=(w-2)*P:F=P;let j=F>=T;for(let H=1;H<=F&&!j;H++)j=s[T-H]!=null;j?s[T]=null:(x=O.getRowNumber(),E=1)}}}getRowHeights(){let r=this.getBarcodeMetadata();if(r==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(r);let s=new Int32Array(r.getRowCount());for(let o of this.getCodewords())if(o!=null){let c=o.getRowNumber();if(c>=s.length)continue;s[c]++}return s}adjustIncompleteIndicatorColumnRowNumbers(r){let s=this.getBoundingBox(),o=this._isLeft?s.getTopLeft():s.getTopRight(),c=this._isLeft?s.getBottomLeft():s.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.imageRowToCodewordIndex(Math.trunc(c.getY())),h=this.getCodewords(),x=-1;for(let w=u;w<f;w++){if(h[w]==null)continue;let E=h[w];E.setRowNumberAsRowIndicatorColumn();let T=E.getRowNumber()-x;T===0||(T===1?x=E.getRowNumber():E.getRowNumber()>=r.getRowCount()?h[w]=null:x=E.getRowNumber())}}getBarcodeMetadata(){let r=this.getCodewords(),s=new yo,o=new yo,c=new yo,u=new yo;for(let h of r){if(h==null)continue;h.setRowNumberAsRowIndicatorColumn();let x=h.getValue()%30,w=h.getRowNumber();switch(this._isLeft||(w+=2),w%3){case 0:o.setValue(x*3+1);break;case 1:u.setValue(x/3),c.setValue(x%3);break;case 2:s.setValue(x+1);break}}if(s.getValue().length===0||o.getValue().length===0||c.getValue().length===0||u.getValue().length===0||s.getValue()[0]<1||o.getValue()[0]+c.getValue()[0]<Ae.MIN_ROWS_IN_BARCODE||o.getValue()[0]+c.getValue()[0]>Ae.MAX_ROWS_IN_BARCODE)return null;let f=new a2(s.getValue()[0],o.getValue()[0],c.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(r,f),f}removeIncorrectCodewords(r,s){for(let o=0;o<r.length;o++){let c=r[o];if(r[o]==null)continue;let u=c.getValue()%30,f=c.getRowNumber();if(f>s.getRowCount()){r[o]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:u*3+1!==s.getRowCountUpperPart()&&(r[o]=null);break;case 1:(Math.trunc(u/3)!==s.getErrorCorrectionLevel()||u%3!==s.getRowCountLowerPart())&&(r[o]=null);break;case 2:u+1!==s.getColumnCount()&&(r[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class wo{constructor(r,s){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=r,this.barcodeColumnCount=r.getColumnCount(),this.boundingBox=s,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let r=Ae.MAX_CODEWORDS_IN_BARCODE,s;do s=r,r=this.adjustRowNumbersAndGetCount();while(r>0&&r<s);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(r){r!=null&&r.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let r=this.adjustRowNumbersByRow();if(r===0)return 0;for(let s=1;s<this.barcodeColumnCount+1;s++){let o=this.detectionResultColumns[s].getCodewords();for(let c=0;c<o.length;c++)o[c]!=null&&(o[c].hasValidRowNumber()||this.adjustRowNumbers(s,c,o))}return r}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let r=this.detectionResultColumns[0].getCodewords(),s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<r.length;o++)if(r[o]!=null&&s[o]!=null&&r[o].getRowNumber()===s[o].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let u=this.detectionResultColumns[c].getCodewords()[o];u!=null&&(u.setRowNumber(r[o].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let r=0,s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<s.length;o++){if(s[o]==null)continue;let c=s[o].getRowNumber(),u=0;for(let f=this.barcodeColumnCount+1;f>0&&u<this.ADJUST_ROW_NUMBER_SKIP;f--){let h=this.detectionResultColumns[f].getCodewords()[o];h!=null&&(u=wo.adjustRowNumberIfValid(c,u,h),h.hasValidRowNumber()||r++)}}return r}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let r=0,s=this.detectionResultColumns[0].getCodewords();for(let o=0;o<s.length;o++){if(s[o]==null)continue;let c=s[o].getRowNumber(),u=0;for(let f=1;f<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;f++){let h=this.detectionResultColumns[f].getCodewords()[o];h!=null&&(u=wo.adjustRowNumberIfValid(c,u,h),h.hasValidRowNumber()||r++)}}return r}static adjustRowNumberIfValid(r,s,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(r)?(o.setRowNumber(r),s=0):++s),s}adjustRowNumbers(r,s,o){if(!this.detectionResultColumns[r-1])return;let c=o[s],u=this.detectionResultColumns[r-1].getCodewords(),f=u;this.detectionResultColumns[r+1]!=null&&(f=this.detectionResultColumns[r+1].getCodewords());let h=new Array(14);h[2]=u[s],h[3]=f[s],s>0&&(h[0]=o[s-1],h[4]=u[s-1],h[5]=f[s-1]),s>1&&(h[8]=o[s-2],h[10]=u[s-2],h[11]=f[s-2]),s<o.length-1&&(h[1]=o[s+1],h[6]=u[s+1],h[7]=f[s+1]),s<o.length-2&&(h[9]=o[s+2],h[12]=u[s+2],h[13]=f[s+2]);for(let x of h)if(wo.adjustRowNumber(c,x))return}static adjustRowNumber(r,s){return s==null?!1:s.hasValidRowNumber()&&s.getBucket()===r.getBucket()?(r.setRowNumber(s.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(r){this.boundingBox=r}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(r,s){this.detectionResultColumns[r]=s}getDetectionResultColumn(r){return this.detectionResultColumns[r]}toString(){let r=this.detectionResultColumns[0];r==null&&(r=this.detectionResultColumns[this.barcodeColumnCount+1]);let s=new mo;for(let o=0;o<r.getCodewords().length;o++){s.format("CW %3d:",o);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){s.format("    |   ");continue}let u=this.detectionResultColumns[c].getCodewords()[o];if(u==null){s.format("    |   ");continue}s.format(" %3d|%3d",u.getRowNumber(),u.getValue())}s.format("%n")}return s.toString()}}class vo{constructor(r,s,o,c){this.rowNumber=vo.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(r),this.endX=Math.trunc(s),this.bucket=Math.trunc(o),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(r){return r!==vo.BARCODE_ROW_UNKNOWN&&this.bucket===r%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(r){this.rowNumber=r}toString(){return this.rowNumber+"|"+this.value}}vo.BARCODE_ROW_UNKNOWN=-1;class pn{static initialize(){for(let r=0;r<Ae.SYMBOL_TABLE.length;r++){let s=Ae.SYMBOL_TABLE[r],o=s&1;for(let c=0;c<Ae.BARS_IN_MODULE;c++){let u=0;for(;(s&1)===o;)u+=1,s>>=1;o=s&1,pn.RATIOS_TABLE[r]||(pn.RATIOS_TABLE[r]=new Array(Ae.BARS_IN_MODULE)),pn.RATIOS_TABLE[r][Ae.BARS_IN_MODULE-c-1]=Math.fround(u/Ae.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(r){let s=pn.getDecodedCodewordValue(pn.sampleBitCounts(r));return s!==-1?s:pn.getClosestDecodedValue(r)}static sampleBitCounts(r){let s=Fe.sum(r),o=new Int32Array(Ae.BARS_IN_MODULE),c=0,u=0;for(let f=0;f<Ae.MODULES_IN_CODEWORD;f++){let h=s/(2*Ae.MODULES_IN_CODEWORD)+f*s/Ae.MODULES_IN_CODEWORD;u+r[c]<=h&&(u+=r[c],c++),o[c]++}return o}static getDecodedCodewordValue(r){let s=pn.getBitValue(r);return Ae.getCodeword(s)===-1?-1:s}static getBitValue(r){let s=0;for(let o=0;o<r.length;o++)for(let c=0;c<r[o];c++)s=s<<1|(o%2===0?1:0);return Math.trunc(s)}static getClosestDecodedValue(r){let s=Fe.sum(r),o=new Array(Ae.BARS_IN_MODULE);if(s>1)for(let f=0;f<o.length;f++)o[f]=Math.fround(r[f]/s);let c=Va.MAX_VALUE,u=-1;this.bSymbolTableReady||pn.initialize();for(let f=0;f<pn.RATIOS_TABLE.length;f++){let h=0,x=pn.RATIOS_TABLE[f];for(let w=0;w<Ae.BARS_IN_MODULE;w++){let E=Math.fround(x[w]-o[w]);if(h+=Math.fround(E*E),h>=c)break}h<c&&(c=h,u=Ae.SYMBOL_TABLE[f])}return u}}pn.bSymbolTableReady=!1,pn.RATIOS_TABLE=new Array(Ae.SYMBOL_TABLE.length).map(N=>new Array(Ae.BARS_IN_MODULE));class s0{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(r){this.segmentIndex=r}getFileId(){return this.fileId}setFileId(r){this.fileId=r}getOptionalData(){return this.optionalData}setOptionalData(r){this.optionalData=r}isLastSegment(){return this.lastSegment}setLastSegment(r){this.lastSegment=r}getSegmentCount(){return this.segmentCount}setSegmentCount(r){this.segmentCount=r}getSender(){return this.sender||null}setSender(r){this.sender=r}getAddressee(){return this.addressee||null}setAddressee(r){this.addressee=r}getFileName(){return this.fileName}setFileName(r){this.fileName=r}getFileSize(){return this.fileSize}setFileSize(r){this.fileSize=r}getChecksum(){return this.checksum}setChecksum(r){this.checksum=r}getTimestamp(){return this.timestamp}setTimestamp(r){this.timestamp=r}}class o0{static parseLong(r,s=void 0){return parseInt(r,s)}}class a0 extends g{}a0.kind="NullPointerException";class l2{writeBytes(r){this.writeBytesOffset(r,0,r.length)}writeBytesOffset(r,s,o){if(r==null)throw new a0;if(s<0||s>r.length||o<0||s+o>r.length||s+o<0)throw new D;if(o===0)return;for(let c=0;c<o;c++)this.write(r[s+c])}flush(){}close(){}}class c2 extends g{}class u2 extends l2{constructor(r=32){if(super(),this.count=0,r<0)throw new v("Negative initial size: "+r);this.buf=new Uint8Array(r)}ensureCapacity(r){r-this.buf.length>0&&this.grow(r)}grow(r){let o=this.buf.length<<1;if(o-r<0&&(o=r),o<0){if(r<0)throw new c2;o=I.MAX_VALUE}this.buf=S.copyOfUint8Array(this.buf,o)}write(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1}writeBytesOffset(r,s,o){if(s<0||s>r.length||o<0||s+o-r.length>0)throw new D;this.ensureCapacity(this.count+o),M.arraycopy(r,s,this.buf,this.count,o),this.count+=o}writeTo(r){r.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return S.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(r){return new String(this.buf).toString()}toString_number(r){return new String(this.buf).toString()}close(){}}var Ke;(function(N){N[N.ALPHA=0]="ALPHA",N[N.LOWER=1]="LOWER",N[N.MIXED=2]="MIXED",N[N.PUNCT=3]="PUNCT",N[N.ALPHA_SHIFT=4]="ALPHA_SHIFT",N[N.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ke||(Ke={}));function l0(){if(typeof window<"u")return window.BigInt||null;if(typeof Ao<"u")return Ao.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Qa;function qr(N){if(typeof Qa>"u"&&(Qa=l0()),Qa===null)throw new Error("BigInt is not supported!");return Qa(N)}function f2(){let N=[];N[0]=qr(1);let r=qr(900);N[1]=r;for(let s=2;s<16;s++)N[s]=N[s-1]*r;return N}class Y{static decode(r,s){let o=new me(""),c=z.ISO8859_1;o.enableDecoding(c);let u=1,f=r[u++],h=new s0;for(;u<r[0];){switch(f){case Y.TEXT_COMPACTION_MODE_LATCH:u=Y.textCompaction(r,u,o);break;case Y.BYTE_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:u=Y.byteCompaction(f,r,c,u,o);break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[u++]);break;case Y.NUMERIC_COMPACTION_MODE_LATCH:u=Y.numericCompaction(r,u,o);break;case Y.ECI_CHARSET:z.getCharacterSetECIByValue(r[u++]);break;case Y.ECI_GENERAL_PURPOSE:u+=2;break;case Y.ECI_USER_DEFINED:u++;break;case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=Y.decodeMacroBlock(r,u,h);break;case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:throw new B;default:u--,u=Y.textCompaction(r,u,o);break}if(u<r.length)f=r[u++];else throw B.getFormatInstance()}if(o.length()===0)throw B.getFormatInstance();let x=new Ge(null,o.toString(),null,s);return x.setOther(h),x}static decodeMacroBlock(r,s,o){if(s+Y.NUMBER_OF_SEQUENCE_CODEWORDS>r[0])throw B.getFormatInstance();let c=new Int32Array(Y.NUMBER_OF_SEQUENCE_CODEWORDS);for(let h=0;h<Y.NUMBER_OF_SEQUENCE_CODEWORDS;h++,s++)c[h]=r[s];o.setSegmentIndex(I.parseInt(Y.decodeBase900toBase10(c,Y.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new me;s=Y.textCompaction(r,s,u),o.setFileId(u.toString());let f=-1;for(r[s]===Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=s+1);s<r[0];)switch(r[s]){case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(s++,r[s]){case Y.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let h=new me;s=Y.textCompaction(r,s+1,h),o.setFileName(h.toString());break;case Y.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let x=new me;s=Y.textCompaction(r,s+1,x),o.setSender(x.toString());break;case Y.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let w=new me;s=Y.textCompaction(r,s+1,w),o.setAddressee(w.toString());break;case Y.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let E=new me;s=Y.numericCompaction(r,s+1,E),o.setSegmentCount(I.parseInt(E.toString()));break;case Y.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let T=new me;s=Y.numericCompaction(r,s+1,T),o.setTimestamp(o0.parseLong(T.toString()));break;case Y.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let O=new me;s=Y.numericCompaction(r,s+1,O),o.setChecksum(I.parseInt(O.toString()));break;case Y.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let P=new me;s=Y.numericCompaction(r,s+1,P),o.setFileSize(o0.parseLong(P.toString()));break;default:throw B.getFormatInstance()}break;case Y.MACRO_PDF417_TERMINATOR:s++,o.setLastSegment(!0);break;default:throw B.getFormatInstance()}if(f!==-1){let h=s-f;o.isLastSegment()&&h--,o.setOptionalData(S.copyOfRange(r,f,f+h))}return s}static textCompaction(r,s,o){let c=new Int32Array((r[0]-s)*2),u=new Int32Array((r[0]-s)*2),f=0,h=!1;for(;s<r[0]&&!h;){let x=r[s++];if(x<Y.TEXT_COMPACTION_MODE_LATCH)c[f]=x/30,c[f+1]=x%30,f+=2;else switch(x){case Y.TEXT_COMPACTION_MODE_LATCH:c[f++]=Y.TEXT_COMPACTION_MODE_LATCH;break;case Y.BYTE_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:case Y.NUMERIC_COMPACTION_MODE_LATCH:case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:s--,h=!0;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[f]=Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,x=r[s++],u[f]=x,f++;break}}return Y.decodeTextCompaction(c,u,f,o),s}static decodeTextCompaction(r,s,o,c){let u=Ke.ALPHA,f=Ke.ALPHA,h=0;for(;h<o;){let x=r[h],w="";switch(u){case Ke.ALPHA:if(x<26)w=String.fromCharCode(65+x);else switch(x){case 26:w=" ";break;case Y.LL:u=Ke.LOWER;break;case Y.ML:u=Ke.MIXED;break;case Y.PS:f=u,u=Ke.PUNCT_SHIFT;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[h]);break;case Y.TEXT_COMPACTION_MODE_LATCH:u=Ke.ALPHA;break}break;case Ke.LOWER:if(x<26)w=String.fromCharCode(97+x);else switch(x){case 26:w=" ";break;case Y.AS:f=u,u=Ke.ALPHA_SHIFT;break;case Y.ML:u=Ke.MIXED;break;case Y.PS:f=u,u=Ke.PUNCT_SHIFT;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[h]);break;case Y.TEXT_COMPACTION_MODE_LATCH:u=Ke.ALPHA;break}break;case Ke.MIXED:if(x<Y.PL)w=Y.MIXED_CHARS[x];else switch(x){case Y.PL:u=Ke.PUNCT;break;case 26:w=" ";break;case Y.LL:u=Ke.LOWER;break;case Y.AL:u=Ke.ALPHA;break;case Y.PS:f=u,u=Ke.PUNCT_SHIFT;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[h]);break;case Y.TEXT_COMPACTION_MODE_LATCH:u=Ke.ALPHA;break}break;case Ke.PUNCT:if(x<Y.PAL)w=Y.PUNCT_CHARS[x];else switch(x){case Y.PAL:u=Ke.ALPHA;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[h]);break;case Y.TEXT_COMPACTION_MODE_LATCH:u=Ke.ALPHA;break}break;case Ke.ALPHA_SHIFT:if(u=f,x<26)w=String.fromCharCode(65+x);else switch(x){case 26:w=" ";break;case Y.TEXT_COMPACTION_MODE_LATCH:u=Ke.ALPHA;break}break;case Ke.PUNCT_SHIFT:if(u=f,x<Y.PAL)w=Y.PUNCT_CHARS[x];else switch(x){case Y.PAL:u=Ke.ALPHA;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[h]);break;case Y.TEXT_COMPACTION_MODE_LATCH:u=Ke.ALPHA;break}break}w!==""&&c.append(w),h++}}static byteCompaction(r,s,o,c,u){let f=new u2,h=0,x=0,w=!1;switch(r){case Y.BYTE_COMPACTION_MODE_LATCH:let E=new Int32Array(6),T=s[c++];for(;c<s[0]&&!w;)switch(E[h++]=T,x=900*x+T,T=s[c++],T){case Y.TEXT_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH:case Y.NUMERIC_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:c--,w=!0;break;default:if(h%5===0&&h>0){for(let O=0;O<6;++O)f.write(Number(qr(x)>>qr(8*(5-O))));x=0,h=0}break}c===s[0]&&T<Y.TEXT_COMPACTION_MODE_LATCH&&(E[h++]=T);for(let O=0;O<h;O++)f.write(E[O]);break;case Y.BYTE_COMPACTION_MODE_LATCH_6:for(;c<s[0]&&!w;){let O=s[c++];if(O<Y.TEXT_COMPACTION_MODE_LATCH)h++,x=900*x+O;else switch(O){case Y.TEXT_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH:case Y.NUMERIC_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:c--,w=!0;break}if(h%5===0&&h>0){for(let P=0;P<6;++P)f.write(Number(qr(x)>>qr(8*(5-P))));x=0,h=0}}break}return u.append(oe.decode(f.toByteArray(),o)),c}static numericCompaction(r,s,o){let c=0,u=!1,f=new Int32Array(Y.MAX_NUMERIC_CODEWORDS);for(;s<r[0]&&!u;){let h=r[s++];if(s===r[0]&&(u=!0),h<Y.TEXT_COMPACTION_MODE_LATCH)f[c]=h,c++;else switch(h){case Y.TEXT_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:s--,u=!0;break}(c%Y.MAX_NUMERIC_CODEWORDS===0||h===Y.NUMERIC_COMPACTION_MODE_LATCH||u)&&c>0&&(o.append(Y.decodeBase900toBase10(f,c)),c=0)}return s}static decodeBase900toBase10(r,s){let o=qr(0);for(let u=0;u<s;u++)o+=Y.EXP900[s-u-1]*qr(r[u]);let c=o.toString();if(c.charAt(0)!=="1")throw new B;return c.substring(1)}}Y.TEXT_COMPACTION_MODE_LATCH=900,Y.BYTE_COMPACTION_MODE_LATCH=901,Y.NUMERIC_COMPACTION_MODE_LATCH=902,Y.BYTE_COMPACTION_MODE_LATCH_6=924,Y.ECI_USER_DEFINED=925,Y.ECI_GENERAL_PURPOSE=926,Y.ECI_CHARSET=927,Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Y.MACRO_PDF417_TERMINATOR=922,Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Y.MAX_NUMERIC_CODEWORDS=15,Y.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Y.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Y.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Y.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Y.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Y.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Y.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Y.PL=25,Y.LL=27,Y.AS=27,Y.ML=28,Y.AL=28,Y.PS=29,Y.PAL=29,Y.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Y.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Y.EXP900=l0()?f2():[],Y.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Re{constructor(){}static decode(r,s,o,c,u,f,h){let x=new Pi(r,s,o,c,u),w=null,E=null,T;for(let F=!0;;F=!1){if(s!=null&&(w=Re.getRowIndicatorColumn(r,x,s,!0,f,h)),c!=null&&(E=Re.getRowIndicatorColumn(r,x,c,!1,f,h)),T=Re.merge(w,E),T==null)throw G.getNotFoundInstance();let j=T.getBoundingBox();if(F&&j!=null&&(j.getMinY()<x.getMinY()||j.getMaxY()>x.getMaxY()))x=j;else break}T.setBoundingBox(x);let O=T.getBarcodeColumnCount()+1;T.setDetectionResultColumn(0,w),T.setDetectionResultColumn(O,E);let P=w!=null;for(let F=1;F<=O;F++){let j=P?F:O-F;if(T.getDetectionResultColumn(j)!==void 0)continue;let H;j===0||j===O?H=new i0(x,j===0):H=new xo(x),T.setDetectionResultColumn(j,H);let X=-1,ne=X;for(let re=x.getMinY();re<=x.getMaxY();re++){if(X=Re.getStartColumn(T,j,re,P),X<0||X>x.getMaxX()){if(ne===-1)continue;X=ne}let J=Re.detectCodeword(r,x.getMinX(),x.getMaxX(),P,X,re,f,h);J!=null&&(H.setCodeword(re,J),ne=X,f=Math.min(f,J.getWidth()),h=Math.max(h,J.getWidth()))}}return Re.createDecoderResult(T)}static merge(r,s){if(r==null&&s==null)return null;let o=Re.getBarcodeMetadata(r,s);if(o==null)return null;let c=Pi.merge(Re.adjustBoundingBox(r),Re.adjustBoundingBox(s));return new wo(o,c)}static adjustBoundingBox(r){if(r==null)return null;let s=r.getRowHeights();if(s==null)return null;let o=Re.getMax(s),c=0;for(let h of s)if(c+=o-h,h>0)break;let u=r.getCodewords();for(let h=0;c>0&&u[h]==null;h++)c--;let f=0;for(let h=s.length-1;h>=0&&(f+=o-s[h],!(s[h]>0));h--);for(let h=u.length-1;f>0&&u[h]==null;h--)f--;return r.getBoundingBox().addMissingRows(c,f,r.isLeft())}static getMax(r){let s=-1;for(let o of r)s=Math.max(s,o);return s}static getBarcodeMetadata(r,s){let o;if(r==null||(o=r.getBarcodeMetadata())==null)return s==null?null:s.getBarcodeMetadata();let c;return s==null||(c=s.getBarcodeMetadata())==null?o:o.getColumnCount()!==c.getColumnCount()&&o.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&o.getRowCount()!==c.getRowCount()?null:o}static getRowIndicatorColumn(r,s,o,c,u,f){let h=new i0(s,c);for(let x=0;x<2;x++){let w=x===0?1:-1,E=Math.trunc(Math.trunc(o.getX()));for(let T=Math.trunc(Math.trunc(o.getY()));T<=s.getMaxY()&&T>=s.getMinY();T+=w){let O=Re.detectCodeword(r,0,r.getWidth(),c,E,T,u,f);O!=null&&(h.setCodeword(T,O),c?E=O.getStartX():E=O.getEndX())}}return h}static adjustCodewordCount(r,s){let o=s[0][1],c=o.getValue(),u=r.getBarcodeColumnCount()*r.getBarcodeRowCount()-Re.getNumberOfECCodeWords(r.getBarcodeECLevel());if(c.length===0){if(u<1||u>Ae.MAX_CODEWORDS_IN_BARCODE)throw G.getNotFoundInstance();o.setValue(u)}else c[0]!==u&&o.setValue(u)}static createDecoderResult(r){let s=Re.createBarcodeMatrix(r);Re.adjustCodewordCount(r,s);let o=new Array,c=new Int32Array(r.getBarcodeRowCount()*r.getBarcodeColumnCount()),u=[],f=new Array;for(let x=0;x<r.getBarcodeRowCount();x++)for(let w=0;w<r.getBarcodeColumnCount();w++){let E=s[x][w+1].getValue(),T=x*r.getBarcodeColumnCount()+w;E.length===0?o.push(T):E.length===1?c[T]=E[0]:(f.push(T),u.push(E))}let h=new Array(u.length);for(let x=0;x<h.length;x++)h[x]=u[x];return Re.createDecoderResultFromAmbiguousValues(r.getBarcodeECLevel(),c,Ae.toIntArray(o),Ae.toIntArray(f),h)}static createDecoderResultFromAmbiguousValues(r,s,o,c,u){let f=new Int32Array(c.length),h=100;for(;h-- >0;){for(let x=0;x<f.length;x++)s[c[x]]=u[x][f[x]];try{return Re.decodeCodewords(s,r,o)}catch(x){if(!(x instanceof b))throw x}if(f.length===0)throw b.getChecksumInstance();for(let x=0;x<f.length;x++)if(f[x]<u[x].length-1){f[x]++;break}else if(f[x]=0,x===f.length-1)throw b.getChecksumInstance()}throw b.getChecksumInstance()}static createBarcodeMatrix(r){let s=Array.from({length:r.getBarcodeRowCount()},()=>new Array(r.getBarcodeColumnCount()+2));for(let c=0;c<s.length;c++)for(let u=0;u<s[c].length;u++)s[c][u]=new yo;let o=0;for(let c of r.getDetectionResultColumns()){if(c!=null){for(let u of c.getCodewords())if(u!=null){let f=u.getRowNumber();if(f>=0){if(f>=s.length)continue;s[f][o].setValue(u.getValue())}}}o++}return s}static isValidBarcodeColumn(r,s){return s>=0&&s<=r.getBarcodeColumnCount()+1}static getStartColumn(r,s,o,c){let u=c?1:-1,f=null;if(Re.isValidBarcodeColumn(r,s-u)&&(f=r.getDetectionResultColumn(s-u).getCodeword(o)),f!=null)return c?f.getEndX():f.getStartX();if(f=r.getDetectionResultColumn(s).getCodewordNearby(o),f!=null)return c?f.getStartX():f.getEndX();if(Re.isValidBarcodeColumn(r,s-u)&&(f=r.getDetectionResultColumn(s-u).getCodewordNearby(o)),f!=null)return c?f.getEndX():f.getStartX();let h=0;for(;Re.isValidBarcodeColumn(r,s-u);){s-=u;for(let x of r.getDetectionResultColumn(s).getCodewords())if(x!=null)return(c?x.getEndX():x.getStartX())+u*h*(x.getEndX()-x.getStartX());h++}return c?r.getBoundingBox().getMinX():r.getBoundingBox().getMaxX()}static detectCodeword(r,s,o,c,u,f,h,x){u=Re.adjustCodewordStartColumn(r,s,o,c,u,f);let w=Re.getModuleBitCount(r,s,o,c,u,f);if(w==null)return null;let E,T=Fe.sum(w);if(c)E=u+T;else{for(let F=0;F<w.length/2;F++){let j=w[F];w[F]=w[w.length-1-F],w[w.length-1-F]=j}E=u,u=E-T}if(!Re.checkCodewordSkew(T,h,x))return null;let O=pn.getDecodedValue(w),P=Ae.getCodeword(O);return P===-1?null:new vo(u,E,Re.getCodewordBucketNumber(O),P)}static getModuleBitCount(r,s,o,c,u,f){let h=u,x=new Int32Array(8),w=0,E=c?1:-1,T=c;for(;(c?h<o:h>=s)&&w<x.length;)r.get(h,f)===T?(x[w]++,h+=E):(w++,T=!T);return w===x.length||h===(c?o:s)&&w===x.length-1?x:null}static getNumberOfECCodeWords(r){return 2<<r}static adjustCodewordStartColumn(r,s,o,c,u,f){let h=u,x=c?-1:1;for(let w=0;w<2;w++){for(;(c?h>=s:h<o)&&c===r.get(h,f);){if(Math.abs(u-h)>Re.CODEWORD_SKEW_SIZE)return u;h+=x}x=-x,c=!c}return h}static checkCodewordSkew(r,s,o){return s-Re.CODEWORD_SKEW_SIZE<=r&&r<=o+Re.CODEWORD_SKEW_SIZE}static decodeCodewords(r,s,o){if(r.length===0)throw B.getFormatInstance();let c=1<<s+1,u=Re.correctErrors(r,o,c);Re.verifyCodewordCount(r,c);let f=Y.decode(r,""+s);return f.setErrorsCorrected(u),f.setErasures(o.length),f}static correctErrors(r,s,o){if(s!=null&&s.length>o/2+Re.MAX_ERRORS||o<0||o>Re.MAX_EC_CODEWORDS)throw b.getChecksumInstance();return Re.errorCorrection.decode(r,o,s)}static verifyCodewordCount(r,s){if(r.length<4)throw B.getFormatInstance();let o=r[0];if(o>r.length)throw B.getFormatInstance();if(o===0)if(s<r.length)r[0]=r.length-s;else throw B.getFormatInstance()}static getBitCountForCodeword(r){let s=new Int32Array(8),o=0,c=s.length-1;for(;!((r&1)!==o&&(o=r&1,c--,c<0));)s[c]++,r>>=1;return s}static getCodewordBucketNumber(r){return r instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(r):this.getCodewordBucketNumber_number(r)}static getCodewordBucketNumber_number(r){return Re.getCodewordBucketNumber(Re.getBitCountForCodeword(r))}static getCodewordBucketNumber_Int32Array(r){return(r[0]-r[2]+r[4]-r[6]+9)%9}static toString(r){let s=new mo;for(let o=0;o<r.length;o++){s.format("Row %2d: ",o);for(let c=0;c<r[o].length;c++){let u=r[o][c];u.getValue().length===0?s.format("        ",null):s.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}s.format("%n")}return s.toString()}}Re.CODEWORD_SKEW_SIZE=2,Re.MAX_ERRORS=3,Re.MAX_EC_CODEWORDS=512,Re.errorCorrection=new r0;class Ht{decode(r,s=null){let o=Ht.decode(r,s,!1);if(o==null||o.length===0||o[0]==null)throw G.getNotFoundInstance();return o[0]}decodeMultiple(r,s=null){try{return Ht.decode(r,s,!0)}catch(o){throw o instanceof B||o instanceof b?G.getNotFoundInstance():o}}static decode(r,s,o){const c=new Array,u=Oe.detectMultiple(r,s,o);for(const f of u.getPoints()){const h=Re.decode(u.getBits(),f[4],f[5],f[6],f[7],Ht.getMinCodewordWidth(f),Ht.getMaxCodewordWidth(f)),x=new Je(h.getText(),h.getRawBytes(),void 0,f,Z.PDF_417);x.putMetadata(be.ERROR_CORRECTION_LEVEL,h.getECLevel());const w=h.getOther();w!=null&&x.putMetadata(be.PDF417_EXTRA_METADATA,w),c.push(x)}return c.map(f=>f)}static getMaxWidth(r,s){return r==null||s==null?0:Math.trunc(Math.abs(r.getX()-s.getX()))}static getMinWidth(r,s){return r==null||s==null?I.MAX_VALUE:Math.trunc(Math.abs(r.getX()-s.getX()))}static getMaxCodewordWidth(r){return Math.floor(Math.max(Math.max(Ht.getMaxWidth(r[0],r[4]),Ht.getMaxWidth(r[6],r[2])*Ae.MODULES_IN_CODEWORD/Ae.MODULES_IN_STOP_PATTERN),Math.max(Ht.getMaxWidth(r[1],r[5]),Ht.getMaxWidth(r[7],r[3])*Ae.MODULES_IN_CODEWORD/Ae.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(r){return Math.floor(Math.min(Math.min(Ht.getMinWidth(r[0],r[4]),Ht.getMinWidth(r[6],r[2])*Ae.MODULES_IN_CODEWORD/Ae.MODULES_IN_STOP_PATTERN),Math.min(Ht.getMinWidth(r[1],r[5]),Ht.getMinWidth(r[7],r[3])*Ae.MODULES_IN_CODEWORD/Ae.MODULES_IN_STOP_PATTERN)))}reset(){}}class Za extends g{}Za.kind="ReaderException";class c0{constructor(r,s){this.verbose=r===!0,s&&this.setHints(s)}decode(r,s){return s&&this.setHints(s),this.decodeInternal(r)}decodeWithState(r){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(r)}setHints(r){this.hints=r;const s=!i(r)&&r.get(U.TRY_HARDER)===!0,o=i(r)?null:r.get(U.POSSIBLE_FORMATS),c=new Array;if(!i(o)){const u=o.some(f=>f===Z.UPC_A||f===Z.UPC_E||f===Z.EAN_13||f===Z.EAN_8||f===Z.CODABAR||f===Z.CODE_39||f===Z.CODE_93||f===Z.CODE_128||f===Z.ITF||f===Z.RSS_14||f===Z.RSS_EXPANDED);u&&!s&&c.push(new ps(r,this.verbose)),o.includes(Z.QR_CODE)&&c.push(new Zr),o.includes(Z.DATA_MATRIX)&&c.push(new Qr),o.includes(Z.AZTEC)&&c.push(new Wa),o.includes(Z.PDF_417)&&c.push(new Ht),u&&s&&c.push(new ps(r,this.verbose))}c.length===0&&(s||c.push(new ps(r,this.verbose)),c.push(new Zr),c.push(new Qr),c.push(new Wa),c.push(new Ht),s&&c.push(new ps(r,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const r of this.readers)r.reset()}decodeInternal(r){if(this.readers===null)throw new Za("No readers where selected, nothing can be read.");for(const s of this.readers)try{return s.decode(r,this.hints)}catch(o){if(o instanceof Za)continue}throw new G("No MultiFormat Readers were able to detect the code.")}}class d2 extends Pt{constructor(r=null,s=500){const o=new c0;o.setHints(r),super(o,s)}decodeBitmap(r){return this.reader.decodeWithState(r)}}class h2 extends Pt{constructor(r=500){super(new Ht,r)}}class g2 extends Pt{constructor(r=500){super(new Zr,r)}}var pu;(function(N){N[N.ERROR_CORRECTION=0]="ERROR_CORRECTION",N[N.CHARACTER_SET=1]="CHARACTER_SET",N[N.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",N[N.MIN_SIZE=3]="MIN_SIZE",N[N.MAX_SIZE=4]="MAX_SIZE",N[N.MARGIN=5]="MARGIN",N[N.PDF417_COMPACT=6]="PDF417_COMPACT",N[N.PDF417_COMPACTION=7]="PDF417_COMPACTION",N[N.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",N[N.AZTEC_LAYERS=9]="AZTEC_LAYERS",N[N.QR_VERSION=10]="QR_VERSION"})(pu||(pu={}));var Rt=pu;class mu{constructor(r){this.field=r,this.cachedGenerators=[],this.cachedGenerators.push(new dn(r,Int32Array.from([1])))}buildGenerator(r){const s=this.cachedGenerators;if(r>=s.length){let o=s[s.length-1];const c=this.field;for(let u=s.length;u<=r;u++){const f=o.multiply(new dn(c,Int32Array.from([1,c.exp(u-1+c.getGeneratorBase())])));s.push(f),o=f}}return s[r]}encode(r,s){if(s===0)throw new v("No error correction bytes");const o=r.length-s;if(o<=0)throw new v("No data bytes provided");const c=this.buildGenerator(s),u=new Int32Array(o);M.arraycopy(r,0,u,0,o);let f=new dn(this.field,u);f=f.multiplyByMonomial(s,1);const x=f.divide(c)[1].getCoefficients(),w=s-x.length;for(let E=0;E<w;E++)r[o+E]=0;M.arraycopy(x,0,r,o+w,x.length)}}class Ct{constructor(){}static applyMaskPenaltyRule1(r){return Ct.applyMaskPenaltyRule1Internal(r,!0)+Ct.applyMaskPenaltyRule1Internal(r,!1)}static applyMaskPenaltyRule2(r){let s=0;const o=r.getArray(),c=r.getWidth(),u=r.getHeight();for(let f=0;f<u-1;f++){const h=o[f];for(let x=0;x<c-1;x++){const w=h[x];w===h[x+1]&&w===o[f+1][x]&&w===o[f+1][x+1]&&s++}}return Ct.N2*s}static applyMaskPenaltyRule3(r){let s=0;const o=r.getArray(),c=r.getWidth(),u=r.getHeight();for(let f=0;f<u;f++)for(let h=0;h<c;h++){const x=o[f];h+6<c&&x[h]===1&&x[h+1]===0&&x[h+2]===1&&x[h+3]===1&&x[h+4]===1&&x[h+5]===0&&x[h+6]===1&&(Ct.isWhiteHorizontal(x,h-4,h)||Ct.isWhiteHorizontal(x,h+7,h+11))&&s++,f+6<u&&o[f][h]===1&&o[f+1][h]===0&&o[f+2][h]===1&&o[f+3][h]===1&&o[f+4][h]===1&&o[f+5][h]===0&&o[f+6][h]===1&&(Ct.isWhiteVertical(o,h,f-4,f)||Ct.isWhiteVertical(o,h,f+7,f+11))&&s++}return s*Ct.N3}static isWhiteHorizontal(r,s,o){s=Math.max(s,0),o=Math.min(o,r.length);for(let c=s;c<o;c++)if(r[c]===1)return!1;return!0}static isWhiteVertical(r,s,o,c){o=Math.max(o,0),c=Math.min(c,r.length);for(let u=o;u<c;u++)if(r[u][s]===1)return!1;return!0}static applyMaskPenaltyRule4(r){let s=0;const o=r.getArray(),c=r.getWidth(),u=r.getHeight();for(let x=0;x<u;x++){const w=o[x];for(let E=0;E<c;E++)w[E]===1&&s++}const f=r.getHeight()*r.getWidth();return Math.floor(Math.abs(s*2-f)*10/f)*Ct.N4}static getDataMaskBit(r,s,o){let c,u;switch(r){case 0:c=o+s&1;break;case 1:c=o&1;break;case 2:c=s%3;break;case 3:c=(o+s)%3;break;case 4:c=Math.floor(o/2)+Math.floor(s/3)&1;break;case 5:u=o*s,c=(u&1)+u%3;break;case 6:u=o*s,c=(u&1)+u%3&1;break;case 7:u=o*s,c=u%3+(o+s&1)&1;break;default:throw new v("Invalid mask pattern: "+r)}return c===0}static applyMaskPenaltyRule1Internal(r,s){let o=0;const c=s?r.getHeight():r.getWidth(),u=s?r.getWidth():r.getHeight(),f=r.getArray();for(let h=0;h<c;h++){let x=0,w=-1;for(let E=0;E<u;E++){const T=s?f[h][E]:f[E][h];T===w?x++:(x>=5&&(o+=Ct.N1+(x-5)),x=1,w=T)}x>=5&&(o+=Ct.N1+(x-5))}return o}}Ct.N1=3,Ct.N2=3,Ct.N3=40,Ct.N4=10;class qa{constructor(r,s){this.width=r,this.height=s;const o=new Array(s);for(let c=0;c!==s;c++)o[c]=new Uint8Array(r);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(r,s){return this.bytes[s][r]}getArray(){return this.bytes}setNumber(r,s,o){this.bytes[s][r]=o}setBoolean(r,s,o){this.bytes[s][r]=o?1:0}clear(r){for(const s of this.bytes)S.fill(s,r)}equals(r){if(!(r instanceof qa))return!1;const s=r;if(this.width!==s.width||this.height!==s.height)return!1;for(let o=0,c=this.height;o<c;++o){const u=this.bytes[o],f=s.bytes[o];for(let h=0,x=this.width;h<x;++h)if(u[h]!==f[h])return!1}return!0}toString(){const r=new me;for(let s=0,o=this.height;s<o;++s){const c=this.bytes[s];for(let u=0,f=this.width;u<f;++u)switch(c[u]){case 0:r.append(" 0");break;case 1:r.append(" 1");break;default:r.append("  ");break}r.append(`
`)}return r.toString()}}class Bi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const r=new me;return r.append(`<<
`),r.append(" mode: "),r.append(this.mode?this.mode.toString():"null"),r.append(`
 ecLevel: `),r.append(this.ecLevel?this.ecLevel.toString():"null"),r.append(`
 version: `),r.append(this.version?this.version.toString():"null"),r.append(`
 maskPattern: `),r.append(this.maskPattern.toString()),this.matrix?(r.append(`
 matrix:
`),r.append(this.matrix.toString())):r.append(`
 matrix: null
`),r.append(`>>
`),r.toString()}setMode(r){this.mode=r}setECLevel(r){this.ecLevel=r}setVersion(r){this.version=r}setMaskPattern(r){this.maskPattern=r}setMatrix(r){this.matrix=r}static isValidMaskPattern(r){return r>=0&&r<Bi.NUM_MASK_PATTERNS}}Bi.NUM_MASK_PATTERNS=8;class Ze extends g{}Ze.kind="WriterException";class Ee{constructor(){}static clearMatrix(r){r.clear(255)}static buildMatrix(r,s,o,c,u){Ee.clearMatrix(u),Ee.embedBasicPatterns(o,u),Ee.embedTypeInfo(s,c,u),Ee.maybeEmbedVersionInfo(o,u),Ee.embedDataBits(r,c,u)}static embedBasicPatterns(r,s){Ee.embedPositionDetectionPatternsAndSeparators(s),Ee.embedDarkDotAtLeftBottomCorner(s),Ee.maybeEmbedPositionAdjustmentPatterns(r,s),Ee.embedTimingPatterns(s)}static embedTypeInfo(r,s,o){const c=new L;Ee.makeTypeInfoBits(r,s,c);for(let u=0,f=c.getSize();u<f;++u){const h=c.get(c.getSize()-1-u),x=Ee.TYPE_INFO_COORDINATES[u],w=x[0],E=x[1];if(o.setBoolean(w,E,h),u<8){const T=o.getWidth()-u-1;o.setBoolean(T,8,h)}else{const O=o.getHeight()-7+(u-8);o.setBoolean(8,O,h)}}}static maybeEmbedVersionInfo(r,s){if(r.getVersionNumber()<7)return;const o=new L;Ee.makeVersionInfoBits(r,o);let c=6*3-1;for(let u=0;u<6;++u)for(let f=0;f<3;++f){const h=o.get(c);c--,s.setBoolean(u,s.getHeight()-11+f,h),s.setBoolean(s.getHeight()-11+f,u,h)}}static embedDataBits(r,s,o){let c=0,u=-1,f=o.getWidth()-1,h=o.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);h>=0&&h<o.getHeight();){for(let x=0;x<2;++x){const w=f-x;if(!Ee.isEmpty(o.get(w,h)))continue;let E;c<r.getSize()?(E=r.get(c),++c):E=!1,s!==255&&Ct.getDataMaskBit(s,w,h)&&(E=!E),o.setBoolean(w,h,E)}h+=u}u=-u,h+=u,f-=2}if(c!==r.getSize())throw new Ze("Not all bits consumed: "+c+"/"+r.getSize())}static findMSBSet(r){return 32-I.numberOfLeadingZeros(r)}static calculateBCHCode(r,s){if(s===0)throw new v("0 polynomial");const o=Ee.findMSBSet(s);for(r<<=o-1;Ee.findMSBSet(r)>=o;)r^=s<<Ee.findMSBSet(r)-o;return r}static makeTypeInfoBits(r,s,o){if(!Bi.isValidMaskPattern(s))throw new Ze("Invalid mask pattern");const c=r.getBits()<<3|s;o.appendBits(c,5);const u=Ee.calculateBCHCode(c,Ee.TYPE_INFO_POLY);o.appendBits(u,10);const f=new L;if(f.appendBits(Ee.TYPE_INFO_MASK_PATTERN,15),o.xor(f),o.getSize()!==15)throw new Ze("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(r,s){s.appendBits(r.getVersionNumber(),6);const o=Ee.calculateBCHCode(r.getVersionNumber(),Ee.VERSION_INFO_POLY);if(s.appendBits(o,12),s.getSize()!==18)throw new Ze("should not happen but we got: "+s.getSize())}static isEmpty(r){return r===255}static embedTimingPatterns(r){for(let s=8;s<r.getWidth()-8;++s){const o=(s+1)%2;Ee.isEmpty(r.get(s,6))&&r.setNumber(s,6,o),Ee.isEmpty(r.get(6,s))&&r.setNumber(6,s,o)}}static embedDarkDotAtLeftBottomCorner(r){if(r.get(8,r.getHeight()-8)===0)throw new Ze;r.setNumber(8,r.getHeight()-8,1)}static embedHorizontalSeparationPattern(r,s,o){for(let c=0;c<8;++c){if(!Ee.isEmpty(o.get(r+c,s)))throw new Ze;o.setNumber(r+c,s,0)}}static embedVerticalSeparationPattern(r,s,o){for(let c=0;c<7;++c){if(!Ee.isEmpty(o.get(r,s+c)))throw new Ze;o.setNumber(r,s+c,0)}}static embedPositionAdjustmentPattern(r,s,o){for(let c=0;c<5;++c){const u=Ee.POSITION_ADJUSTMENT_PATTERN[c];for(let f=0;f<5;++f)o.setNumber(r+f,s+c,u[f])}}static embedPositionDetectionPattern(r,s,o){for(let c=0;c<7;++c){const u=Ee.POSITION_DETECTION_PATTERN[c];for(let f=0;f<7;++f)o.setNumber(r+f,s+c,u[f])}}static embedPositionDetectionPatternsAndSeparators(r){const s=Ee.POSITION_DETECTION_PATTERN[0].length;Ee.embedPositionDetectionPattern(0,0,r),Ee.embedPositionDetectionPattern(r.getWidth()-s,0,r),Ee.embedPositionDetectionPattern(0,r.getWidth()-s,r);const o=8;Ee.embedHorizontalSeparationPattern(0,o-1,r),Ee.embedHorizontalSeparationPattern(r.getWidth()-o,o-1,r),Ee.embedHorizontalSeparationPattern(0,r.getWidth()-o,r);const c=7;Ee.embedVerticalSeparationPattern(c,0,r),Ee.embedVerticalSeparationPattern(r.getHeight()-c-1,0,r),Ee.embedVerticalSeparationPattern(c,r.getHeight()-c,r)}static maybeEmbedPositionAdjustmentPatterns(r,s){if(r.getVersionNumber()<2)return;const o=r.getVersionNumber()-1,c=Ee.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let u=0,f=c.length;u!==f;u++){const h=c[u];if(h>=0)for(let x=0;x!==f;x++){const w=c[x];w>=0&&Ee.isEmpty(s.get(w,h))&&Ee.embedPositionAdjustmentPattern(w-2,h-2,s)}}}}Ee.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ee.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ee.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ee.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ee.VERSION_INFO_POLY=7973,Ee.TYPE_INFO_POLY=1335,Ee.TYPE_INFO_MASK_PATTERN=21522;class p2{constructor(r,s){this.dataBytes=r,this.errorCorrectionBytes=s}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class rt{constructor(){}static calculateMaskPenalty(r){return Ct.applyMaskPenaltyRule1(r)+Ct.applyMaskPenaltyRule2(r)+Ct.applyMaskPenaltyRule3(r)+Ct.applyMaskPenaltyRule4(r)}static encode(r,s,o=null){let c=rt.DEFAULT_BYTE_MODE_ENCODING;const u=o!==null&&o.get(Rt.CHARACTER_SET)!==void 0;u&&(c=o.get(Rt.CHARACTER_SET).toString());const f=this.chooseMode(r,c),h=new L;if(f===we.BYTE&&(u||rt.DEFAULT_BYTE_MODE_ENCODING!==c)){const re=z.getCharacterSetECIByName(c);re!==void 0&&this.appendECI(re,h)}this.appendModeInfo(f,h);const x=new L;this.appendBytes(r,f,x,c);let w;if(o!==null&&o.get(Rt.QR_VERSION)!==void 0){const re=Number.parseInt(o.get(Rt.QR_VERSION).toString(),10);w=xe.getVersionForNumber(re);const J=this.calculateBitsNeeded(f,h,x,w);if(!this.willFit(J,w,s))throw new Ze("Data too big for requested version")}else w=this.recommendVersion(s,f,h,x);const E=new L;E.appendBitArray(h);const T=f===we.BYTE?x.getSizeInBytes():r.length;this.appendLengthInfo(T,w,f,E),E.appendBitArray(x);const O=w.getECBlocksForLevel(s),P=w.getTotalCodewords()-O.getTotalECCodewords();this.terminateBits(P,E);const F=this.interleaveWithECBytes(E,w.getTotalCodewords(),P,O.getNumBlocks()),j=new Bi;j.setECLevel(s),j.setMode(f),j.setVersion(w);const H=w.getDimensionForVersion(),X=new qa(H,H),ne=this.chooseMaskPattern(F,s,w,X);return j.setMaskPattern(ne),Ee.buildMatrix(F,s,w,ne,X),j.setMatrix(X),j}static recommendVersion(r,s,o,c){const u=this.calculateBitsNeeded(s,o,c,xe.getVersionForNumber(1)),f=this.chooseVersion(u,r),h=this.calculateBitsNeeded(s,o,c,f);return this.chooseVersion(h,r)}static calculateBitsNeeded(r,s,o,c){return s.getSize()+r.getCharacterCountBits(c)+o.getSize()}static getAlphanumericCode(r){return r<rt.ALPHANUMERIC_TABLE.length?rt.ALPHANUMERIC_TABLE[r]:-1}static chooseMode(r,s=null){if(z.SJIS.getName()===s&&this.isOnlyDoubleByteKanji(r))return we.KANJI;let o=!1,c=!1;for(let u=0,f=r.length;u<f;++u){const h=r.charAt(u);if(rt.isDigit(h))o=!0;else if(this.getAlphanumericCode(h.charCodeAt(0))!==-1)c=!0;else return we.BYTE}return c?we.ALPHANUMERIC:o?we.NUMERIC:we.BYTE}static isOnlyDoubleByteKanji(r){let s;try{s=oe.encode(r,z.SJIS)}catch{return!1}const o=s.length;if(o%2!==0)return!1;for(let c=0;c<o;c+=2){const u=s[c]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(r,s,o,c){let u=Number.MAX_SAFE_INTEGER,f=-1;for(let h=0;h<Bi.NUM_MASK_PATTERNS;h++){Ee.buildMatrix(r,s,o,h,c);let x=this.calculateMaskPenalty(c);x<u&&(u=x,f=h)}return f}static chooseVersion(r,s){for(let o=1;o<=40;o++){const c=xe.getVersionForNumber(o);if(rt.willFit(r,c,s))return c}throw new Ze("Data too big")}static willFit(r,s,o){const c=s.getTotalCodewords(),f=s.getECBlocksForLevel(o).getTotalECCodewords(),h=c-f,x=(r+7)/8;return h>=x}static terminateBits(r,s){const o=r*8;if(s.getSize()>o)throw new Ze("data bits cannot fit in the QR Code"+s.getSize()+" > "+o);for(let f=0;f<4&&s.getSize()<o;++f)s.appendBit(!1);const c=s.getSize()&7;if(c>0)for(let f=c;f<8;f++)s.appendBit(!1);const u=r-s.getSizeInBytes();for(let f=0;f<u;++f)s.appendBits(f&1?17:236,8);if(s.getSize()!==o)throw new Ze("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(r,s,o,c,u,f){if(c>=o)throw new Ze("Block ID too large");const h=r%o,x=o-h,w=Math.floor(r/o),E=w+1,T=Math.floor(s/o),O=T+1,P=w-T,F=E-O;if(P!==F)throw new Ze("EC bytes mismatch");if(o!==x+h)throw new Ze("RS blocks mismatch");if(r!==(T+P)*x+(O+F)*h)throw new Ze("Total bytes mismatch");c<x?(u[0]=T,f[0]=P):(u[0]=O,f[0]=F)}static interleaveWithECBytes(r,s,o,c){if(r.getSizeInBytes()!==o)throw new Ze("Number of bits and data bytes does not match");let u=0,f=0,h=0;const x=new Array;for(let E=0;E<c;++E){const T=new Int32Array(1),O=new Int32Array(1);rt.getNumDataBytesAndNumECBytesForBlockID(s,o,c,E,T,O);const P=T[0],F=new Uint8Array(P);r.toBytes(8*u,F,0,P);const j=rt.generateECBytes(F,O[0]);x.push(new p2(F,j)),f=Math.max(f,P),h=Math.max(h,j.length),u+=T[0]}if(o!==u)throw new Ze("Data bytes does not match offset");const w=new L;for(let E=0;E<f;++E)for(const T of x){const O=T.getDataBytes();E<O.length&&w.appendBits(O[E],8)}for(let E=0;E<h;++E)for(const T of x){const O=T.getErrorCorrectionBytes();E<O.length&&w.appendBits(O[E],8)}if(s!==w.getSizeInBytes())throw new Ze("Interleaving error: "+s+" and "+w.getSizeInBytes()+" differ.");return w}static generateECBytes(r,s){const o=r.length,c=new Int32Array(o+s);for(let f=0;f<o;f++)c[f]=r[f]&255;new mu(ze.QR_CODE_FIELD_256).encode(c,s);const u=new Uint8Array(s);for(let f=0;f<s;f++)u[f]=c[o+f];return u}static appendModeInfo(r,s){s.appendBits(r.getBits(),4)}static appendLengthInfo(r,s,o,c){const u=o.getCharacterCountBits(s);if(r>=1<<u)throw new Ze(r+" is bigger than "+((1<<u)-1));c.appendBits(r,u)}static appendBytes(r,s,o,c){switch(s){case we.NUMERIC:rt.appendNumericBytes(r,o);break;case we.ALPHANUMERIC:rt.appendAlphanumericBytes(r,o);break;case we.BYTE:rt.append8BitBytes(r,o,c);break;case we.KANJI:rt.appendKanjiBytes(r,o);break;default:throw new Ze("Invalid mode: "+s)}}static getDigit(r){return r.charCodeAt(0)-48}static isDigit(r){const s=rt.getDigit(r);return s>=0&&s<=9}static appendNumericBytes(r,s){const o=r.length;let c=0;for(;c<o;){const u=rt.getDigit(r.charAt(c));if(c+2<o){const f=rt.getDigit(r.charAt(c+1)),h=rt.getDigit(r.charAt(c+2));s.appendBits(u*100+f*10+h,10),c+=3}else if(c+1<o){const f=rt.getDigit(r.charAt(c+1));s.appendBits(u*10+f,7),c+=2}else s.appendBits(u,4),c++}}static appendAlphanumericBytes(r,s){const o=r.length;let c=0;for(;c<o;){const u=rt.getAlphanumericCode(r.charCodeAt(c));if(u===-1)throw new Ze;if(c+1<o){const f=rt.getAlphanumericCode(r.charCodeAt(c+1));if(f===-1)throw new Ze;s.appendBits(u*45+f,11),c+=2}else s.appendBits(u,6),c++}}static append8BitBytes(r,s,o){let c;try{c=oe.encode(r,o)}catch(u){throw new Ze(u)}for(let u=0,f=c.length;u!==f;u++){const h=c[u];s.appendBits(h,8)}}static appendKanjiBytes(r,s){let o;try{o=oe.encode(r,z.SJIS)}catch(u){throw new Ze(u)}const c=o.length;for(let u=0;u<c;u+=2){const f=o[u]&255,h=o[u+1]&255,x=f<<8&4294967295|h;let w=-1;if(x>=33088&&x<=40956?w=x-33088:x>=57408&&x<=60351&&(w=x-49472),w===-1)throw new Ze("Invalid byte sequence");const E=(w>>8)*192+(w&255);s.appendBits(E,13)}}static appendECI(r,s){s.appendBits(we.ECI.getBits(),4),s.appendBits(r.getValue(),8)}}rt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),rt.DEFAULT_BYTE_MODE_ENCODING=z.UTF8.getName();class Fi{write(r,s,o,c=null){if(r.length===0)throw new v("Found empty contents");if(s<0||o<0)throw new v("Requested dimensions are too small: "+s+"x"+o);let u=tt.L,f=Fi.QUIET_ZONE_SIZE;c!==null&&(c.get(Rt.ERROR_CORRECTION)!==void 0&&(u=tt.fromString(c.get(Rt.ERROR_CORRECTION).toString())),c.get(Rt.MARGIN)!==void 0&&(f=Number.parseInt(c.get(Rt.MARGIN).toString(),10)));const h=rt.encode(r,u,c);return this.renderResult(h,s,o,f)}writeToDom(r,s,o,c,u=null){typeof r=="string"&&(r=document.querySelector(r));const f=this.write(s,o,c,u);r&&r.appendChild(f)}renderResult(r,s,o,c){const u=r.getMatrix();if(u===null)throw new or;const f=u.getWidth(),h=u.getHeight(),x=f+c*2,w=h+c*2,E=Math.max(s,x),T=Math.max(o,w),O=Math.min(Math.floor(E/x),Math.floor(T/w)),P=Math.floor((E-f*O)/2),F=Math.floor((T-h*O)/2),j=this.createSVGElement(E,T);for(let H=0,X=F;H<h;H++,X+=O)for(let ne=0,re=P;ne<f;ne++,re+=O)if(u.get(ne,H)===1){const J=this.createSvgRectElement(re,X,O,O);j.appendChild(J)}return j}createSVGElement(r,s){const o=document.createElementNS(Fi.SVG_NS,"svg");return o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",s.toString()),o}createSvgRectElement(r,s,o,c){const u=document.createElementNS(Fi.SVG_NS,"rect");return u.setAttributeNS(null,"x",r.toString()),u.setAttributeNS(null,"y",s.toString()),u.setAttributeNS(null,"height",o.toString()),u.setAttributeNS(null,"width",c.toString()),u.setAttributeNS(null,"fill","#000000"),u}}Fi.QUIET_ZONE_SIZE=4,Fi.SVG_NS="http://www.w3.org/2000/svg";class xs{encode(r,s,o,c,u){if(r.length===0)throw new v("Found empty contents");if(s!==Z.QR_CODE)throw new v("Can only encode QR_CODE, but got "+s);if(o<0||c<0)throw new v(`Requested dimensions are too small: ${o}x${c}`);let f=tt.L,h=xs.QUIET_ZONE_SIZE;u!==null&&(u.get(Rt.ERROR_CORRECTION)!==void 0&&(f=tt.fromString(u.get(Rt.ERROR_CORRECTION).toString())),u.get(Rt.MARGIN)!==void 0&&(h=Number.parseInt(u.get(Rt.MARGIN).toString(),10)));const x=rt.encode(r,f,u);return xs.renderResult(x,o,c,h)}static renderResult(r,s,o,c){const u=r.getMatrix();if(u===null)throw new or;const f=u.getWidth(),h=u.getHeight(),x=f+c*2,w=h+c*2,E=Math.max(s,x),T=Math.max(o,w),O=Math.min(Math.floor(E/x),Math.floor(T/w)),P=Math.floor((E-f*O)/2),F=Math.floor((T-h*O)/2),j=new he(E,T);for(let H=0,X=F;H<h;H++,X+=O)for(let ne=0,re=P;ne<f;ne++,re+=O)u.get(ne,H)===1&&j.setRegion(re,X,O,O);return j}}xs.QUIET_ZONE_SIZE=4;class m2{encode(r,s,o,c,u){let f;switch(s){case Z.QR_CODE:f=new xs;break;default:throw new v("No encoder available for format "+s)}return f.encode(r,s,o,c,u)}}class ur extends ee{constructor(r,s,o,c,u,f,h,x){if(super(f,h),this.yuvData=r,this.dataWidth=s,this.dataHeight=o,this.left=c,this.top=u,c+f>s||u+h>o)throw new v("Crop rectangle does not fit within image data.");x&&this.reverseHorizontal(f,h)}getRow(r,s){if(r<0||r>=this.getHeight())throw new v("Requested row is outside the image: "+r);const o=this.getWidth();(s==null||s.length<o)&&(s=new Uint8ClampedArray(o));const c=(r+this.top)*this.dataWidth+this.left;return M.arraycopy(this.yuvData,c,s,0,o),s}getMatrix(){const r=this.getWidth(),s=this.getHeight();if(r===this.dataWidth&&s===this.dataHeight)return this.yuvData;const o=r*s,c=new Uint8ClampedArray(o);let u=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return M.arraycopy(this.yuvData,u,c,0,o),c;for(let f=0;f<s;f++){const h=f*r;M.arraycopy(this.yuvData,u,c,h,r),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(r,s,o,c){return new ur(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+s,o,c,!1)}renderThumbnail(){const r=this.getWidth()/ur.THUMBNAIL_SCALE_FACTOR,s=this.getHeight()/ur.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(r*s),c=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let f=0;f<s;f++){const h=f*r;for(let x=0;x<r;x++){const w=c[u+x*ur.THUMBNAIL_SCALE_FACTOR]&255;o[h+x]=4278190080|w*65793}u+=this.dataWidth*ur.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/ur.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/ur.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(r,s){const o=this.yuvData;for(let c=0,u=this.top*this.dataWidth+this.left;c<s;c++,u+=this.dataWidth){const f=u+r/2;for(let h=u,x=u+r-1;h<f;h++,x--){const w=o[h];o[h]=o[x],o[x]=w}}}invert(){return new ae(this)}}ur.THUMBNAIL_SCALE_FACTOR=2;class xu extends ee{constructor(r,s,o,c,u,f,h){if(super(s,o),this.dataWidth=c,this.dataHeight=u,this.left=f,this.top=h,r.BYTES_PER_ELEMENT===4){const x=s*o,w=new Uint8ClampedArray(x);for(let E=0;E<x;E++){const T=r[E],O=T>>16&255,P=T>>7&510,F=T&255;w[E]=(O+P+F)/4&255}this.luminances=w}else this.luminances=r;if(c===void 0&&(this.dataWidth=s),u===void 0&&(this.dataHeight=o),f===void 0&&(this.left=0),h===void 0&&(this.top=0),this.left+s>this.dataWidth||this.top+o>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(r,s){if(r<0||r>=this.getHeight())throw new v("Requested row is outside the image: "+r);const o=this.getWidth();(s==null||s.length<o)&&(s=new Uint8ClampedArray(o));const c=(r+this.top)*this.dataWidth+this.left;return M.arraycopy(this.luminances,c,s,0,o),s}getMatrix(){const r=this.getWidth(),s=this.getHeight();if(r===this.dataWidth&&s===this.dataHeight)return this.luminances;const o=r*s,c=new Uint8ClampedArray(o);let u=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return M.arraycopy(this.luminances,u,c,0,o),c;for(let f=0;f<s;f++){const h=f*r;M.arraycopy(this.luminances,u,c,h,r),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(r,s,o,c){return new xu(this.luminances,o,c,this.dataWidth,this.dataHeight,this.left+r,this.top+s)}invert(){return new ae(this)}}class u0 extends z{static forName(r){return this.getCharacterSetECIByName(r)}}class yu{}yu.ISO_8859_1=z.ISO8859_1;class f0{isCompact(){return this.compact}setCompact(r){this.compact=r}getSize(){return this.size}setSize(r){this.size=r}getLayers(){return this.layers}setLayers(r){this.layers=r}getCodeWords(){return this.codeWords}setCodeWords(r){this.codeWords=r}getMatrix(){return this.matrix}setMatrix(r){this.matrix=r}}class d0{static singletonList(r){return[r]}static min(r,s){return r.sort(s)[0]}}class x2{constructor(r){this.previous=r}getPrevious(){return this.previous}}class ys extends x2{constructor(r,s,o){super(r),this.value=s,this.bitCount=o}appendTo(r,s){r.appendBits(this.value,this.bitCount)}add(r,s){return new ys(this,r,s)}addBinaryShift(r,s){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ys(this,r,s)}toString(){let r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+I.toBinaryString(r|1<<this.bitCount).substring(1)+">"}}class wu extends ys{constructor(r,s,o){super(r,0,0),this.binaryShiftStart=s,this.binaryShiftByteCount=o}appendTo(r,s){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):o===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(s[this.binaryShiftStart+o],8)}addBinaryShift(r,s){return new wu(this,r,s)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function y2(N,r,s){return new wu(N,r,s)}function Co(N,r,s){return new ys(N,r,s)}const w2=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],$r=0,$a=1,Fn=2,h0=3,fr=4,v2=new ys(null,0,0),vu=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function C2(N){for(let r of N)S.fill(r,-1);return N[$r][fr]=0,N[$a][fr]=0,N[$a][$r]=28,N[h0][fr]=0,N[Fn][fr]=0,N[Fn][$r]=15,N}const g0=C2(S.createInt32Array(6,6));class dr{constructor(r,s,o,c){this.token=r,this.mode=s,this.binaryShiftByteCount=o,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(r,s){let o=this.bitCount,c=this.token;if(r!==this.mode){let f=vu[this.mode][r];c=Co(c,f&65535,f>>16),o+=f>>16}let u=r===Fn?4:5;return c=Co(c,s,u),new dr(c,r,0,o+u)}shiftAndAppend(r,s){let o=this.token,c=this.mode===Fn?4:5;return o=Co(o,g0[this.mode][r],c),o=Co(o,s,5),new dr(o,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(r){let s=this.token,o=this.mode,c=this.bitCount;if(this.mode===fr||this.mode===Fn){let h=vu[o][$r];s=Co(s,h&65535,h>>16),c+=h>>16,o=$r}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new dr(s,o,this.binaryShiftByteCount+1,c+u);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(r+1)),f}endBinaryShift(r){if(this.binaryShiftByteCount===0)return this;let s=this.token;return s=y2(s,r-this.binaryShiftByteCount,this.binaryShiftByteCount),new dr(s,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(r){let s=this.bitCount+(vu[this.mode][r.mode]>>16);return this.binaryShiftByteCount<r.binaryShiftByteCount?s+=dr.calculateBinaryShiftCost(r)-dr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>r.binaryShiftByteCount&&r.binaryShiftByteCount>0&&(s+=10),s<=r.bitCount}toBitArray(r){let s=[];for(let c=this.endBinaryShift(r.length).token;c!==null;c=c.getPrevious())s.unshift(c);let o=new L;for(const c of s)c.appendTo(o,r);return o}toString(){return $.format("%s bits=%d bytes=%d",w2[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(r){return r.binaryShiftByteCount>62?21:r.binaryShiftByteCount>31?20:r.binaryShiftByteCount>0?10:0}}dr.INITIAL_STATE=new dr(v2,$r,0,0);function E2(N){const r=$.getCharCode(" "),s=$.getCharCode("."),o=$.getCharCode(",");N[$r][r]=1;const c=$.getCharCode("Z"),u=$.getCharCode("A");for(let O=u;O<=c;O++)N[$r][O]=O-u+2;N[$a][r]=1;const f=$.getCharCode("z"),h=$.getCharCode("a");for(let O=h;O<=f;O++)N[$a][O]=O-h+2;N[Fn][r]=1;const x=$.getCharCode("9"),w=$.getCharCode("0");for(let O=w;O<=x;O++)N[Fn][O]=O-w+2;N[Fn][o]=12,N[Fn][s]=13;const E=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let O=0;O<E.length;O++)N[h0][$.getCharCode(E[O])]=O;const T=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let O=0;O<T.length;O++)$.getCharCode(T[O])>0&&(N[fr][$.getCharCode(T[O])]=O);return N}const Cu=E2(S.createInt32Array(5,256));class Eo{constructor(r){this.text=r}encode(){const r=$.getCharCode(" "),s=$.getCharCode(`
`);let o=d0.singletonList(dr.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let f,h=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case $.getCharCode("\r"):f=h===s?2:0;break;case $.getCharCode("."):f=h===r?3:0;break;case $.getCharCode(","):f=h===r?4:0;break;case $.getCharCode(":"):f=h===r?5:0;break;default:f=0}f>0?(o=Eo.updateStateListForPair(o,u,f),u++):o=this.updateStateListForChar(o,u)}return d0.min(o,(u,f)=>u.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(r,s){const o=[];for(let c of r)this.updateStateForChar(c,s,o);return Eo.simplifyStates(o)}updateStateForChar(r,s,o){let c=this.text[s]&255,u=Cu[r.getMode()][c]>0,f=null;for(let h=0;h<=fr;h++){let x=Cu[h][c];if(x>0){if(f==null&&(f=r.endBinaryShift(s)),!u||h===r.getMode()||h===Fn){const w=f.latchAndAppend(h,x);o.push(w)}if(!u&&g0[r.getMode()][h]>=0){const w=f.shiftAndAppend(h,x);o.push(w)}}}if(r.getBinaryShiftByteCount()>0||Cu[r.getMode()][c]===0){let h=r.addBinaryShiftChar(s);o.push(h)}}static updateStateListForPair(r,s,o){const c=[];for(let u of r)this.updateStateForPair(u,s,o,c);return this.simplifyStates(c)}static updateStateForPair(r,s,o,c){let u=r.endBinaryShift(s);if(c.push(u.latchAndAppend(fr,o)),r.getMode()!==fr&&c.push(u.shiftAndAppend(fr,o)),o===3||o===4){let f=u.latchAndAppend(Fn,16-o).latchAndAppend(Fn,1);c.push(f)}if(r.getBinaryShiftByteCount()>0){let f=r.addBinaryShiftChar(s).addBinaryShiftChar(s+1);c.push(f)}}static simplifyStates(r){let s=[];for(const o of r){let c=!0;for(const u of s){if(u.isBetterThanOrEqualTo(o)){c=!1;break}o.isBetterThanOrEqualTo(u)&&(s=s.filter(f=>f!==u))}c&&s.push(o)}return s}}class je{constructor(){}static encodeBytes(r){return je.encode(r,je.DEFAULT_EC_PERCENT,je.DEFAULT_AZTEC_LAYERS)}static encode(r,s,o){let c=new Eo(r).encode(),u=I.truncDivision(c.getSize()*s,100)+11,f=c.getSize()+u,h,x,w,E,T;if(o!==je.DEFAULT_AZTEC_LAYERS){if(h=o<0,x=Math.abs(o),x>(h?je.MAX_NB_BITS_COMPACT:je.MAX_NB_BITS))throw new v($.format("Illegal value %s for layers",o));w=je.totalBitsInLayer(x,h),E=je.WORD_SIZE[x];let J=w-w%E;if(T=je.stuffBits(c,E),T.getSize()+u>J)throw new v("Data to large for user specified layer");if(h&&T.getSize()>E*64)throw new v("Data to large for user specified layer")}else{E=0,T=null;for(let J=0;;J++){if(J>je.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(h=J<=3,x=h?J+1:J,w=je.totalBitsInLayer(x,h),f>w)continue;(T==null||E!==je.WORD_SIZE[x])&&(E=je.WORD_SIZE[x],T=je.stuffBits(c,E));let Le=w-w%E;if(!(h&&T.getSize()>E*64)&&T.getSize()+u<=Le)break}}let O=je.generateCheckWords(T,w,E),P=T.getSize()/E,F=je.generateModeMessage(h,x,P),j=(h?11:14)+x*4,H=new Int32Array(j),X;if(h){X=j;for(let J=0;J<H.length;J++)H[J]=J}else{X=j+1+2*I.truncDivision(I.truncDivision(j,2)-1,15);let J=I.truncDivision(j,2),Le=I.truncDivision(X,2);for(let Ne=0;Ne<J;Ne++){let mn=Ne+I.truncDivision(Ne,15);H[J-Ne-1]=Le-mn-1,H[J+Ne]=Le+mn+1}}let ne=new he(X);for(let J=0,Le=0;J<x;J++){let Ne=(x-J)*4+(h?9:12);for(let mn=0;mn<Ne;mn++){let Qn=mn*2;for(let xn=0;xn<2;xn++)O.get(Le+Qn+xn)&&ne.set(H[J*2+xn],H[J*2+mn]),O.get(Le+Ne*2+Qn+xn)&&ne.set(H[J*2+mn],H[j-1-J*2-xn]),O.get(Le+Ne*4+Qn+xn)&&ne.set(H[j-1-J*2-xn],H[j-1-J*2-mn]),O.get(Le+Ne*6+Qn+xn)&&ne.set(H[j-1-J*2-mn],H[J*2+xn])}Le+=Ne*8}if(je.drawModeMessage(ne,h,X,F),h)je.drawBullsEye(ne,I.truncDivision(X,2),5);else{je.drawBullsEye(ne,I.truncDivision(X,2),7);for(let J=0,Le=0;J<I.truncDivision(j,2)-1;J+=15,Le+=16)for(let Ne=I.truncDivision(X,2)&1;Ne<X;Ne+=2)ne.set(I.truncDivision(X,2)-Le,Ne),ne.set(I.truncDivision(X,2)+Le,Ne),ne.set(Ne,I.truncDivision(X,2)-Le),ne.set(Ne,I.truncDivision(X,2)+Le)}let re=new f0;return re.setCompact(h),re.setSize(X),re.setLayers(x),re.setCodeWords(P),re.setMatrix(ne),re}static drawBullsEye(r,s,o){for(let c=0;c<o;c+=2)for(let u=s-c;u<=s+c;u++)r.set(u,s-c),r.set(u,s+c),r.set(s-c,u),r.set(s+c,u);r.set(s-o,s-o),r.set(s-o+1,s-o),r.set(s-o,s-o+1),r.set(s+o,s-o),r.set(s+o,s-o+1),r.set(s+o,s+o-1)}static generateModeMessage(r,s,o){let c=new L;return r?(c.appendBits(s-1,2),c.appendBits(o-1,6),c=je.generateCheckWords(c,28,4)):(c.appendBits(s-1,5),c.appendBits(o-1,11),c=je.generateCheckWords(c,40,4)),c}static drawModeMessage(r,s,o,c){let u=I.truncDivision(o,2);if(s)for(let f=0;f<7;f++){let h=u-3+f;c.get(f)&&r.set(h,u-5),c.get(f+7)&&r.set(u+5,h),c.get(20-f)&&r.set(h,u+5),c.get(27-f)&&r.set(u-5,h)}else for(let f=0;f<10;f++){let h=u-5+f+I.truncDivision(f,5);c.get(f)&&r.set(h,u-7),c.get(f+10)&&r.set(u+7,h),c.get(29-f)&&r.set(h,u+7),c.get(39-f)&&r.set(u-7,h)}}static generateCheckWords(r,s,o){let c=r.getSize()/o,u=new mu(je.getGF(o)),f=I.truncDivision(s,o),h=je.bitsToWords(r,o,f);u.encode(h,f-c);let x=s%o,w=new L;w.appendBits(0,x);for(const E of Array.from(h))w.appendBits(E,o);return w}static bitsToWords(r,s,o){let c=new Int32Array(o),u,f;for(u=0,f=r.getSize()/s;u<f;u++){let h=0;for(let x=0;x<s;x++)h|=r.get(u*s+x)?1<<s-x-1:0;c[u]=h}return c}static getGF(r){switch(r){case 4:return ze.AZTEC_PARAM;case 6:return ze.AZTEC_DATA_6;case 8:return ze.AZTEC_DATA_8;case 10:return ze.AZTEC_DATA_10;case 12:return ze.AZTEC_DATA_12;default:throw new v("Unsupported word size "+r)}}static stuffBits(r,s){let o=new L,c=r.getSize(),u=(1<<s)-2;for(let f=0;f<c;f+=s){let h=0;for(let x=0;x<s;x++)(f+x>=c||r.get(f+x))&&(h|=1<<s-1-x);(h&u)===u?(o.appendBits(h&u,s),f--):h&u?o.appendBits(h,s):(o.appendBits(h|1,s),f--)}return o}static totalBitsInLayer(r,s){return((s?88:112)+16*r)*r}}je.DEFAULT_EC_PERCENT=33,je.DEFAULT_AZTEC_LAYERS=0,je.MAX_NB_BITS=32,je.MAX_NB_BITS_COMPACT=4,je.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ja{encode(r,s,o,c){return this.encodeWithHints(r,s,o,c,null)}encodeWithHints(r,s,o,c,u){let f=yu.ISO_8859_1,h=je.DEFAULT_EC_PERCENT,x=je.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(Rt.CHARACTER_SET)&&(f=u0.forName(u.get(Rt.CHARACTER_SET).toString())),u.has(Rt.ERROR_CORRECTION)&&(h=I.parseInt(u.get(Rt.ERROR_CORRECTION).toString())),u.has(Rt.AZTEC_LAYERS)&&(x=I.parseInt(u.get(Rt.AZTEC_LAYERS).toString()))),Ja.encodeLayers(r,s,o,c,f,h,x)}static encodeLayers(r,s,o,c,u,f,h){if(s!==Z.AZTEC)throw new v("Can only encode AZTEC, but got "+s);let x=je.encode($.getBytes(r,u),f,h);return Ja.renderResult(x,o,c)}static renderResult(r,s,o){let c=r.getMatrix();if(c==null)throw new or;let u=c.getWidth(),f=c.getHeight(),h=Math.max(s,u),x=Math.max(o,f),w=Math.min(h/u,x/f),E=(h-u*w)/2,T=(x-f*w)/2,O=new he(h,x);for(let P=0,F=T;P<f;P++,F+=w)for(let j=0,H=E;j<u;j++,H+=w)c.get(j,P)&&O.setRegion(H,F,w,w);return O}}n.AbstractExpandedDecoder=ou,n.ArgumentException=y,n.ArithmeticException=za,n.AztecCode=f0,n.AztecCodeReader=Wa,n.AztecCodeWriter=Ja,n.AztecDecoder=et,n.AztecDetector=qh,n.AztecDetectorResult=Qh,n.AztecEncoder=je,n.AztecHighLevelEncoder=Eo,n.AztecPoint=rn,n.BarcodeFormat=Z,n.Binarizer=R,n.BinaryBitmap=C,n.BitArray=L,n.BitMatrix=he,n.BitSource=uu,n.BrowserAztecCodeReader=Kx,n.BrowserBarcodeReader=Jx,n.BrowserCodeReader=Pt,n.BrowserDatamatrixCodeReader=t2,n.BrowserMultiFormatReader=d2,n.BrowserPDF417Reader=h2,n.BrowserQRCodeReader=g2,n.BrowserQRCodeSvgWriter=Fi,n.CharacterSetECI=z,n.ChecksumException=b,n.Code128Reader=se,n.Code39Reader=Ot,n.DataMatrixDecodedBitStreamParser=Kr,n.DataMatrixReader=Qr,n.DecodeHintType=U,n.DecoderResult=Ge,n.DefaultGridSampler=Zh,n.DetectorResult=Ha,n.EAN13Reader=Di,n.EncodeHintType=Rt,n.Exception=g,n.FormatException=B,n.GenericGF=ze,n.GenericGFPoly=dn,n.GlobalHistogramBinarizer=Ce,n.GridSampler=nu,n.GridSamplerInstance=Yr,n.HTMLCanvasElementLuminanceSource=ge,n.HybridBinarizer=le,n.ITFReader=Qe,n.IllegalArgumentException=v,n.IllegalStateException=or,n.InvertedLuminanceSource=ae,n.LuminanceSource=ee,n.MathUtils=Fe,n.MultiFormatOneDReader=ps,n.MultiFormatReader=c0,n.MultiFormatWriter=m2,n.NotFoundException=G,n.OneDReader=Nt,n.PDF417DecodedBitStreamParser=Y,n.PDF417DecoderErrorCorrection=r0,n.PDF417Reader=Ht,n.PDF417ResultMetadata=s0,n.PerspectiveTransform=Xn,n.PlanarYUVLuminanceSource=ur,n.QRCodeByteMatrix=qa,n.QRCodeDataMask=Pn,n.QRCodeDecodedBitStreamParser=ht,n.QRCodeDecoderErrorCorrectionLevel=tt,n.QRCodeDecoderFormatInformation=Qt,n.QRCodeEncoder=rt,n.QRCodeEncoderQRCode=Bi,n.QRCodeMaskUtil=Ct,n.QRCodeMatrixUtil=Ee,n.QRCodeMode=we,n.QRCodeReader=Zr,n.QRCodeVersion=xe,n.QRCodeWriter=xs,n.RGBLuminanceSource=xu,n.RSS14Reader=vt,n.RSSExpandedReader=q,n.ReaderException=Za,n.ReedSolomonDecoder=ho,n.ReedSolomonEncoder=mu,n.ReedSolomonException=fs,n.Result=Je,n.ResultMetadataType=be,n.ResultPoint=pe,n.StringUtils=$,n.UnsupportedOperationException=ie,n.VideoInputDevice=Me,n.WhiteRectangleDetector=Ar,n.WriterException=Ze,n.ZXingArrays=S,n.ZXingCharset=u0,n.ZXingInteger=I,n.ZXingStandardCharsets=yu,n.ZXingStringBuilder=me,n.ZXingStringEncoding=oe,n.ZXingSystem=M,n.createAbstractExpandedDecoder=t0,Object.defineProperty(n,"__esModule",{value:!0})})})(Ld,Ld.exports);var ot=Ld.exports;const AE=Ag(ot),SE=Eg({__proto__:null,default:AE},[ot]);var J1=function(){function e(t,n,i){if(this.formatMap=new Map([[fe.QR_CODE,ot.BarcodeFormat.QR_CODE],[fe.AZTEC,ot.BarcodeFormat.AZTEC],[fe.CODABAR,ot.BarcodeFormat.CODABAR],[fe.CODE_39,ot.BarcodeFormat.CODE_39],[fe.CODE_93,ot.BarcodeFormat.CODE_93],[fe.CODE_128,ot.BarcodeFormat.CODE_128],[fe.DATA_MATRIX,ot.BarcodeFormat.DATA_MATRIX],[fe.MAXICODE,ot.BarcodeFormat.MAXICODE],[fe.ITF,ot.BarcodeFormat.ITF],[fe.EAN_13,ot.BarcodeFormat.EAN_13],[fe.EAN_8,ot.BarcodeFormat.EAN_8],[fe.PDF_417,ot.BarcodeFormat.PDF_417],[fe.RSS_14,ot.BarcodeFormat.RSS_14],[fe.RSS_EXPANDED,ot.BarcodeFormat.RSS_EXPANDED],[fe.UPC_A,ot.BarcodeFormat.UPC_A],[fe.UPC_E,ot.BarcodeFormat.UPC_E],[fe.UPC_EAN_EXTENSION,ot.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!SE)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=i;var a=this.createZXingFormats(t),l=new Map;l.set(ot.DecodeHintType.POSSIBLE_FORMATS,a),l.set(ot.DecodeHintType.TRY_HARDER,!1),this.hints=l}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(i,a){try{i(n.decode(t))}catch(l){a(l)}})},e.prototype.decode=function(t){var n=new ot.MultiFormatReader(this.verbose,this.hints),i=new ot.HTMLCanvasElementLuminanceSource(t),a=new ot.BinaryBitmap(new ot.HybridBinarizer(i)),l=n.decode(a);return{text:l.text,format:Lx.create(this.toHtml5QrcodeSupportedFormats(l.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,i,a){t.set(n,i)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],i=0,a=t;i<a.length;i++){var l=a[i];this.formatMap.has(l)?n.push(this.formatMap.get(l)):this.logger.logError("".concat(l," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),bE=function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function m(y){try{g(i.next(y))}catch(v){d(v)}}function p(y){try{g(i.throw(y))}catch(v){d(v)}}function g(y){y.done?l(y.value):a(y.value).then(m,p)}g((i=i.apply(e,t||[])).next())})},IE=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(g){return function(y){return p([g,y])}}function p(g){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(i=1,a&&(l=g[0]&2?a.return:g[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,g[1])).done)return l;switch(a=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,a=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(y){g=[6,y],a=0}finally{i=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},eg=function(){function e(t,n,i){if(this.formatMap=new Map([[fe.QR_CODE,"qr_code"],[fe.AZTEC,"aztec"],[fe.CODABAR,"codabar"],[fe.CODE_39,"code_39"],[fe.CODE_93,"code_93"],[fe.CODE_128,"code_128"],[fe.DATA_MATRIX,"data_matrix"],[fe.ITF,"itf"],[fe.EAN_13,"ean_13"],[fe.EAN_8,"ean_8"],[fe.PDF_417,"pdf417"],[fe.UPC_A,"upc_a"],[fe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=i;var a=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(a),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return bE(this,void 0,void 0,function(){var n,i;return IE(this,function(a){switch(a.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=a.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return i=this.selectLargestBarcode(n),[2,{text:i.rawValue,format:Lx.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,i=0,a=0,l=t;a<l.length;a++){var d=l[a],m=d.boundingBox.width*d.boundingBox.height;m>i&&(i=m,n=d)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],i=0,a=t;i<a.length;i++){var l=a[i];this.formatMap.has(l)?n.push(this.formatMap.get(l)):this.logger.warn("".concat(l," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,i,a){t.set(n,i)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),tg=function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function m(y){try{g(i.next(y))}catch(v){d(v)}}function p(y){try{g(i.throw(y))}catch(v){d(v)}}function g(y){y.done?l(y.value):a(y.value).then(m,p)}g((i=i.apply(e,t||[])).next())})},ng=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(g){return function(y){return p([g,y])}}function p(g){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(i=1,a&&(l=g[0]&2?a.return:g[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,g[1])).done)return l;switch(a=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,a=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(y){g=[6,y],a=0}finally{i=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},NE=function(){function e(t,n,i,a){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=i,n&&eg.isSupported()?(this.primaryDecoder=new eg(t,i,a),this.secondaryDecoder=new J1(t,i,a)):this.primaryDecoder=new J1(t,i,a)}return e.prototype.decodeAsync=function(t){return tg(this,void 0,void 0,function(){var n;return ng(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,i.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return tg(this,void 0,void 0,function(){var n,i;return ng(this,function(a){switch(a.label){case 0:n=performance.now(),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,a.sent()];case 3:if(i=a.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw i;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,i=this.executionResults;n<i.length;n++){var a=i[n];t+=a}var l=t/this.executionResults.length;console.log("".concat(l," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Xh=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ic=function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function m(y){try{g(i.next(y))}catch(v){d(v)}}function p(y){try{g(i.throw(y))}catch(v){d(v)}}function g(y){y.done?l(y.value):a(y.value).then(m,p)}g((i=i.apply(e,t||[])).next())})},Nc=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(g){return function(y){return p([g,y])}}function p(g){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(i=1,a&&(l=g[0]&2?a.return:g[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,g[1])).done)return l;switch(a=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,a=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(y){g=[6,y],a=0}finally{i=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},jx=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var i={advanced:[n]};return this.track.applyConstraints(i)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),TE=function(e){Xh(t,e);function t(n,i){return e.call(this,n,i)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var i={};i[this.name]=n;var a={advanced:[i]};return this.track.applyConstraints(a)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),i=n[this.name];return{min:i.min,max:i.max,step:i.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(jx),_E=function(e){Xh(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(TE),OE=function(e){Xh(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(jx),ME=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new _E(this.track)},e.prototype.torchFeature=function(){return new OE(this.track)},e}(),RE=function(){function e(t,n,i){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=i,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var i=t.surface.clientWidth,a=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(i,a),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,i,a){return Ic(this,void 0,void 0,function(){var l,d;return Nc(this,function(m){switch(m.label){case 0:return l=new e(t,n,a),i.aspectRatio?(d={aspectRatio:i.aspectRatio},[4,l.getFirstTrackOrFail().applyConstraints(d)]):[3,2];case 1:m.sent(),m.label=2;case 2:return l.setupSurface(),[2,l]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,i=function(){setTimeout(t,200),n.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Ic(this,void 0,void 0,function(){return Nc(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,i){var a=t.mediaStream.getVideoTracks(),l=a.length,d=0;t.mediaStream.getVideoTracks().forEach(function(m){t.mediaStream.removeTrack(m),m.stop(),++d,d>=l&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new ME(this.getFirstTrackOrFail())},e}(),DE=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,i){return Ic(this,void 0,void 0,function(){return Nc(this,function(a){return[2,RE.create(t,this.mediaStream,n,i)]})})},e.create=function(t){return Ic(this,void 0,void 0,function(){var n,i;return Nc(this,function(a){switch(a.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return i=a.sent(),[2,new e(i)]}})})},e}(),rg=function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function m(y){try{g(i.next(y))}catch(v){d(v)}}function p(y){try{g(i.throw(y))}catch(v){d(v)}}function g(y){y.done?l(y.value):a(y.value).then(m,p)}g((i=i.apply(e,t||[])).next())})},ig=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(g){return function(y){return p([g,y])}}function p(g){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(i=1,a&&(l=g[0]&2?a.return:g[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,g[1])).done)return l;switch(a=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,a=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(y){g=[6,y],a=0}finally{i=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},kE=function(){function e(){}return e.failIfNotSupported=function(){return rg(this,void 0,void 0,function(){return ig(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return rg(this,void 0,void 0,function(){return ig(this,function(n){return[2,DE.create(t)]})})},e}(),LE=function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function m(y){try{g(i.next(y))}catch(v){d(v)}}function p(y){try{g(i.throw(y))}catch(v){d(v)}}function g(y){y.done?l(y.value):a(y.value).then(m,p)}g((i=i.apply(e,t||[])).next())})},PE=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(g){return function(y){return p([g,y])}}function p(g){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(i=1,a&&(l=g[0]&2?a.return:g[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,g[1])).done)return l;switch(a=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,a=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(y){g=[6,y],a=0}finally{i=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},BE=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=js.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=js.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return LE(this,void 0,void 0,function(){var t,n,i,a,l,d,m;return PE(this,function(p){switch(p.label){case 0:return t=function(g){for(var y=g.getVideoTracks(),v=0,C=y;v<C.length;v++){var b=C[v];b.enabled=!1,b.stop(),g.removeTrack(b)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=p.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(i=p.sent(),a=[],l=0,d=i;l<d.length;l++)m=d[l],m.kind==="videoinput"&&a.push({id:m.deviceId,label:m.label});return t(n),[2,a]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var i=function(l){for(var d=[],m=0,p=l;m<p.length;m++){var g=p[m];g.kind==="video"&&d.push({id:g.id,label:g.label})}t(d)},a=MediaStreamTrack;a.getSources(i)})},e}(),Et;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Et||(Et={}));var FE=function(){function e(){this.state=Et.NOT_STARTED,this.onGoingTransactionNewState=Et.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Et.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Et.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Et.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Et.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Et.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Et.UNKNOWN:throw"Transition from unknown is not allowed";case Et.NOT_STARTED:this.failIfNewStateIs(t,[Et.PAUSED]);break;case Et.SCANNING:break;case Et.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var i=0,a=n;i<a.length;i++){var l=a[i];if(t===l)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),jE=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Et.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Et.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Et.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Et.PAUSED},e}(),UE=function(){function e(){}return e.create=function(){return new jE(new FE)},e}(),zE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),bn=function(e){zE(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Jn),VE=function(){function e(t,n){this.logger=n,this.fps=bn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=bn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Fx.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!pr(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),sg=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var i;typeof n=="boolean"?this.verbose=n===!0:n&&(i=n,this.verbose=i.verbose===!0,i.experimentalFeatures),this.logger=new Bx(this.verbose),this.qrcode=new NE(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(i),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=UE.create()}return e.prototype.start=function(t,n,i,a){var l=this;if(!t)throw"cameraIdOrConfig is required";if(!i||typeof i!="function")throw"qrCodeSuccessCallback is required and should be a function.";var d;a?d=a:d=this.verbose?this.logger.log:function(){};var m=VE.create(n,this.logger);this.clearElement();var p=!1;m.videoConstraints&&(m.isMediaStreamConstraintsValid()?p=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var g=p,y=document.getElementById(this.elementId);y.clientWidth?y.clientWidth:bn.DEFAULT_WIDTH,y.style.position="relative",this.shouldScan=!0,this.element=y;var v=this,C=this.stateManagerProxy.startTransition(Et.SCANNING);return new Promise(function(b,R){var M=g?m.videoConstraints:v.createVideoConstraints(t);if(!M){C.cancel(),R("videoConstraints should be defined");return}var D={};(!g||m.aspectRatio)&&(D.aspectRatio=m.aspectRatio);var _={onRenderSurfaceReady:function(S,I){v.setupUi(S,I,m),v.isScanning=!0,v.foreverScan(m,i,d)}};kE.failIfNotSupported().then(function(S){S.create(M).then(function(I){return I.render(l.element,D,_).then(function(L){v.renderedCamera=L,C.execute(),b(null)}).catch(function(L){C.cancel(),R(L)})}).catch(function(I){C.cancel(),R(js.errorGettingUserMedia(I))})}).catch(function(S){C.cancel(),R(js.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Et.PAUSED),this.showPausedState(),(pr(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Et.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Et.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var i=function(){if(t.element){var l=document.getElementById(bn.SHADED_REGION_ELEMENT_ID);l&&t.element.removeChild(l)}},a=this;return this.renderedCamera.close().then(function(){return a.renderedCamera=null,a.element&&(a.element.removeChild(a.canvasElement),a.canvasElement=null),i(),a.qrRegion&&(a.qrRegion=null),a.context&&(a.context=null),n.execute(),a.hidePausedState(),a.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(i){return i.decodedText})},e.prototype.scanFileV2=function(t,n){var i=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(pr(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(a,l){i.possiblyCloseLastScanImageFile(),i.clearElement(),i.lastScanImageFile=URL.createObjectURL(t);var d=new Image;d.onload=function(){var m=d.width,p=d.height,g=document.getElementById(i.elementId),y=g.clientWidth?g.clientWidth:bn.DEFAULT_WIDTH,v=Math.max(g.clientHeight?g.clientHeight:p,bn.FILE_SCAN_MIN_HEIGHT),C=i.computeCanvasDrawConfig(m,p,y,v);if(n){var b=i.createCanvasElement(y,v,"qr-canvas-visible");b.style.display="inline-block",g.appendChild(b);var R=b.getContext("2d");if(!R)throw"Unable to get 2d context from canvas";R.canvas.width=y,R.canvas.height=v,R.drawImage(d,0,0,m,p,C.x,C.y,C.width,C.height)}var M=bn.FILE_SCAN_HIDDEN_CANVAS_PADDING,D=Math.max(d.width,C.width),_=Math.max(d.height,C.height),S=D+2*M,I=_+2*M,L=i.createCanvasElement(S,I);g.appendChild(L);var V=L.getContext("2d");if(!V)throw"Unable to get 2d context from canvas";V.canvas.width=S,V.canvas.height=I,V.drawImage(d,0,0,m,p,M,M,D,_);try{i.qrcode.decodeRobustlyAsync(L).then(function(U){a(q1.createFromQrcodeResult(U))}).catch(l)}catch(U){l("QR code parse error, error = ".concat(U))}},d.onerror=l,d.onabort=l,d.onstalled=l,d.onsuspend=l,d.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return BE.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!Fx.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[fe.QR_CODE,fe.AZTEC,fe.CODABAR,fe.CODE_39,fe.CODE_93,fe.CODE_128,fe.DATA_MATRIX,fe.MAXICODE,fe.ITF,fe.EAN_13,fe.EAN_8,fe.PDF_417,fe.RSS_14,fe.RSS_EXPANDED,fe.UPC_A,fe.UPC_E,fe.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var i=[],a=0,l=t.formatsToSupport;a<l.length;a++){var d=l[a];CE(d)?i.push(d):this.logger.warn("Invalid format: ".concat(d," passed in config, ignoring."))}if(i.length===0)throw"None of formatsToSupport match supported values.";return i},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(pr(t))return!0;if(!pr(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(pr(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return pr(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,i){var a=this,l=i.qrbox;this.validateQrboxConfig(l);var d=this.toQrdimensions(t,n,l),m=function(g){if(g<bn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(bn.MIN_QR_BOX_SIZE,"px.")},p=function(g){return g>t&&(a.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),g=t),g};m(d.width),m(d.height),d.width=p(d.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,i){if(typeof i=="number")return{width:i,height:i};if(typeof i=="function")try{return i(t,n)}catch(a){throw new Error("qrbox config was passed as a function but it failed with unknown error"+a)}return i},e.prototype.setupUi=function(t,n,i){i.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,i);var a=pr(i.qrbox)?{width:t,height:n}:i.qrbox;this.validateQrboxConfig(a);var l=this.toQrdimensions(t,n,a);l.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var d=i.isShadedBoxEnabled()&&l.height<=n,m={x:0,y:0,width:t,height:n},p=d?this.getShadedRegionBounds(t,n,l):m,g=this.createCanvasElement(p.width,p.height),y={willReadFrequently:!0},v=g.getContext("2d",y);v.canvas.width=p.width,v.canvas.height=p.height,this.element.append(g),d&&this.possiblyInsertShadingElement(this.element,t,n,l),this.createScannerPausedUiElement(this.element),this.qrRegion=p,this.context=v,this.canvasElement=g},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=js.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var i=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(a){return t(a.text,q1.createFromQrcodeResult(a)),i.possiblyUpdateShaders(!0),!0}).catch(function(a){i.possiblyUpdateShaders(!1);var l=js.codeParseError(a);return n(l,Px.createFrom(l)),!1})},e.prototype.foreverScan=function(t,n,i){var a=this;if(this.shouldScan&&this.renderedCamera){var l=this.renderedCamera.getSurface(),d=l.videoWidth/l.clientWidth,m=l.videoHeight/l.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var p=this.qrRegion.width*d,g=this.qrRegion.height*m,y=this.qrRegion.x*d,v=this.qrRegion.y*m;this.context.drawImage(l,y,v,p,g,0,0,this.qrRegion.width,this.qrRegion.height);var C=function(){a.foreverScanTimeout=setTimeout(function(){a.foreverScan(t,n,i)},a.getTimeoutFps(t.fps))};this.scanContext(n,i).then(function(b){!b&&t.disableFlip!==!0?(a.context.translate(a.context.canvas.width,0),a.context.scale(-1,1),a.scanContext(n,i).finally(function(){C()})):C()}).catch(function(b){a.logger.logError("Error happend while scanning context",b),C()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",i="deviceId",a={user:!0,environment:!0},l="exact",d=function(R){if(R in a)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(R,"'")},m=Object.keys(t);if(m.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(m.length," keys");var p=Object.keys(t)[0];if(p!==n&&p!==i)throw"Only '".concat(n,"' and '").concat(i,"' ")+" are supported for 'cameraIdOrConfig'";if(p===n){var g=t.facingMode;if(typeof g=="string"){if(d(g))return{facingMode:g}}else if(typeof g=="object")if(l in g){if(d(g["".concat(l)]))return{facingMode:{exact:g["".concat(l)]}}}else throw"'facingMode' should be string or object with"+" ".concat(l," as key.");else{var y=typeof g;throw"Invalid type of 'facingMode' = ".concat(y)}}else{var v=t.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(l in v)return{deviceId:{exact:v["".concat(l)]}};throw"'deviceId' should be string or object with"+" ".concat(l," as key.")}else{var C=typeof v;throw"Invalid type of 'deviceId' = ".concat(C)}}}var b=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(b)},e.prototype.computeCanvasDrawConfig=function(t,n,i,a){if(t<=i&&n<=a){var l=(i-t)/2,d=(a-n)/2;return{x:l,y:d,width:t,height:n}}else{var m=t,p=n;return t>i&&(n=i/t*n,t=i),n>a&&(t=a/n*t,n=a),this.logger.log("Image downsampled from "+"".concat(m,"X").concat(p)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,i,a)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?bn.BORDER_SHADER_MATCH_COLOR:bn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,i){var a=t,l=n,d=document.createElement("canvas");return d.style.width="".concat(a,"px"),d.style.height="".concat(l,"px"),d.style.display="none",d.id=pr(i)?"qr-canvas":i,d},e.prototype.getShadedRegionBounds=function(t,n,i){if(i.width>t||i.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-i.width)/2,y:(n-i.height)/2,width:i.width,height:i.height}},e.prototype.possiblyInsertShadingElement=function(t,n,i,a){if(!(n-a.width<1||i-a.height<1)){var l=document.createElement("div");l.style.position="absolute";var d=(n-a.width)/2,m=(i-a.height)/2;if(l.style.borderLeft="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderRight="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderTop="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderBottom="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),l.style.boxSizing="border-box",l.style.top="0px",l.style.bottom="0px",l.style.left="0px",l.style.right="0px",l.id="".concat(bn.SHADED_REGION_ELEMENT_ID),n-a.width<11||i-a.height<11)this.hasBorderShaders=!1;else{var p=5,g=40;this.insertShaderBorders(l,g,p,-p,null,0,!0),this.insertShaderBorders(l,g,p,-p,null,0,!1),this.insertShaderBorders(l,g,p,null,-p,0,!0),this.insertShaderBorders(l,g,p,null,-p,0,!1),this.insertShaderBorders(l,p,g+p,-p,null,-p,!0),this.insertShaderBorders(l,p,g+p,null,-p,-p,!0),this.insertShaderBorders(l,p,g+p,-p,null,-p,!1),this.insertShaderBorders(l,p,g+p,null,-p,-p,!1),this.hasBorderShaders=!0}t.append(l)}},e.prototype.insertShaderBorders=function(t,n,i,a,l,d,m){var p=document.createElement("div");p.style.position="absolute",p.style.backgroundColor=bn.BORDER_SHADER_DEFAULT_COLOR,p.style.width="".concat(n,"px"),p.style.height="".concat(i,"px"),a!==null&&(p.style.top="".concat(a,"px")),l!==null&&(p.style.bottom="".concat(l,"px")),m?p.style.left="".concat(d,"px"):p.style.right="".concat(d,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(p),t.appendChild(p)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),Kh="data:image/svg+xml;base64,",HE=Kh+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",WE=Kh+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",og=Kh+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",GE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",ag=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),YE=function(){function e(){this.data=ag.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=ag.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),XE=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=$1.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var i=document.createElement("br"),a=document.createElement("br");this.infoDiv.appendChild(i),this.infoDiv.appendChild(a);var l=document.createElement("a");l.innerText=$1.reportIssues(),l.href="https://github.com/mebjas/html5-qrcode/issues",l.target="new",l.style.color="white",this.infoDiv.appendChild(l),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),KE=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=og,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(i){return n.onHoverIn()},this.infoIcon.onmouseout=function(i){return n.onHoverOut()},this.infoIcon.onclick=function(i){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=GE,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=og,this.infoIcon.style.opacity="0.6")},e}(),QE=function(){function e(){var t=this;this.infoDiv=new XE,this.infoIcon=new KE(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),ZE=function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function m(y){try{g(i.next(y))}catch(v){d(v)}}function p(y){try{g(i.throw(y))}catch(v){d(v)}}function g(y){y.done?l(y.value):a(y.value).then(m,p)}g((i=i.apply(e,t||[])).next())})},qE=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(g){return function(y){return p([g,y])}}function p(g){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(i=1,a&&(l=g[0]&2?a.return:g[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,g[1])).done)return l;switch(a=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,a=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(y){g=[6,y],a=0}finally{i=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},lg=function(){function e(){}return e.hasPermissions=function(){return ZE(this,void 0,void 0,function(){var t,n,i,a;return qE(this,function(l){switch(l.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=l.sent(),n=0,i=t;n<i.length;n++)if(a=i[n],a.kind==="videoinput"&&a.label)return[2,!0];return[2,!1]}})})},e}(),ni=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var i=n[t];if(e.isCameraScanType(i))return!0}return!1},e.isCameraScanType=function(t){return t===Ti.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Ti.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Jn.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Jn.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var i=0,a=t;i<a.length;i++){var l=a[i];if(!Jn.DEFAULT_SUPPORTED_SCAN_TYPE.includes(l))throw"Unsupported scan type ".concat(l)}return t},e}(),Tn=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),Lr=function(){function e(){}return e.createElement=function(t,n){var i=document.createElement(t);return i.id=n,i.classList.add(Tn.ALL_ELEMENT_CLASS),t==="button"&&i.setAttribute("type","button"),i},e}(),Ux=function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function m(y){try{g(i.next(y))}catch(v){d(v)}}function p(y){try{g(i.throw(y))}catch(v){d(v)}}function g(y){y.done?l(y.value):a(y.value).then(m,p)}g((i=i.apply(e,t||[])).next())})},zx=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(g){return function(y){return p([g,y])}}function p(g){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(i=1,a&&(l=g[0]&2?a.return:g[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,g[1])).done)return l;switch(a=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,a=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(y){g=[6,y],a=0}finally{i=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},cg=function(){function e(t,n,i){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=i}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return Ux(this,void 0,void 0,function(){var t,n;return zx(this,function(i){switch(i.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return i.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=i.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?Ye.torchOffButton():Ye.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var i=t?Ye.torchOnFailedMessage():Ye.torchOffFailedMessage();n&&(i+="; Error = "+n),this.onTorchActionFailureCallback(i)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),$E=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=Lr.createElement("button",Tn.TORCH_BUTTON_ID),this.torchController=new cg(t,this,n)}return e.prototype.render=function(t,n){var i=this;this.torchButton.innerText=Ye.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var a=this;this.torchButton.addEventListener("click",function(l){return Ux(i,void 0,void 0,function(){return zx(this,function(d){switch(d.label){case 0:return[4,a.torchController.flipState()];case 1:return d.sent(),a.torchController.isTorchEnabled()?(a.torchButton.classList.remove(Tn.TORCH_BUTTON_CLASS_TORCH_OFF),a.torchButton.classList.add(Tn.TORCH_BUTTON_CLASS_TORCH_ON)):(a.torchButton.classList.remove(Tn.TORCH_BUTTON_CLASS_TORCH_ON),a.torchButton.classList.add(Tn.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new cg(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Ye.torchOnButton(),this.torchController.reset()},e.create=function(t,n,i,a){var l=new e(n,a);return l.render(t,i),l},e}(),JE=function(){function e(t,n,i){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var a=document.createElement("label");a.setAttribute("for",this.getFileScanInputId()),a.style.display="inline-block",this.fileBasedScanRegion.appendChild(a),this.fileSelectionButton=Lr.createElement("button",Tn.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(m){a.click()}),a.append(this.fileSelectionButton),this.fileScanInput=Lr.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",a.appendChild(this.fileScanInput);var l=this;this.fileScanInput.addEventListener("change",function(m){if(!(m==null||m.target==null)){var p=m.target;if(!(p.files&&p.files.length===0)){var g=p.files,y=g[0],v=y.name;l.setImageNameToButton(v),i(y)}}});var d=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(d),this.fileBasedScanRegion.addEventListener("dragenter",function(m){l.fileBasedScanRegion.style.border=l.fileBasedScanRegionActiveBorder(),m.stopPropagation(),m.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(m){l.fileBasedScanRegion.style.border=l.fileBasedScanRegionDefaultBorder(),m.stopPropagation(),m.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(m){l.fileBasedScanRegion.style.border=l.fileBasedScanRegionActiveBorder(),m.stopPropagation(),m.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(m){m.stopPropagation(),m.preventDefault(),l.fileBasedScanRegion.style.border=l.fileBasedScanRegionDefaultBorder();var p=m.dataTransfer;if(p){var g=p.files;if(!g||g.length===0)return;for(var y=!1,v=0;v<g.length;++v){var C=g.item(v);if(C){var b=/image.*/;if(C.type.match(b)){y=!0;var R=C.name;l.setImageNameToButton(R),i(C),d.innerText=Ye.dragAndDropMessage();break}}}y||(d.innerText=Ye.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Ye.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var i=t.substring(0,8),a=t.length,l=t.substring(a-8,a);t="".concat(i,"....").concat(l)}var d=Ye.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=d},e.prototype.setInitialValueToButton=function(){var t=Ye.fileSelectionChooseImage()+" - "+Ye.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,i){var a=new e(t,n,i);return a},e}(),eA=function(){function e(t){this.selectElement=Lr.createElement("select",Tn.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var i=this.cameras.length;if(i===0)throw new Error("No cameras found");if(i===1)n.style.display="none";else{var a=Ye.selectCamera();n.innerText="".concat(a," (").concat(this.cameras.length,")  ")}for(var l=1,d=0,m=this.cameras;d<m.length;d++){var p=m[d],g=p.id,y=p.label==null?g:p.label;(!y||y==="")&&(y=[Ye.anonymousCameraPrefix(),l++].join(" "));var v=document.createElement("option");v.value=g,v.innerText=y,this.options.push(v),this.selectElement.appendChild(v)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,i=this.options;n<i.length;n++){var a=i[n];if(a.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var i=new e(n);return i.render(t),i},e}(),tA=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Lr.createElement("input",Tn.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var i=Ye.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(i),this.rangeText.style.marginRight="10px";var a=this;this.rangeInput.addEventListener("input",function(){return a.onValueChange()}),this.rangeInput.addEventListener("change",function(){return a.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Ye.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,i,a){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=a.toString(),this.rangeInput.value=i.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var i=new e;return i.render(t,n),i},e}(),In;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(In||(In={}));function nA(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function rA(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var iA=function(){function e(t,n,i){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=i===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new ni(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Bx(this.verbose),this.persistedDataManager=new YE,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var i=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(l,d){if(t)t(l,d);else{if(i.lastMatchFound===l)return;i.lastMatchFound=l,i.setHeaderMessage(Ye.lastMatch(l),In.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(l,d){n&&n(l,d)};var a=document.getElementById(this.elementId);if(!a)throw"HTML Element with id=".concat(this.elementId," not found");a.innerHTML="",this.createBasicLayout(a),this.html5Qrcode=new sg(this.getScanRegionId(),rA(this.config,this.verbose))},e.prototype.pause=function(t){(pr(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var i=document.getElementById(t.elementId);i&&(i.innerHTML="",t.resetBasicLayout(i))};return this.html5Qrcode?new Promise(function(i,a){if(!t.html5Qrcode){i();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(l){if(!t.html5Qrcode){i();return}t.html5Qrcode.clear(),n(),i()}).catch(function(l){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",l),a(l)}):(t.html5Qrcode.clear(),n(),i())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Jn.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Jn.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Jn.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Jn.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Jn.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Jn.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Jn.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),i=this.getScanRegionId();n.id=i,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),ni.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var a=document.createElement("div"),l=this.getDashboardId();a.id=l,a.style.width="100%",t.appendChild(a),this.setupInitialDashboard(a)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var i=new QE;i.renderInto(n);var a=document.createElement("div");a.id=this.getHeaderMessageContainerId(),a.style.display="none",a.style.textAlign="center",a.style.fontSize="14px",a.style.padding="2px 10px",a.style.margin="4px",a.style.borderTop="1px solid #f6f6f6",n.appendChild(a)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,i){var a=this;a.showHideScanTypeSwapLink(!1),a.setHeaderMessage(Ye.cameraPermissionRequesting());var l=function(){i||a.createPermissionButton(t,n)};sg.getCameras().then(function(d){a.persistedDataManager.setHasPermission(!0),a.showHideScanTypeSwapLink(!0),a.resetHeaderMessage(),d&&d.length>0?(t.removeChild(n),a.renderCameraSelection(d)):(a.setHeaderMessage(Ye.noCameraFound(),In.STATUS_WARNING),l())}).catch(function(d){a.persistedDataManager.setHasPermission(!1),i?i.disabled=!1:l(),a.setHeaderMessage(d,In.STATUS_WARNING),a.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var i=this,a=Lr.createElement("button",this.getCameraPermissionButtonId());a.innerText=Ye.cameraPermissionTitle(),a.addEventListener("click",function(){a.disabled=!0,i.createCameraListUi(t,n,a)}),n.appendChild(a)},e.prototype.createPermissionsUi=function(t,n){var i=this;if(ni.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){lg.hasPermissions().then(function(a){a?i.createCameraListUi(t,n):(i.persistedDataManager.setHasPermission(!1),i.createPermissionButton(t,n))}).catch(function(a){i.persistedDataManager.setHasPermission(!1),i.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var i=document.createElement("div");i.id=this.getDashboardSectionCameraScanRegionId(),i.style.display=ni.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(i);var a=document.createElement("div");a.style.textAlign="center",i.appendChild(a),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(i,a),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=ni.isFileScanType(this.currentScanType),i=this,a=function(l){if(!i.html5Qrcode)throw"html5Qrcode not defined";ni.isFileScanType(i.currentScanType)&&(i.setHeaderMessage(Ye.loadingImage()),i.html5Qrcode.scanFileV2(l,!0).then(function(d){i.resetHeaderMessage(),i.qrCodeSuccessCallback(d.decodedText,d)}).catch(function(d){i.setHeaderMessage(d,In.STATUS_WARNING),i.qrCodeErrorCallback(d,Px.createFrom(d))}))};this.fileSelectionUi=JE.create(t,n,a)},e.prototype.renderCameraSelection=function(t){var n=this,i=this,a=document.getElementById(this.getDashboardSectionCameraScanRegionId());a.style.textAlign="center";var l=tA.create(a,!1),d=function(M){var D=M.zoomFeature();if(D.isSupported()){l.setOnCameraZoomValueChangeCallback(function(S){D.apply(S)});var _=1;n.config.defaultZoomValueIfSupported&&(_=n.config.defaultZoomValueIfSupported),_=EE(_,D.min(),D.max()),l.setValues(D.min(),D.max(),_,D.step()),l.show()}},m=eA.create(a,t),p=document.createElement("span"),g=Lr.createElement("button",Tn.CAMERA_START_BUTTON_ID);g.innerText=Ye.scanButtonStartScanningText(),p.appendChild(g);var y=Lr.createElement("button",Tn.CAMERA_STOP_BUTTON_ID);y.innerText=Ye.scanButtonStopScanningText(),y.style.display="none",y.disabled=!0,p.appendChild(y);var v,C=function(M){if(!M.torchFeature().isSupported()){v&&v.hide();return}v?v.updateTorchCapability(M.torchFeature()):v=$E.create(p,M.torchFeature(),{display:"none",marginLeft:"5px"},function(D){i.setHeaderMessage(D,In.STATUS_WARNING)}),v.show()};a.appendChild(p);var b=function(M){M||(g.style.display="none"),g.innerText=Ye.scanButtonStartScanningText(),g.style.opacity="1",g.disabled=!1,M&&(g.style.display="inline-block")};if(g.addEventListener("click",function(M){g.innerText=Ye.scanButtonScanningStarting(),m.disable(),g.disabled=!0,g.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&i.showHideScanTypeSwapLink(!1),i.resetHeaderMessage();var D=m.getValue();i.persistedDataManager.setLastUsedCameraId(D),i.html5Qrcode.start(D,nA(i.config),i.qrCodeSuccessCallback,i.qrCodeErrorCallback).then(function(_){y.disabled=!1,y.style.display="inline-block",b(!1);var S=i.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&C(S),n.config.showZoomSliderIfSupported===!0&&d(S)}).catch(function(_){i.showHideScanTypeSwapLink(!0),m.enable(),b(!0),i.setHeaderMessage(_,In.STATUS_WARNING)})}),m.hasSingleItem()&&g.click(),y.addEventListener("click",function(M){if(!i.html5Qrcode)throw"html5Qrcode not defined";y.disabled=!0,i.html5Qrcode.stop().then(function(D){n.scanTypeSelector.hasMoreThanOneScanType()&&i.showHideScanTypeSwapLink(!0),m.enable(),g.disabled=!1,y.style.display="none",g.style.display="inline-block",v&&(v.reset(),v.hide()),l.removeOnCameraZoomValueChangeCallback(),l.hide(),i.insertCameraScanImageToScanRegion()}).catch(function(D){y.disabled=!1,i.setHeaderMessage(D,In.STATUS_WARNING)})}),i.persistedDataManager.getLastUsedCameraId()){var R=i.persistedDataManager.getLastUsedCameraId();m.hasValue(R)?(m.setValue(R),g.click()):i.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=Ye.textIfCameraScanSelected(),i=Ye.textIfFileScanSelected(),a=document.getElementById(this.getDashboardSectionId()),l=document.createElement("div");l.style.textAlign="center";var d=Lr.createElement("span",this.getDashboardSectionSwapLinkId());d.style.textDecoration="underline",d.style.cursor="pointer",d.innerText=ni.isCameraScanType(this.currentScanType)?n:i,d.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,ni.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),d.innerText=i,t.currentScanType=Ti.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),d.innerText=n,t.currentScanType=Ti.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),l.appendChild(d),a.appendChild(l)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){lg.hasPermissions().then(function(i){if(i){var a=document.getElementById(n.getCameraPermissionButtonId());if(!a)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";a.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(i){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=In.STATUS_DEFAULT);var i=this.getHeaderMessageDiv();switch(i.innerText=t,i.style.display="block",n){case In.STATUS_SUCCESS:i.style.background="rgba(106, 175, 80, 0.26)",i.style.color="#477735";break;case In.STATUS_WARNING:i.style.background="rgba(203, 36, 49, 0.14)",i.style.color="#cb2431";break;case In.STATUS_DEFAULT:default:i.style.background="rgba(0, 0, 0, 0)",i.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(i){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=HE,this.cameraScanImage.alt=Ye.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(i){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=WE,this.fileScanImage.alt=Ye.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return Tn.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return Tn.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();const Vx=({onScan:e,onClose:t})=>(K.useEffect(()=>{const n=new iA("reader",{fps:10,qrbox:{width:250,height:250}},!1);return n.render(i=>{e(i),n.clear()},i=>{}),()=>{n.clear().catch(i=>{console.error("Failed to clear html5-qrcode scanner. ",i)})}},[e]),A.jsx("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-black/80",children:A.jsxs("div",{className:"bg-white p-4 rounded-lg w-full max-w-md relative",children:[A.jsx("button",{onClick:t,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700",children:"X"}),A.jsx("div",{id:"reader",className:"w-full"}),A.jsx("p",{className:"text-center mt-2 text-sm text-gray-500",children:"Point camera at a barcode"})]})})),sA=()=>{const{t:e}=Ba(),[t,n]=K.useState(""),[i,a]=K.useState(!1),[l,d]=K.useState(!1),[m,p]=K.useState(null),[g,y]=K.useState({name:"",sku:"",price:void 0,mrp:void 0,stock:void 0,lowStockLimit:void 0,profileId:Number(localStorage.getItem("defaultProfileId"))||void 0}),v=Wn(()=>Te.profiles.toArray()),C=Wn(()=>t?Te.items.filter(I=>I.name.toLowerCase().includes(t.toLowerCase())||I.sku.includes(t)).toArray():Te.items.toArray(),[t]),b=I=>{y(L=>({...L,sku:I})),d(!1)},R=async()=>{if(!g.name||!g.name.trim()){alert("Please enter item name");return}try{m?await Te.items.update(m,M(g)):await Te.items.add(M(g)),S()}catch(I){console.error("Error saving item:",I),alert("Failed to save item. Please try again.")}},M=I=>({...I,price:Number(I.price)||0,mrp:Number(I.mrp)||0,stock:Number(I.stock)||0,lowStockLimit:Number(I.lowStockLimit)||0,profileId:Number(I.profileId)||void 0}),D=I=>{I&&confirm("Delete this item?")&&Te.items.delete(I)},_=I=>{y(I),p(I.id||null),a(!0)},S=()=>{y({name:"",sku:"",price:void 0,mrp:void 0,stock:void 0,lowStockLimit:void 0,profileId:Number(localStorage.getItem("defaultProfileId"))||void 0}),p(null),a(!1)};return A.jsxs("div",{className:"p-4 pb-24 max-w-md mx-auto relative min-h-screen",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h1",{className:"text-2xl font-bold",children:e("inventory")}),A.jsxs(Pe,{size:"sm",onClick:()=>a(!0),children:[A.jsx(Rh,{className:"w-4 h-4 mr-1"})," ",e("add_item")]})]}),A.jsxs("div",{className:"relative mb-4",children:[A.jsx(Qm,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-500"}),A.jsx(pt,{placeholder:"Search items...",className:"pl-9",value:t,onChange:I=>n(I.target.value)})]}),A.jsxs("div",{className:"space-y-2",children:[C==null?void 0:C.map(I=>A.jsx(zn,{className:"overflow-hidden",children:A.jsxs(tr,{className:"p-3 flex justify-between items-center",children:[A.jsxs("div",{children:[A.jsx("div",{className:"font-semibold",children:I.name}),A.jsxs("div",{className:"text-xs text-gray-500",children:["SKU: ",I.sku]}),A.jsxs("div",{className:"text-sm mt-1",children:["",I.price," ",A.jsxs("span",{className:"text-gray-400 line-through text-xs",children:["",I.mrp]})]})]}),A.jsxs("div",{className:"flex flex-col items-end gap-2",children:[A.jsxs("div",{className:`text-sm font-bold ${I.stock<5?"text-red-500":"text-green-600"}`,children:["Stk: ",I.stock]}),A.jsxs("div",{className:"flex gap-1",children:[A.jsx(Pe,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>_(I),children:A.jsx(E3,{className:"w-4 h-4"})}),A.jsx(Pe,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>D(I.id),children:A.jsx(Dh,{className:"w-4 h-4 text-red-500"})})]})]})]})},I.id)),(C==null?void 0:C.length)===0&&A.jsx("div",{className:"text-center py-8 text-gray-500",children:"No items found"})]}),i&&A.jsxs("div",{className:"fixed inset-0 z-50 bg-white flex flex-col h-[100dvh]",children:[A.jsxs("div",{className:"flex-none flex justify-between items-center p-4 border-b",children:[A.jsx("h2",{className:"text-xl font-bold",children:m?"Edit Item":e("add_item")}),A.jsx(Pe,{variant:"ghost",size:"icon",onClick:S,children:A.jsx(T3,{className:"w-6 h-6"})})]}),A.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-medium",children:"Business Profile"}),A.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:g.profileId||"",onChange:I=>y({...g,profileId:Number(I.target.value)}),children:[A.jsx("option",{value:"",children:"Select Business"}),v==null?void 0:v.map(I=>A.jsx("option",{value:I.id,children:I.businessName},I.id))]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-medium",children:e("name")}),A.jsx(pt,{value:g.name,onChange:I=>y({...g,name:I.target.value})})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-medium",children:"Barcode / SKU"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx(pt,{value:g.sku,onChange:I=>y({...g,sku:I.target.value})}),A.jsx(Pe,{variant:"outline",size:"icon",onClick:()=>d(!0),children:A.jsx(Km,{className:"w-4 h-4"})})]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-medium",children:"Selling Price"}),A.jsx(pt,{type:"number",value:g.price??"",onChange:I=>y({...g,price:Number(I.target.value)})})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-medium",children:"MRP"}),A.jsx(pt,{type:"number",value:g.mrp??"",onChange:I=>y({...g,mrp:Number(I.target.value)})})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-medium",children:e("stock")}),A.jsx(pt,{type:"number",value:g.stock??"",onChange:I=>y({...g,stock:Number(I.target.value)})})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-medium",children:"Low Stock Alert Limit"}),A.jsx(pt,{type:"number",placeholder:"e.g. 5",value:g.lowStockLimit??"",onChange:I=>y({...g,lowStockLimit:Number(I.target.value)})})]}),A.jsxs("div",{className:"flex justify-end gap-3 mt-6 pb-6",children:[A.jsx(Pe,{variant:"outline",onClick:S,children:"Cancel"}),A.jsx(Pe,{className:"bg-slate-900 text-white hover:bg-slate-800",onClick:R,children:e("save")})]})]})]}),l&&A.jsx(Vx,{onScan:b,onClose:()=>d(!1)})]})};var oA=Object.defineProperty,Tc=Object.getOwnPropertySymbols,Hx=Object.prototype.hasOwnProperty,Wx=Object.prototype.propertyIsEnumerable,ug=(e,t,n)=>t in e?oA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aA=(e,t)=>{for(var n in t||(t={}))Hx.call(t,n)&&ug(e,n,t[n]);if(Tc)for(var n of Tc(t))Wx.call(t,n)&&ug(e,n,t[n]);return e},lA=(e,t)=>{var n={};for(var i in e)Hx.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&Tc)for(var i of Tc(e))t.indexOf(i)<0&&Wx.call(e,i)&&(n[i]=e[i]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var ss;(e=>{const t=class{constructor(p,g,y,v){if(this.version=p,this.errorCorrectionLevel=g,this.modules=[],this.isFunction=[],p<t.MIN_VERSION||p>t.MAX_VERSION)throw new RangeError("Version value out of range");if(v<-1||v>7)throw new RangeError("Mask value out of range");this.size=p*4+17;let C=[];for(let R=0;R<this.size;R++)C.push(!1);for(let R=0;R<this.size;R++)this.modules.push(C.slice()),this.isFunction.push(C.slice());this.drawFunctionPatterns();const b=this.addEccAndInterleave(y);if(this.drawCodewords(b),v==-1){let R=1e9;for(let M=0;M<8;M++){this.applyMask(M),this.drawFormatBits(M);const D=this.getPenaltyScore();D<R&&(v=M,R=D),this.applyMask(M)}}l(0<=v&&v<=7),this.mask=v,this.applyMask(v),this.drawFormatBits(v),this.isFunction=[]}static encodeText(p,g){const y=e.QrSegment.makeSegments(p);return t.encodeSegments(y,g)}static encodeBinary(p,g){const y=e.QrSegment.makeBytes(p);return t.encodeSegments([y],g)}static encodeSegments(p,g,y=1,v=40,C=-1,b=!0){if(!(t.MIN_VERSION<=y&&y<=v&&v<=t.MAX_VERSION)||C<-1||C>7)throw new RangeError("Invalid value");let R,M;for(R=y;;R++){const I=t.getNumDataCodewords(R,g)*8,L=m.getTotalBits(p,R);if(L<=I){M=L;break}if(R>=v)throw new RangeError("Data too long")}for(const I of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])b&&M<=t.getNumDataCodewords(R,I)*8&&(g=I);let D=[];for(const I of p){i(I.mode.modeBits,4,D),i(I.numChars,I.mode.numCharCountBits(R),D);for(const L of I.getData())D.push(L)}l(D.length==M);const _=t.getNumDataCodewords(R,g)*8;l(D.length<=_),i(0,Math.min(4,_-D.length),D),i(0,(8-D.length%8)%8,D),l(D.length%8==0);for(let I=236;D.length<_;I^=253)i(I,8,D);let S=[];for(;S.length*8<D.length;)S.push(0);return D.forEach((I,L)=>S[L>>>3]|=I<<7-(L&7)),new t(R,g,S,C)}getModule(p,g){return 0<=p&&p<this.size&&0<=g&&g<this.size&&this.modules[g][p]}getModules(){return this.modules}drawFunctionPatterns(){for(let y=0;y<this.size;y++)this.setFunctionModule(6,y,y%2==0),this.setFunctionModule(y,6,y%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const p=this.getAlignmentPatternPositions(),g=p.length;for(let y=0;y<g;y++)for(let v=0;v<g;v++)y==0&&v==0||y==0&&v==g-1||y==g-1&&v==0||this.drawAlignmentPattern(p[y],p[v]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(p){const g=this.errorCorrectionLevel.formatBits<<3|p;let y=g;for(let C=0;C<10;C++)y=y<<1^(y>>>9)*1335;const v=(g<<10|y)^21522;l(v>>>15==0);for(let C=0;C<=5;C++)this.setFunctionModule(8,C,a(v,C));this.setFunctionModule(8,7,a(v,6)),this.setFunctionModule(8,8,a(v,7)),this.setFunctionModule(7,8,a(v,8));for(let C=9;C<15;C++)this.setFunctionModule(14-C,8,a(v,C));for(let C=0;C<8;C++)this.setFunctionModule(this.size-1-C,8,a(v,C));for(let C=8;C<15;C++)this.setFunctionModule(8,this.size-15+C,a(v,C));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let p=this.version;for(let y=0;y<12;y++)p=p<<1^(p>>>11)*7973;const g=this.version<<12|p;l(g>>>18==0);for(let y=0;y<18;y++){const v=a(g,y),C=this.size-11+y%3,b=Math.floor(y/3);this.setFunctionModule(C,b,v),this.setFunctionModule(b,C,v)}}drawFinderPattern(p,g){for(let y=-4;y<=4;y++)for(let v=-4;v<=4;v++){const C=Math.max(Math.abs(v),Math.abs(y)),b=p+v,R=g+y;0<=b&&b<this.size&&0<=R&&R<this.size&&this.setFunctionModule(b,R,C!=2&&C!=4)}}drawAlignmentPattern(p,g){for(let y=-2;y<=2;y++)for(let v=-2;v<=2;v++)this.setFunctionModule(p+v,g+y,Math.max(Math.abs(v),Math.abs(y))!=1)}setFunctionModule(p,g,y){this.modules[g][p]=y,this.isFunction[g][p]=!0}addEccAndInterleave(p){const g=this.version,y=this.errorCorrectionLevel;if(p.length!=t.getNumDataCodewords(g,y))throw new RangeError("Invalid argument");const v=t.NUM_ERROR_CORRECTION_BLOCKS[y.ordinal][g],C=t.ECC_CODEWORDS_PER_BLOCK[y.ordinal][g],b=Math.floor(t.getNumRawDataModules(g)/8),R=v-b%v,M=Math.floor(b/v);let D=[];const _=t.reedSolomonComputeDivisor(C);for(let I=0,L=0;I<v;I++){let V=p.slice(L,L+M-C+(I<R?0:1));L+=V.length;const U=t.reedSolomonComputeRemainder(V,_);I<R&&V.push(0),D.push(V.concat(U))}let S=[];for(let I=0;I<D[0].length;I++)D.forEach((L,V)=>{(I!=M-C||V>=R)&&S.push(L[I])});return l(S.length==b),S}drawCodewords(p){if(p.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let g=0;for(let y=this.size-1;y>=1;y-=2){y==6&&(y=5);for(let v=0;v<this.size;v++)for(let C=0;C<2;C++){const b=y-C,M=(y+1&2)==0?this.size-1-v:v;!this.isFunction[M][b]&&g<p.length*8&&(this.modules[M][b]=a(p[g>>>3],7-(g&7)),g++)}}l(g==p.length*8)}applyMask(p){if(p<0||p>7)throw new RangeError("Mask value out of range");for(let g=0;g<this.size;g++)for(let y=0;y<this.size;y++){let v;switch(p){case 0:v=(y+g)%2==0;break;case 1:v=g%2==0;break;case 2:v=y%3==0;break;case 3:v=(y+g)%3==0;break;case 4:v=(Math.floor(y/3)+Math.floor(g/2))%2==0;break;case 5:v=y*g%2+y*g%3==0;break;case 6:v=(y*g%2+y*g%3)%2==0;break;case 7:v=((y+g)%2+y*g%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[g][y]&&v&&(this.modules[g][y]=!this.modules[g][y])}}getPenaltyScore(){let p=0;for(let C=0;C<this.size;C++){let b=!1,R=0,M=[0,0,0,0,0,0,0];for(let D=0;D<this.size;D++)this.modules[C][D]==b?(R++,R==5?p+=t.PENALTY_N1:R>5&&p++):(this.finderPenaltyAddHistory(R,M),b||(p+=this.finderPenaltyCountPatterns(M)*t.PENALTY_N3),b=this.modules[C][D],R=1);p+=this.finderPenaltyTerminateAndCount(b,R,M)*t.PENALTY_N3}for(let C=0;C<this.size;C++){let b=!1,R=0,M=[0,0,0,0,0,0,0];for(let D=0;D<this.size;D++)this.modules[D][C]==b?(R++,R==5?p+=t.PENALTY_N1:R>5&&p++):(this.finderPenaltyAddHistory(R,M),b||(p+=this.finderPenaltyCountPatterns(M)*t.PENALTY_N3),b=this.modules[D][C],R=1);p+=this.finderPenaltyTerminateAndCount(b,R,M)*t.PENALTY_N3}for(let C=0;C<this.size-1;C++)for(let b=0;b<this.size-1;b++){const R=this.modules[C][b];R==this.modules[C][b+1]&&R==this.modules[C+1][b]&&R==this.modules[C+1][b+1]&&(p+=t.PENALTY_N2)}let g=0;for(const C of this.modules)g=C.reduce((b,R)=>b+(R?1:0),g);const y=this.size*this.size,v=Math.ceil(Math.abs(g*20-y*10)/y)-1;return l(0<=v&&v<=9),p+=v*t.PENALTY_N4,l(0<=p&&p<=2568888),p}getAlignmentPatternPositions(){if(this.version==1)return[];{const p=Math.floor(this.version/7)+2,g=this.version==32?26:Math.ceil((this.version*4+4)/(p*2-2))*2;let y=[6];for(let v=this.size-7;y.length<p;v-=g)y.splice(1,0,v);return y}}static getNumRawDataModules(p){if(p<t.MIN_VERSION||p>t.MAX_VERSION)throw new RangeError("Version number out of range");let g=(16*p+128)*p+64;if(p>=2){const y=Math.floor(p/7)+2;g-=(25*y-10)*y-55,p>=7&&(g-=36)}return l(208<=g&&g<=29648),g}static getNumDataCodewords(p,g){return Math.floor(t.getNumRawDataModules(p)/8)-t.ECC_CODEWORDS_PER_BLOCK[g.ordinal][p]*t.NUM_ERROR_CORRECTION_BLOCKS[g.ordinal][p]}static reedSolomonComputeDivisor(p){if(p<1||p>255)throw new RangeError("Degree out of range");let g=[];for(let v=0;v<p-1;v++)g.push(0);g.push(1);let y=1;for(let v=0;v<p;v++){for(let C=0;C<g.length;C++)g[C]=t.reedSolomonMultiply(g[C],y),C+1<g.length&&(g[C]^=g[C+1]);y=t.reedSolomonMultiply(y,2)}return g}static reedSolomonComputeRemainder(p,g){let y=g.map(v=>0);for(const v of p){const C=v^y.shift();y.push(0),g.forEach((b,R)=>y[R]^=t.reedSolomonMultiply(b,C))}return y}static reedSolomonMultiply(p,g){if(p>>>8||g>>>8)throw new RangeError("Byte out of range");let y=0;for(let v=7;v>=0;v--)y=y<<1^(y>>>7)*285,y^=(g>>>v&1)*p;return l(y>>>8==0),y}finderPenaltyCountPatterns(p){const g=p[1];l(g<=this.size*3);const y=g>0&&p[2]==g&&p[3]==g*3&&p[4]==g&&p[5]==g;return(y&&p[0]>=g*4&&p[6]>=g?1:0)+(y&&p[6]>=g*4&&p[0]>=g?1:0)}finderPenaltyTerminateAndCount(p,g,y){return p&&(this.finderPenaltyAddHistory(g,y),g=0),g+=this.size,this.finderPenaltyAddHistory(g,y),this.finderPenaltyCountPatterns(y)}finderPenaltyAddHistory(p,g){g[0]==0&&(p+=this.size),g.pop(),g.unshift(p)}};let n=t;n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=n;function i(p,g,y){if(g<0||g>31||p>>>g)throw new RangeError("Value out of range");for(let v=g-1;v>=0;v--)y.push(p>>>v&1)}function a(p,g){return(p>>>g&1)!=0}function l(p){if(!p)throw new Error("Assertion error")}const d=class{constructor(p,g,y){if(this.mode=p,this.numChars=g,this.bitData=y,g<0)throw new RangeError("Invalid argument");this.bitData=y.slice()}static makeBytes(p){let g=[];for(const y of p)i(y,8,g);return new d(d.Mode.BYTE,p.length,g)}static makeNumeric(p){if(!d.isNumeric(p))throw new RangeError("String contains non-numeric characters");let g=[];for(let y=0;y<p.length;){const v=Math.min(p.length-y,3);i(parseInt(p.substr(y,v),10),v*3+1,g),y+=v}return new d(d.Mode.NUMERIC,p.length,g)}static makeAlphanumeric(p){if(!d.isAlphanumeric(p))throw new RangeError("String contains unencodable characters in alphanumeric mode");let g=[],y;for(y=0;y+2<=p.length;y+=2){let v=d.ALPHANUMERIC_CHARSET.indexOf(p.charAt(y))*45;v+=d.ALPHANUMERIC_CHARSET.indexOf(p.charAt(y+1)),i(v,11,g)}return y<p.length&&i(d.ALPHANUMERIC_CHARSET.indexOf(p.charAt(y)),6,g),new d(d.Mode.ALPHANUMERIC,p.length,g)}static makeSegments(p){return p==""?[]:d.isNumeric(p)?[d.makeNumeric(p)]:d.isAlphanumeric(p)?[d.makeAlphanumeric(p)]:[d.makeBytes(d.toUtf8ByteArray(p))]}static makeEci(p){let g=[];if(p<0)throw new RangeError("ECI assignment value out of range");if(p<128)i(p,8,g);else if(p<16384)i(2,2,g),i(p,14,g);else if(p<1e6)i(6,3,g),i(p,21,g);else throw new RangeError("ECI assignment value out of range");return new d(d.Mode.ECI,0,g)}static isNumeric(p){return d.NUMERIC_REGEX.test(p)}static isAlphanumeric(p){return d.ALPHANUMERIC_REGEX.test(p)}getData(){return this.bitData.slice()}static getTotalBits(p,g){let y=0;for(const v of p){const C=v.mode.numCharCountBits(g);if(v.numChars>=1<<C)return 1/0;y+=4+C+v.bitData.length}return y}static toUtf8ByteArray(p){p=encodeURI(p);let g=[];for(let y=0;y<p.length;y++)p.charAt(y)!="%"?g.push(p.charCodeAt(y)):(g.push(parseInt(p.substr(y+1,2),16)),y+=2);return g}};let m=d;m.NUMERIC_REGEX=/^[0-9]*$/,m.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,m.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=m})(ss||(ss={}));(e=>{(t=>{const n=class{constructor(a,l){this.ordinal=a,this.formatBits=l}};let i=n;i.LOW=new n(0,1),i.MEDIUM=new n(1,0),i.QUARTILE=new n(2,3),i.HIGH=new n(3,2),t.Ecc=i})(e.QrCode||(e.QrCode={}))})(ss||(ss={}));(e=>{(t=>{const n=class{constructor(a,l){this.modeBits=a,this.numBitsCharCount=l}numCharCountBits(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}};let i=n;i.NUMERIC=new n(1,[10,12,14]),i.ALPHANUMERIC=new n(2,[9,11,13]),i.BYTE=new n(4,[8,16,16]),i.KANJI=new n(8,[8,10,12]),i.ECI=new n(7,[0,0,0]),t.Mode=i})(e.QrSegment||(e.QrSegment={}))})(ss||(ss={}));var Vo=ss;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var cA={L:Vo.QrCode.Ecc.LOW,M:Vo.QrCode.Ecc.MEDIUM,Q:Vo.QrCode.Ecc.QUARTILE,H:Vo.QrCode.Ecc.HIGH},uA=128,fA="L",dA="#FFFFFF",hA="#000000",gA=!1,Gx=4,pA=.1;function mA(e,t=0){const n=[];return e.forEach(function(i,a){let l=null;i.forEach(function(d,m){if(!d&&l!==null){n.push(`M${l+t} ${a+t}h${m-l}v1H${l+t}z`),l=null;return}if(m===i.length-1){if(!d)return;l===null?n.push(`M${m+t},${a+t} h1v1H${m+t}z`):n.push(`M${l+t},${a+t} h${m+1-l}v1H${l+t}z`);return}d&&l===null&&(l=m)})}),n.join("")}function xA(e,t){return e.slice().map((n,i)=>i<t.y||i>=t.y+t.h?n:n.map((a,l)=>l<t.x||l>=t.x+t.w?a:!1))}function yA(e,t,n,i){if(i==null)return null;const a=n?Gx:0,l=e.length+a*2,d=Math.floor(t*pA),m=l/t,p=(i.width||d)*m,g=(i.height||d)*m,y=i.x==null?e.length/2-p/2:i.x*m,v=i.y==null?e.length/2-g/2:i.y*m;let C=null;if(i.excavate){let b=Math.floor(y),R=Math.floor(v),M=Math.ceil(p+y-b),D=Math.ceil(g+v-R);C={x:b,y:R,w:M,h:D}}return{x:y,y:v,h:g,w:p,excavation:C}}(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function wA(e){const t=e,{value:n,size:i=uA,level:a=fA,bgColor:l=dA,fgColor:d=hA,includeMargin:m=gA,imageSettings:p}=t,g=lA(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let y=Vo.QrCode.encodeText(n,cA[a]).getModules();const v=m?Gx:0,C=y.length+v*2,b=yA(y,i,m,p);let R=null;p!=null&&b!=null&&(b.excavation!=null&&(y=xA(y,b.excavation)),R=Vi.createElement("image",{xlinkHref:p.src,height:b.h,width:b.w,x:b.x+v,y:b.y+v,preserveAspectRatio:"none"}));const M=mA(y,v);return Vi.createElement("svg",aA({height:i,width:i,viewBox:`0 0 ${C} ${C}`},g),Vi.createElement("path",{fill:l,d:`M0,0 h${C}v${C}H0z`,shapeRendering:"crispEdges"}),Vi.createElement("path",{fill:d,d:M,shapeRendering:"crispEdges"}),R)}const vA=({billId:e,onClose:t})=>{const n=qc(),i=l=>{n(`/print/${e}?template=${l}&autoprint=true`)},a=async()=>{try{const p=await(await(await(await navigator.bluetooth.requestDevice({filters:[{services:["000018f0-0000-1000-8000-00805f9b34fb"]}]})).gatt.connect()).getPrimaryService("000018f0-0000-1000-8000-00805f9b34fb")).getCharacteristic("00002af1-0000-1000-8000-00805f9b34fb"),g=new TextEncoder;await p.writeValue(g.encode(`TEST PRINT

Hello World


`)),alert("Sent to Printer!")}catch(l){console.error(l),alert("Bluetooth Print Failed or Cancelled. Ensure printer is on and paired.")}};return Vi.useEffect(()=>{const l=localStorage.getItem("defaultPrinterType");l&&l!=="ask"&&i(l==="a4"?"professional":"simple")},[]),A.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-sm space-y-4",children:[A.jsx("h2",{className:"text-xl font-bold",children:"Print Receipt"}),A.jsxs("div",{className:"space-y-2",children:[A.jsxs(Pe,{variant:"outline",className:"w-full justify-start",onClick:()=>i("simple"),children:[A.jsx(b3,{className:"w-4 h-4 mr-2"}),"Thermal Print (Browser)"]}),A.jsxs(Pe,{variant:"outline",className:"w-full justify-start",onClick:()=>i("professional"),children:[A.jsx(xc,{className:"w-4 h-4 mr-2"}),"A4 Professional Invoice"]}),A.jsx(Pe,{variant:"ghost",className:"w-full justify-start text-blue-600",onClick:a,children:"Test Bluetooth Direct (Experimental)"})]}),A.jsx(Pe,{className:"w-full mt-4",onClick:t,children:"Close"})]})})},CA=()=>{const{t:e}=Ba(),[t,n]=K.useState([]),[i,a]=K.useState(""),[l,d]=K.useState(""),[m,p]=K.useState(!1),[g,y]=K.useState(null),[v,C]=K.useState(!1),[b,R]=K.useState("cash"),[M,D]=K.useState(null),[_,S]=K.useState(!1),I=Wn(()=>Te.profiles.toArray()),L=Wn(()=>Te.items.toArray());K.useEffect(()=>{I&&I.length>0&&!g&&y(I[0].id||null)},[I,g]);const V=L==null?void 0:L.filter(Z=>(Z.profileId===g||!Z.profileId)&&(Z.name.toLowerCase().includes(l.toLowerCase())||Z.sku.includes(l))).slice(0,5),U=Z=>{n(ye=>ye.find(Ge=>Ge.id===Z.id)?ye.map(Ge=>Ge.id===Z.id?{...Ge,quantity:Ge.quantity+1}:Ge):[...ye,{...Z,quantity:1}]),d("")},B=Z=>{const ye=L==null?void 0:L.find(be=>be.sku===Z);ye?(U(ye),p(!1)):(alert("Item not found!"),p(!1))},Q=(Z,ye)=>{n(be=>be.map(Ge=>{if(Ge.id===Z){const dt=Math.max(1,Ge.quantity+ye);return{...Ge,quantity:dt}}return Ge}))},z=Z=>{n(ye=>ye.filter(be=>be.id!==Z))},[ie,oe]=K.useState(0),[$,me]=K.useState("amount"),he=t.reduce((Z,ye)=>Z+ye.price*ye.quantity,0),G=$==="amount"?Math.max(0,he-ie):Math.max(0,he-he*ie/100),Ce=I==null?void 0:I.find(Z=>Z.id===g),[le,ee]=K.useState(""),ae=()=>{if(!(Ce!=null&&Ce.upiId))return"";const Z=encodeURIComponent(Ce.businessName),ye=Ce.upiId,be=G.toFixed(2);return`upi://pay?pa=${ye}&pn=${Z}&am=${be}&tn=${le}`},ge=(Z,ye)=>{if(ye===""){n(Ge=>Ge.map(dt=>dt.id===Z?{...dt,price:0}:dt));return}const be=parseFloat(ye);isNaN(be)||n(Ge=>Ge.map(dt=>dt.id===Z?{...dt,price:be}:dt))},Me=(Z,ye)=>{if(ye===""){n(Ge=>Ge.map(dt=>dt.id===Z?{...dt,mrp:0}:dt));return}const be=parseFloat(ye);isNaN(be)||n(Ge=>Ge.map(dt=>dt.id===Z?{...dt,mrp:be}:dt))},De=ls(),[Pt,Je]=K.useState(null);K.useEffect(()=>{const Z=De.state;if(Z!=null&&Z.editBill){const ye=Z.editBill;Je(ye.id),n(ye.items),a(ye.customerName||""),R(ye.paymentMode||"cash"),ye.discount&&(oe(ye.discount),me("amount")),window.history.replaceState({},document.title)}},[De]);const Er=async()=>{if(t.length===0)return;let Z;if(Pt){const ye=await Te.bills.get(Pt);if(ye){for(const be of ye.items)if(be.id){const Ge=await Te.items.get(be.id);Ge&&await Te.items.update(be.id,{stock:Ge.stock+be.quantity})}}await Te.bills.update(Pt,{date:new Date().toISOString(),customerName:i,items:t,totalAmount:G,paymentMode:b,discount:$==="amount"?ie:he*ie/100,profileId:g||void 0}),Z=Pt}else{const ye=await Te.bills.orderBy("billNo").last(),be=((ye==null?void 0:ye.billNo)||0)+1;Z=await Te.bills.add({billNo:be,date:new Date().toISOString(),customerName:i,items:t,totalAmount:G,paymentMode:b,discount:$==="amount"?ie:he*ie/100,profileId:g||void 0})}for(const ye of t)if(ye.id){const be=await Te.items.get(ye.id);be&&await Te.items.update(ye.id,{stock:be.stock-ye.quantity})}D(Z),n([]),a(""),oe(0),Je(null),C(!1),S(!0)};return A.jsxs("div",{className:"p-4 pb-24 max-w-md mx-auto min-h-screen relative flex flex-col",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h1",{className:"text-2xl font-bold",children:Pt?"Edit Bill":e("billing")}),A.jsxs("select",{className:"border rounded p-1 text-sm bg-white",value:g||"",onChange:Z=>y(Number(Z.target.value)),children:[A.jsx("option",{value:"",children:"Select Profile"}),I==null?void 0:I.map(Z=>A.jsx("option",{value:Z.id,children:Z.businessName},Z.id))]})]}),A.jsxs("div",{className:"space-y-3 mb-4",children:[A.jsx(pt,{placeholder:"Customer Name (Optional)",value:i,onChange:Z=>a(Z.target.value)}),A.jsxs("div",{className:"flex gap-2",children:[A.jsxs("div",{className:"relative flex-1",children:[A.jsx(pt,{placeholder:"Scan or Search Item...",value:l,onChange:Z=>d(Z.target.value)}),l&&A.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border shadow-lg z-10 max-h-40 overflow-auto rounded-b-lg",children:V==null?void 0:V.map(Z=>A.jsxs("div",{className:"p-2 hover:bg-slate-100 cursor-pointer border-b",onClick:()=>U(Z),children:[A.jsx("div",{className:"font-medium",children:Z.name}),A.jsxs("div",{className:"text-xs text-gray-500",children:["Stock: ",Z.stock," - ",Z.price]})]},Z.id))})]}),A.jsx(Pe,{size:"icon",variant:"outline",onClick:()=>p(!0),children:A.jsx(Km,{className:"w-5 h-5"})})]})]}),A.jsxs("div",{className:"flex-1 overflow-y-auto space-y-2 mb-40",children:[t.map((Z,ye)=>A.jsx(zn,{className:"p-2",children:A.jsxs("div",{className:"flex flex-col gap-2",children:[A.jsxs("div",{className:"flex justify-between items-start",children:[A.jsx("div",{className:"font-medium",children:Z.name}),A.jsx(Pe,{size:"icon",variant:"ghost",className:"h-6 w-6 text-red-500",onClick:()=>z(Z.id),children:A.jsx(Dh,{className:"w-3 h-3"})})]}),A.jsxs("div",{className:"flex justify-between items-center gap-2",children:[A.jsxs("div",{className:"flex flex-col gap-1 items-end",children:[A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx("span",{className:"text-xs font-bold text-gray-500 w-8 text-right",children:"MRP"}),A.jsx(pt,{type:"number",className:"h-7 w-20 px-1 py-0 text-right font-bold",value:Z.mrp||"",onChange:be=>Me(Z.id,be.target.value)})]}),A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx("span",{className:"text-xs font-bold text-gray-500 w-8 text-right",children:"Price"}),A.jsx(pt,{type:"number",className:"h-7 w-20 px-1 py-0 text-right font-bold",value:Z.price||"",onChange:be=>ge(Z.id,be.target.value)})]})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Pe,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>Q(Z.id,-1),children:A.jsx(C3,{className:"w-3 h-3"})}),A.jsx("span",{className:"text-sm font-bold w-4 text-center",children:Z.quantity}),A.jsx(Pe,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>Q(Z.id,1),children:A.jsx(Rh,{className:"w-3 h-3"})})]}),A.jsxs("div",{className:"font-bold min-w-[3rem] text-right",children:["",(Z.price*Z.quantity).toFixed(2)]})]})]})},ye)),t.length===0&&A.jsx("div",{className:"text-center text-gray-400 mt-10",children:"Empty Cart"})]}),A.jsxs("div",{className:"fixed bottom-16 left-0 right-0 p-4 bg-white border-t border-slate-200 shadow-md",children:[A.jsxs("div",{className:"space-y-2 mb-3",children:[A.jsxs("div",{className:"flex justify-between text-sm",children:[A.jsx("span",{children:"Subtotal"}),A.jsxs("span",{children:["",he.toFixed(2)]})]}),A.jsxs("div",{className:"flex justify-between items-center gap-2",children:[A.jsx("span",{className:"text-sm",children:"Discount"}),A.jsxs("div",{className:"flex items-center gap-1 w-1/2",children:[A.jsxs("select",{className:"h-7 text-xs border rounded bg-transparent",value:$,onChange:Z=>me(Z.target.value),children:[A.jsx("option",{value:"amount",children:""}),A.jsx("option",{value:"percentage",children:"%"})]}),A.jsx(pt,{type:"number",className:"h-7 text-right",placeholder:"0",value:ie||"",onChange:Z=>oe(Number(Z.target.value))})]})]}),A.jsxs("div",{className:"flex justify-between items-center text-lg font-bold pt-2 border-t",children:[A.jsx("span",{children:"Total Pay"}),A.jsxs("span",{children:["",G.toFixed(2)]})]})]}),A.jsx(Pe,{className:"w-full",size:"lg",disabled:t.length===0,onClick:()=>{ee(`Bill-${Date.now()}`),C(!0)},children:"Checkout"})]}),v&&A.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-sm space-y-4 max-h-[90vh] overflow-y-auto",children:[A.jsx("h2",{className:"text-xl font-bold",children:"Payment & Confirmation"}),A.jsxs("div",{className:"bg-slate-50 p-3 rounded text-sm space-y-2 border",children:[A.jsx("div",{className:"font-semibold text-center border-b pb-1 mb-2",children:"Bill Summary"}),A.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:t.map((Z,ye)=>A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{className:"truncate w-32",children:Z.name}),A.jsxs("span",{className:"text-gray-500",children:["x",Z.quantity]}),A.jsxs("span",{className:"font-medium",children:["",(Z.price*Z.quantity).toFixed(0)]})]},ye))}),A.jsxs("div",{className:"border-t pt-2 space-y-1",children:[A.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[A.jsx("span",{children:"Subtotal"}),A.jsxs("span",{children:["",he.toFixed(2)]})]}),ie>0&&A.jsxs("div",{className:"flex justify-between text-xs text-green-600",children:[A.jsx("span",{children:"Discount"}),A.jsxs("span",{children:["-",$==="amount"?ie:(he*ie/100).toFixed(2)]})]}),A.jsxs("div",{className:"flex justify-between font-bold text-lg pt-1",children:[A.jsx("span",{children:"Total Pay"}),A.jsxs("span",{children:["",G.toFixed(2)]})]})]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[A.jsx(Pe,{variant:b==="cash"?"default":"outline",onClick:()=>R("cash"),children:"Cash"}),A.jsx(Pe,{variant:b==="upi"?"default":"outline",onClick:()=>R("upi"),children:"UPI"})]}),b==="upi"&&(Ce==null?void 0:Ce.upiId)&&A.jsx("div",{className:"flex justify-center py-4 bg-slate-50 rounded",children:A.jsx(wA,{value:ae(),size:150})}),b==="upi"&&!(Ce!=null&&Ce.upiId)&&A.jsx("div",{className:"text-red-500 text-sm text-center",children:"No UPI ID configured in Settings"}),A.jsxs("div",{className:"flex gap-2 pt-2",children:[A.jsx(Pe,{variant:"outline",className:"flex-1",onClick:()=>C(!1),children:"Cancel"}),A.jsx(Pe,{className:"flex-1",onClick:Er,children:"Confirm & Save"})]})]})}),m&&A.jsx(Vx,{onScan:B,onClose:()=>p(!1)}),_&&M&&A.jsx(vA,{billId:M,onClose:()=>S(!1)})]})},EA=()=>{const{t:e}=Ba(),[t,n]=K.useState(Number(localStorage.getItem("defaultProfileId"))||null),i=Wn(()=>Te.profiles.toArray()),a=Wn(()=>Te.items.toArray()),l=Wn(()=>Te.bills.toArray());if(!a||!l)return A.jsx("div",{className:"p-4",children:"Loading stats..."});const d=a.filter(b=>t?b.profileId===t||!b.profileId:!0),m=l.filter(b=>t?b.profileId===t:!0),p=new Date().toISOString().split("T")[0],g=m.filter(b=>b.date.startsWith(p)),y=g.reduce((b,R)=>b+R.totalAmount,0),v=d.length,C=d.filter(b=>b.stock<(b.lowStockLimit||5)).length;return A.jsxs("div",{className:"p-4 bg-slate-50 min-h-screen pb-24",children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[A.jsx("h1",{className:"text-2xl font-bold",children:e("dashboard")}),A.jsxs("select",{className:"border rounded p-1 text-sm bg-white w-32",value:t||"",onChange:b=>n(Number(b.target.value)||null),children:[A.jsx("option",{value:"",children:"All Business"}),i==null?void 0:i.map(b=>A.jsx("option",{value:b.id,children:b.businessName},b.id))]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[A.jsxs(zn,{className:"col-span-2 bg-blue-600 text-white",children:[A.jsx(Or,{className:"pb-2",children:A.jsxs(Mr,{className:"text-sm font-medium flex items-center text-blue-100",children:[A.jsx(I3,{className:"w-4 h-4 mr-2"}),"Today's Sales"]})}),A.jsxs(tr,{children:[A.jsxs("div",{className:"text-3xl font-bold",children:["",y.toFixed(0)]}),A.jsxs("div",{className:"text-xs text-blue-100 mt-1",children:[g.length," Bills today"]})]})]}),A.jsxs(zn,{children:[A.jsx(Or,{className:"pb-2",children:A.jsxs(Mr,{className:"text-sm font-medium flex items-center text-gray-500",children:[A.jsx(sd,{className:"w-4 h-4 mr-2"}),"Total Items"]})}),A.jsx(tr,{children:A.jsx("div",{className:"text-2xl font-bold",children:v})})]}),A.jsxs(zn,{children:[A.jsx(Or,{className:"pb-2",children:A.jsxs(Mr,{className:"text-sm font-medium flex items-center text-gray-500",children:[A.jsx(h3,{className:"w-4 h-4 mr-2 text-amber-500"}),"Low Stock"]})}),A.jsx(tr,{children:A.jsx("div",{className:"text-2xl font-bold text-amber-600",children:C})})]})]}),A.jsx("h2",{className:"text-lg font-bold mb-3",children:"Quick Actions"}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("a",{href:"/billing",className:"p-4 bg-white rounded-lg border shadow-sm flex flex-col items-center justify-center gap-2 hover:bg-slate-50",children:[A.jsx("div",{className:"p-2 bg-green-100 rounded-full text-green-600",children:A.jsx(w3,{className:"w-6 h-6"})}),A.jsx("span",{className:"font-medium text-sm",children:"New Bill"})]}),A.jsxs("a",{href:"/inventory",className:"p-4 bg-white rounded-lg border shadow-sm flex flex-col items-center justify-center gap-2 hover:bg-slate-50",children:[A.jsx("div",{className:"p-2 bg-orange-100 rounded-full text-orange-600",children:A.jsx(sd,{className:"w-6 h-6"})}),A.jsx("span",{className:"font-medium text-sm",children:"Add Item"})]})]}),C>0&&A.jsxs("div",{className:"mt-6",children:[A.jsx("h3",{className:"font-semibold mb-2",children:"Low Stock Alerts"}),A.jsx("div",{className:"bg-white rounded-lg border divide-y",children:d.filter(b=>b.stock<(b.lowStockLimit||5)).slice(0,5).map(b=>A.jsxs("div",{className:"p-3 flex justify-between text-sm",children:[A.jsx("span",{children:b.name}),A.jsxs("span",{className:"font-bold text-red-500",children:[b.stock," left"]})]},b.id))})]})]})},AA=()=>{const e=qc(),[t,n]=K.useState(""),[i,a]=K.useState(Number(localStorage.getItem("defaultProfileId"))||null),l=Wn(()=>Te.profiles.toArray()),[d,m]=K.useState(""),[p,g]=K.useState(""),y=Wn(()=>Te.bills.orderBy("date").reverse().filter(b=>{var _;const R=i?b.profileId===i:!0,M=!t||((_=b.customerName)==null?void 0:_.toLowerCase().includes(t.toLowerCase()))||String(b.billNo).includes(t);let D=!0;if(d&&(D=D&&new Date(b.date)>=new Date(d)),p){const S=new Date(p);S.setHours(23,59,59,999),D=D&&new Date(b.date)<=S}return R&&M&&D}).toArray(),[t,i,d,p]),v=C=>{e("/print-bill",{state:{bill:C}})};return A.jsxs("div",{className:"p-4 space-y-4 pb-24 max-w-md mx-auto",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("h1",{className:"text-2xl font-bold",children:"Bill History"}),A.jsxs("select",{className:"border rounded p-1 text-sm bg-white w-40",value:i||"",onChange:C=>a(Number(C.target.value)||null),children:[A.jsx("option",{value:"",children:"All Businesses"}),l==null?void 0:l.map(C=>A.jsx("option",{value:C.id,children:C.businessName},C.id))]})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsxs("div",{className:"flex gap-2",children:[A.jsxs("div",{className:"flex-1",children:[A.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"From"}),A.jsx(pt,{type:"date",className:"h-8 text-sm",value:d,onChange:C=>m(C.target.value)})]}),A.jsxs("div",{className:"flex-1",children:[A.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"To"}),A.jsx(pt,{type:"date",className:"h-8 text-sm",value:p,onChange:C=>g(C.target.value)})]})]}),A.jsxs("div",{className:"relative",children:[A.jsx(Qm,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-500"}),A.jsx(pt,{placeholder:"Search by name or bill no...",className:"pl-9",value:t,onChange:C=>n(C.target.value)})]})]}),A.jsxs("div",{className:"space-y-3",children:[y==null?void 0:y.map(C=>A.jsx(zn,{className:"overflow-hidden",children:A.jsxs(tr,{className:"p-3 flex justify-between items-center",children:[A.jsxs("div",{children:[A.jsxs("div",{className:"font-semibold flex items-center gap-2",children:[A.jsx(m3,{className:"w-4 h-4 text-blue-500"}),"Bill #",C.billNo]}),A.jsxs("div",{className:"text-sm text-gray-600",children:[new Date(C.date).toLocaleDateString()," - ",new Date(C.date).toLocaleTimeString()]}),A.jsx("div",{className:"text-sm font-medium",children:C.customerName||"Walk-in Customer"})]}),A.jsxs("div",{className:"flex flex-col items-end gap-2",children:[A.jsxs("span",{className:"font-bold text-lg",children:["",C.totalAmount]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:"text-xs px-2 py-1 bg-slate-100 rounded uppercase",children:C.paymentMode}),A.jsx(Pe,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>v(C),children:A.jsx(xc,{className:"w-4 h-4"})}),A.jsx(Pe,{size:"sm",variant:"outline",className:"h-8 text-xs text-blue-600 border-blue-200 hover:bg-blue-50",onClick:()=>e("/billing",{state:{editBill:C}}),children:"Edit"})]})]})]})},C.id)),(y==null?void 0:y.length)===0&&A.jsx("div",{className:"text-center py-8 text-gray-500",children:"No bills found"})]})]})};function SA(){const[e,t]=K.useState(!navigator.onLine);return K.useEffect(()=>{const n=()=>t(!1),i=()=>t(!0);return window.addEventListener("online",n),window.addEventListener("offline",i),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}},[]),A.jsxs(n3,{children:[e&&A.jsxs("div",{className:"bg-red-500 text-white text-xs text-center p-1 fixed top-0 w-full z-50 flex justify-center items-center gap-2",children:[A.jsx(N3,{className:"w-3 h-3"}),A.jsx("span",{children:"You are offline. App working in offline mode."})]}),A.jsxs(Xv,{children:[A.jsxs(ri,{path:"/",element:A.jsx(AC,{}),children:[A.jsx(ri,{index:!0,element:A.jsx(EA,{})}),A.jsx(ri,{path:"billing",element:A.jsx(CA,{})}),A.jsx(ri,{path:"inventory",element:A.jsx(sA,{})}),A.jsx(ri,{path:"history",element:A.jsx(AA,{})}),A.jsx(ri,{path:"settings",element:A.jsx(xE,{})})]}),A.jsx(ri,{path:"/print/:id",element:A.jsx(vE,{})})]})]})}const Ie=e=>typeof e=="string",Lo=()=>{let e,t;const n=new Promise((i,a)=>{e=i,t=a});return n.resolve=e,n.reject=t,n},fg=e=>e==null?"":""+e,bA=(e,t,n)=>{e.forEach(i=>{t[i]&&(n[i]=t[i])})},IA=/###/g,dg=e=>e&&e.indexOf("###")>-1?e.replace(IA,"."):e,hg=e=>!e||Ie(e),ra=(e,t,n)=>{const i=Ie(t)?t.split("."):t;let a=0;for(;a<i.length-1;){if(hg(e))return{};const l=dg(i[a]);!e[l]&&n&&(e[l]=new n),Object.prototype.hasOwnProperty.call(e,l)?e=e[l]:e={},++a}return hg(e)?{}:{obj:e,k:dg(i[a])}},gg=(e,t,n)=>{const{obj:i,k:a}=ra(e,t,Object);if(i!==void 0||t.length===1){i[a]=n;return}let l=t[t.length-1],d=t.slice(0,t.length-1),m=ra(e,d,Object);for(;m.obj===void 0&&d.length;)l=`${d[d.length-1]}.${l}`,d=d.slice(0,d.length-1),m=ra(e,d,Object),m&&m.obj&&typeof m.obj[`${m.k}.${l}`]<"u"&&(m.obj=void 0);m.obj[`${m.k}.${l}`]=n},NA=(e,t,n,i)=>{const{obj:a,k:l}=ra(e,t,Object);a[l]=a[l]||[],a[l].push(n)},_c=(e,t)=>{const{obj:n,k:i}=ra(e,t);if(n)return n[i]},TA=(e,t,n)=>{const i=_c(e,n);return i!==void 0?i:_c(t,n)},Yx=(e,t,n)=>{for(const i in t)i!=="__proto__"&&i!=="constructor"&&(i in e?Ie(e[i])||e[i]instanceof String||Ie(t[i])||t[i]instanceof String?n&&(e[i]=t[i]):Yx(e[i],t[i],n):e[i]=t[i]);return e},Ss=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var _A={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const OA=e=>Ie(e)?e.replace(/[&<>"'\/]/g,t=>_A[t]):e;class MA{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const i=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,i),this.regExpQueue.push(t),i}}const RA=[" ",",","?","!",";"],DA=new MA(20),kA=(e,t,n)=>{t=t||"",n=n||"";const i=RA.filter(d=>t.indexOf(d)<0&&n.indexOf(d)<0);if(i.length===0)return!0;const a=DA.getRegExp(`(${i.map(d=>d==="?"?"\\?":d).join("|")})`);let l=!a.test(e);if(!l){const d=e.indexOf(n);d>0&&!a.test(e.substring(0,d))&&(l=!0)}return l},Pd=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const i=t.split(n);let a=e;for(let l=0;l<i.length;){if(!a||typeof a!="object")return;let d,m="";for(let p=l;p<i.length;++p)if(p!==l&&(m+=n),m+=i[p],d=a[m],d!==void 0){if(["string","number","boolean"].indexOf(typeof d)>-1&&p<i.length-1)continue;l+=p-l+1;break}a=d}return a},Oc=e=>e&&e.replace("_","-"),LA={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class Mc{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||LA,this.options=n,this.debug=n.debug}log(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.forward(n,"log","",!0)}warn(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.forward(n,"warn","",!0)}error(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.forward(n,"error","")}deprecate(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,i,a){return a&&!this.debug?null:(Ie(t[0])&&(t[0]=`${i}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Mc(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Mc(this.logger,t)}}var yr=new Mc;class tu{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const a=this.observers[i].get(n)||0;this.observers[i].set(n,a+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(d=>{let[m,p]=d;for(let g=0;g<p;g++)m(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(d=>{let[m,p]=d;for(let g=0;g<p;g++)m.apply(m,[t,...i])})}}class pg extends tu{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,d=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let m;t.indexOf(".")>-1?m=t.split("."):(m=[t,n],i&&(Array.isArray(i)?m.push(...i):Ie(i)&&l?m.push(...i.split(l)):m.push(i)));const p=_c(this.data,m);return!p&&!n&&!i&&t.indexOf(".")>-1&&(t=m[0],n=m[1],i=m.slice(2).join(".")),p||!d||!Ie(i)?p:Pd(this.data&&this.data[t]&&this.data[t][n],i,l)}addResource(t,n,i,a){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const d=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator;let m=[t,n];i&&(m=m.concat(d?i.split(d):i)),t.indexOf(".")>-1&&(m=t.split("."),a=n,n=m[1]),this.addNamespaces(n),gg(this.data,m,a),l.silent||this.emit("added",t,n,i,a)}addResources(t,n,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const l in i)(Ie(i[l])||Array.isArray(i[l]))&&this.addResource(t,n,l,i[l],{silent:!0});a.silent||this.emit("added",t,n,i)}addResourceBundle(t,n,i,a,l){let d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},m=[t,n];t.indexOf(".")>-1&&(m=t.split("."),a=i,i=n,n=m[1]),this.addNamespaces(n);let p=_c(this.data,m)||{};d.skipCopy||(i=JSON.parse(JSON.stringify(i))),a?Yx(p,i,l):p={...p,...i},gg(this.data,m,p),d.silent||this.emit("added",t,n,i)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,n)}:this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(a=>n[a]&&Object.keys(n[a]).length>0)}toJSON(){return this.data}}var Xx={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,i,a){return e.forEach(l=>{this.processors[l]&&(t=this.processors[l].process(t,n,i,a))}),t}};const mg={};class Rc extends tu{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),bA(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=yr.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const i=this.resolve(t,n);return i&&i.res!==void 0}extractFromKey(t,n){let i=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let l=n.ns||this.options.defaultNS||[];const d=i&&t.indexOf(i)>-1,m=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!kA(t,i,a);if(d&&!m){const p=t.match(this.interpolator.nestingRegexp);if(p&&p.length>0)return{key:t,namespaces:Ie(l)?[l]:l};const g=t.split(i);(i!==a||i===a&&this.options.ns.indexOf(g[0])>-1)&&(l=g.shift()),t=g.join(a)}return{key:t,namespaces:Ie(l)?[l]:l}}translate(t,n,i){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const a=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,l=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:d,namespaces:m}=this.extractFromKey(t[t.length-1],n),p=m[m.length-1],g=n.lng||this.language,y=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(g&&g.toLowerCase()==="cimode"){if(y){const L=n.nsSeparator||this.options.nsSeparator;return a?{res:`${p}${L}${d}`,usedKey:d,exactUsedKey:d,usedLng:g,usedNS:p,usedParams:this.getUsedParamsDetails(n)}:`${p}${L}${d}`}return a?{res:d,usedKey:d,exactUsedKey:d,usedLng:g,usedNS:p,usedParams:this.getUsedParamsDetails(n)}:d}const v=this.resolve(t,n);let C=v&&v.res;const b=v&&v.usedKey||d,R=v&&v.exactUsedKey||d,M=Object.prototype.toString.apply(C),D=["[object Number]","[object Function]","[object RegExp]"],_=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject,I=!Ie(C)&&typeof C!="boolean"&&typeof C!="number";if(S&&C&&I&&D.indexOf(M)<0&&!(Ie(_)&&Array.isArray(C))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const L=this.options.returnedObjectHandler?this.options.returnedObjectHandler(b,C,{...n,ns:m}):`key '${d} (${this.language})' returned an object instead of string.`;return a?(v.res=L,v.usedParams=this.getUsedParamsDetails(n),v):L}if(l){const L=Array.isArray(C),V=L?[]:{},U=L?R:b;for(const B in C)if(Object.prototype.hasOwnProperty.call(C,B)){const Q=`${U}${l}${B}`;V[B]=this.translate(Q,{...n,joinArrays:!1,ns:m}),V[B]===Q&&(V[B]=C[B])}C=V}}else if(S&&Ie(_)&&Array.isArray(C))C=C.join(_),C&&(C=this.extendTranslation(C,t,n,i));else{let L=!1,V=!1;const U=n.count!==void 0&&!Ie(n.count),B=Rc.hasDefaultValue(n),Q=U?this.pluralResolver.getSuffix(g,n.count,n):"",z=n.ordinal&&U?this.pluralResolver.getSuffix(g,n.count,{ordinal:!1}):"",ie=U&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),oe=ie&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${Q}`]||n[`defaultValue${z}`]||n.defaultValue;!this.isValidLookup(C)&&B&&(L=!0,C=oe),this.isValidLookup(C)||(V=!0,C=d);const me=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&V?void 0:C,he=B&&oe!==C&&this.options.updateMissing;if(V||L||he){if(this.logger.log(he?"updateKey":"missingKey",g,p,d,he?oe:C),l){const ee=this.resolve(d,{...n,keySeparator:!1});ee&&ee.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let G=[];const Ce=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ce&&Ce[0])for(let ee=0;ee<Ce.length;ee++)G.push(Ce[ee]);else this.options.saveMissingTo==="all"?G=this.languageUtils.toResolveHierarchy(n.lng||this.language):G.push(n.lng||this.language);const le=(ee,ae,ge)=>{const Me=B&&ge!==C?ge:me;this.options.missingKeyHandler?this.options.missingKeyHandler(ee,p,ae,Me,he,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(ee,p,ae,Me,he,n),this.emit("missingKey",ee,p,ae,C)};this.options.saveMissing&&(this.options.saveMissingPlurals&&U?G.forEach(ee=>{const ae=this.pluralResolver.getSuffixes(ee,n);ie&&n[`defaultValue${this.options.pluralSeparator}zero`]&&ae.indexOf(`${this.options.pluralSeparator}zero`)<0&&ae.push(`${this.options.pluralSeparator}zero`),ae.forEach(ge=>{le([ee],d+ge,n[`defaultValue${ge}`]||oe)})}):le(G,d,oe))}C=this.extendTranslation(C,t,n,v,i),V&&C===d&&this.options.appendNamespaceToMissingKey&&(C=`${p}:${d}`),(V||L)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?C=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${p}:${d}`:d,L?C:void 0):C=this.options.parseMissingKeyHandler(C))}return a?(v.res=C,v.usedParams=this.getUsedParamsDetails(n),v):C}extendTranslation(t,n,i,a,l){var d=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const g=Ie(t)&&(i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let y;if(g){const C=t.match(this.interpolator.nestingRegexp);y=C&&C.length}let v=i.replace&&!Ie(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(v={...this.options.interpolation.defaultVariables,...v}),t=this.interpolator.interpolate(t,v,i.lng||this.language||a.usedLng,i),g){const C=t.match(this.interpolator.nestingRegexp),b=C&&C.length;y<b&&(i.nest=!1)}!i.lng&&this.options.compatibilityAPI!=="v1"&&a&&a.res&&(i.lng=this.language||a.usedLng),i.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var C=arguments.length,b=new Array(C),R=0;R<C;R++)b[R]=arguments[R];return l&&l[0]===b[0]&&!i.context?(d.logger.warn(`It seems you are nesting recursively key: ${b[0]} in key: ${n[0]}`),null):d.translate(...b,n)},i)),i.interpolation&&this.interpolator.reset()}const m=i.postProcess||this.options.postProcess,p=Ie(m)?[m]:m;return t!=null&&p&&p.length&&i.applyPostProcessor!==!1&&(t=Xx.handle(p,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),t}resolve(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i,a,l,d,m;return Ie(t)&&(t=[t]),t.forEach(p=>{if(this.isValidLookup(i))return;const g=this.extractFromKey(p,n),y=g.key;a=y;let v=g.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const C=n.count!==void 0&&!Ie(n.count),b=C&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),R=n.context!==void 0&&(Ie(n.context)||typeof n.context=="number")&&n.context!=="",M=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);v.forEach(D=>{this.isValidLookup(i)||(m=D,!mg[`${M[0]}-${D}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(m)&&(mg[`${M[0]}-${D}`]=!0,this.logger.warn(`key "${a}" for languages "${M.join(", ")}" won't get resolved as namespace "${m}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),M.forEach(_=>{if(this.isValidLookup(i))return;d=_;const S=[y];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(S,y,_,D,n);else{let L;C&&(L=this.pluralResolver.getSuffix(_,n.count,n));const V=`${this.options.pluralSeparator}zero`,U=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(C&&(S.push(y+L),n.ordinal&&L.indexOf(U)===0&&S.push(y+L.replace(U,this.options.pluralSeparator)),b&&S.push(y+V)),R){const B=`${y}${this.options.contextSeparator}${n.context}`;S.push(B),C&&(S.push(B+L),n.ordinal&&L.indexOf(U)===0&&S.push(B+L.replace(U,this.options.pluralSeparator)),b&&S.push(B+V))}}let I;for(;I=S.pop();)this.isValidLookup(i)||(l=I,i=this.getResource(_,D,I,n))}))})}),{res:i,usedKey:a,exactUsedKey:l,usedLng:d,usedNS:m}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,n,i,a):this.resourceStore.getResource(t,n,i,a)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=t.replace&&!Ie(t.replace);let a=i?t.replace:t;if(i&&typeof t.count<"u"&&(a.count=t.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!i){a={...a};for(const l of n)delete a[l]}return a}static hasDefaultValue(t){const n="defaultValue";for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&n===i.substring(0,n.length)&&t[i]!==void 0)return!0;return!1}}const rf=e=>e.charAt(0).toUpperCase()+e.slice(1);class xg{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=yr.create("languageUtils")}getScriptPartFromCode(t){if(t=Oc(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=Oc(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(Ie(t)&&t.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let a=Intl.getCanonicalLocales(t)[0];if(a&&this.options.lowerCaseLng&&(a=a.toLowerCase()),a)return a}catch{}const n=["hans","hant","latn","cyrl","cans","mong","arab"];let i=t.split("-");return this.options.lowerCaseLng?i=i.map(a=>a.toLowerCase()):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=rf(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=rf(i[1].toLowerCase())),n.indexOf(i[2].toLowerCase())>-1&&(i[2]=rf(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(i=>{if(n)return;const a=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(a))&&(n=a)}),!n&&this.options.supportedLngs&&t.forEach(i=>{if(n)return;const a=this.getLanguagePartFromCode(i);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(l=>{if(l===a)return l;if(!(l.indexOf("-")<0&&a.indexOf("-")<0)&&(l.indexOf("-")>0&&a.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===a||l.indexOf(a)===0&&a.length>1))return l})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),Ie(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let i=t[n];return i||(i=t[this.getScriptPartFromCode(n)]),i||(i=t[this.formatLanguageCode(n)]),i||(i=t[this.getLanguagePartFromCode(n)]),i||(i=t.default),i||[]}toResolveHierarchy(t,n){const i=this.getFallbackCodes(n||this.options.fallbackLng||[],t),a=[],l=d=>{d&&(this.isSupportedCode(d)?a.push(d):this.logger.warn(`rejecting language code not found in supportedLngs: ${d}`))};return Ie(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(t))):Ie(t)&&l(this.formatLanguageCode(t)),i.forEach(d=>{a.indexOf(d)<0&&l(this.formatLanguageCode(d))}),a}}let PA=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],BA={1:e=>+(e>1),2:e=>+(e!=1),3:e=>0,4:e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,5:e=>e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5,6:e=>e==1?0:e>=2&&e<=4?1:2,7:e=>e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,8:e=>e==1?0:e==2?1:e!=8&&e!=11?2:3,9:e=>+(e>=2),10:e=>e==1?0:e==2?1:e<7?2:e<11?3:4,11:e=>e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3,12:e=>+(e%10!=1||e%100==11),13:e=>+(e!==0),14:e=>e==1?0:e==2?1:e==3?2:3,15:e=>e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2,16:e=>e%10==1&&e%100!=11?0:e!==0?1:2,17:e=>e==1||e%10==1&&e%100!=11?0:1,18:e=>e==0?0:e==1?1:2,19:e=>e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3,20:e=>e==1?0:e==0||e%100>0&&e%100<20?1:2,21:e=>e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0,22:e=>e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3};const FA=["v1","v2","v3"],jA=["v4"],yg={zero:0,one:1,two:2,few:3,many:4,other:5},UA=()=>{const e={};return PA.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:BA[t.fc]}})}),e};class zA{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=yr.create("pluralResolver"),(!this.options.compatibilityJSON||jA.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=UA(),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const i=Oc(t==="dev"?"en":t),a=n.ordinal?"ordinal":"cardinal",l=JSON.stringify({cleanedCode:i,type:a});if(l in this.pluralRulesCache)return this.pluralRulesCache[l];let d;try{d=new Intl.PluralRules(i,{type:a})}catch{if(!t.match(/-|_/))return;const p=this.languageUtils.getLanguagePartFromCode(t);d=this.getRule(p,n)}return this.pluralRulesCache[l]=d,d}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(t,n);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}getPluralFormsOfKey(t,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,i).map(a=>`${n}${a}`)}getSuffixes(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(t,n);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort((a,l)=>yg[a]-yg[l]).map(a=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a}`):i.numbers.map(a=>this.getSuffix(t,a,n)):[]}getSuffix(t,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=this.getRule(t,i);return a?this.shouldUseIntlApi()?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${a.select(n)}`:this.getSuffixRetroCompatible(a,n):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,n){const i=t.noAbs?t.plurals(n):t.plurals(Math.abs(n));let a=t.numbers[i];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(a===2?a="plural":a===1&&(a=""));const l=()=>this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString();return this.options.compatibilityJSON==="v1"?a===1?"":typeof a=="number"?`_plural_${a.toString()}`:l():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?l():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}shouldUseIntlApi(){return!FA.includes(this.options.compatibilityJSON)}}const wg=function(e,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=TA(e,t,n);return!l&&a&&Ie(n)&&(l=Pd(e,n,i),l===void 0&&(l=Pd(t,n,i))),l},sf=e=>e.replace(/\$/g,"$$$$");class VA{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=yr.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(n=>n),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:i,useRawValueToEscape:a,prefix:l,prefixEscaped:d,suffix:m,suffixEscaped:p,formatSeparator:g,unescapeSuffix:y,unescapePrefix:v,nestingPrefix:C,nestingPrefixEscaped:b,nestingSuffix:R,nestingSuffixEscaped:M,nestingOptionsSeparator:D,maxReplaces:_,alwaysFormat:S}=t.interpolation;this.escape=n!==void 0?n:OA,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=l?Ss(l):d||"{{",this.suffix=m?Ss(m):p||"}}",this.formatSeparator=g||",",this.unescapePrefix=y?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":y||"",this.nestingPrefix=C?Ss(C):b||Ss("$t("),this.nestingSuffix=R?Ss(R):M||Ss(")"),this.nestingOptionsSeparator=D||",",this.maxReplaces=_||1e3,this.alwaysFormat=S!==void 0?S:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,i)=>n&&n.source===i?(n.lastIndex=0,n):new RegExp(i,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,i,a){let l,d,m;const p=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=b=>{if(b.indexOf(this.formatSeparator)<0){const _=wg(n,p,b,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(_,void 0,i,{...a,...n,interpolationkey:b}):_}const R=b.split(this.formatSeparator),M=R.shift().trim(),D=R.join(this.formatSeparator).trim();return this.format(wg(n,p,M,this.options.keySeparator,this.options.ignoreJSONStructure),D,i,{...a,...n,interpolationkey:M})};this.resetRegExp();const y=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,v=a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:b=>sf(b)},{regex:this.regexp,safeValue:b=>this.escapeValue?sf(this.escape(b)):sf(b)}].forEach(b=>{for(m=0;l=b.regex.exec(t);){const R=l[1].trim();if(d=g(R),d===void 0)if(typeof y=="function"){const D=y(t,l,a);d=Ie(D)?D:""}else if(a&&Object.prototype.hasOwnProperty.call(a,R))d="";else if(v){d=l[0];continue}else this.logger.warn(`missed to pass in variable ${R} for interpolating ${t}`),d="";else!Ie(d)&&!this.useRawValueToEscape&&(d=fg(d));const M=b.safeValue(d);if(t=t.replace(l[0],M),v?(b.regex.lastIndex+=d.length,b.regex.lastIndex-=l[0].length):b.regex.lastIndex=0,m++,m>=this.maxReplaces)break}}),t}nest(t,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,l,d;const m=(p,g)=>{const y=this.nestingOptionsSeparator;if(p.indexOf(y)<0)return p;const v=p.split(new RegExp(`${y}[ ]*{`));let C=`{${v[1]}`;p=v[0],C=this.interpolate(C,d);const b=C.match(/'/g),R=C.match(/"/g);(b&&b.length%2===0&&!R||R.length%2!==0)&&(C=C.replace(/'/g,'"'));try{d=JSON.parse(C),g&&(d={...g,...d})}catch(M){return this.logger.warn(`failed parsing options string in nesting for key ${p}`,M),`${p}${y}${C}`}return d.defaultValue&&d.defaultValue.indexOf(this.prefix)>-1&&delete d.defaultValue,p};for(;a=this.nestingRegexp.exec(t);){let p=[];d={...i},d=d.replace&&!Ie(d.replace)?d.replace:d,d.applyPostProcessor=!1,delete d.defaultValue;let g=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){const y=a[1].split(this.formatSeparator).map(v=>v.trim());a[1]=y.shift(),p=y,g=!0}if(l=n(m.call(this,a[1].trim(),d),d),l&&a[0]===t&&!Ie(l))return l;Ie(l)||(l=fg(l)),l||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${t}`),l=""),g&&(l=p.reduce((y,v)=>this.format(y,v,i.lng,{...i,interpolationkey:a[1].trim()}),l.trim())),t=t.replace(a[0],l),this.regexp.lastIndex=0}return t}}const HA=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const i=e.split("(");t=i[0].toLowerCase().trim();const a=i[1].substring(0,i[1].length-1);t==="currency"&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):t==="relativetime"&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach(d=>{if(d){const[m,...p]=d.split(":"),g=p.join(":").trim().replace(/^'+|'+$/g,""),y=m.trim();n[y]||(n[y]=g),g==="false"&&(n[y]=!1),g==="true"&&(n[y]=!0),isNaN(g)||(n[y]=parseInt(g,10))}})}return{formatName:t,formatOptions:n}},bs=e=>{const t={};return(n,i,a)=>{let l=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(l={...l,[a.interpolationkey]:void 0});const d=i+JSON.stringify(l);let m=t[d];return m||(m=e(Oc(i),a),t[d]=m),m(n)}};class WA{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=yr.create("formatter"),this.options=t,this.formats={number:bs((n,i)=>{const a=new Intl.NumberFormat(n,{...i});return l=>a.format(l)}),currency:bs((n,i)=>{const a=new Intl.NumberFormat(n,{...i,style:"currency"});return l=>a.format(l)}),datetime:bs((n,i)=>{const a=new Intl.DateTimeFormat(n,{...i});return l=>a.format(l)}),relativetime:bs((n,i)=>{const a=new Intl.RelativeTimeFormat(n,{...i});return l=>a.format(l,i.range||"day")}),list:bs((n,i)=>{const a=new Intl.ListFormat(n,{...i});return l=>a.format(l)})},this.init(t)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=bs(n)}format(t,n,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const l=n.split(this.formatSeparator);if(l.length>1&&l[0].indexOf("(")>1&&l[0].indexOf(")")<0&&l.find(m=>m.indexOf(")")>-1)){const m=l.findIndex(p=>p.indexOf(")")>-1);l[0]=[l[0],...l.splice(1,m)].join(this.formatSeparator)}return l.reduce((m,p)=>{const{formatName:g,formatOptions:y}=HA(p);if(this.formats[g]){let v=m;try{const C=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},b=C.locale||C.lng||a.locale||a.lng||i;v=this.formats[g](m,b,{...y,...a,...C})}catch(C){this.logger.warn(C)}return v}else this.logger.warn(`there was no format function for ${g}`);return m},t)}}const GA=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class YA extends tu{constructor(t,n,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=n,this.services=i,this.languageUtils=i.languageUtils,this.options=a,this.logger=yr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(i,a.backend,a)}queueLoad(t,n,i,a){const l={},d={},m={},p={};return t.forEach(g=>{let y=!0;n.forEach(v=>{const C=`${g}|${v}`;!i.reload&&this.store.hasResourceBundle(g,v)?this.state[C]=2:this.state[C]<0||(this.state[C]===1?d[C]===void 0&&(d[C]=!0):(this.state[C]=1,y=!1,d[C]===void 0&&(d[C]=!0),l[C]===void 0&&(l[C]=!0),p[v]===void 0&&(p[v]=!0)))}),y||(m[g]=!0)}),(Object.keys(l).length||Object.keys(d).length)&&this.queue.push({pending:d,pendingCount:Object.keys(d).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(l),pending:Object.keys(d),toLoadLanguages:Object.keys(m),toLoadNamespaces:Object.keys(p)}}loaded(t,n,i){const a=t.split("|"),l=a[0],d=a[1];n&&this.emit("failedLoading",l,d,n),!n&&i&&this.store.addResourceBundle(l,d,i,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&i&&(this.state[t]=0);const m={};this.queue.forEach(p=>{NA(p.loaded,[l],d),GA(p,t),n&&p.errors.push(n),p.pendingCount===0&&!p.done&&(Object.keys(p.loaded).forEach(g=>{m[g]||(m[g]={});const y=p.loaded[g];y.length&&y.forEach(v=>{m[g][v]===void 0&&(m[g][v]=!0)})}),p.done=!0,p.errors.length?p.callback(p.errors):p.callback())}),this.emit("loaded",m),this.queue=this.queue.filter(p=>!p.done)}read(t,n,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,d=arguments.length>5?arguments[5]:void 0;if(!t.length)return d(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:i,tried:a,wait:l,callback:d});return}this.readingCalls++;const m=(g,y)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(g&&y&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,i,a+1,l*2,d)},l);return}d(g,y)},p=this.backend[i].bind(this.backend);if(p.length===2){try{const g=p(t,n);g&&typeof g.then=="function"?g.then(y=>m(null,y)).catch(m):m(null,g)}catch(g){m(g)}return}return p(t,n,m)}prepareLoading(t,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Ie(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Ie(n)&&(n=[n]);const l=this.queueLoad(t,n,i,a);if(!l.toLoad.length)return l.pending.length||a(),null;l.toLoad.forEach(d=>{this.loadOne(d)})}load(t,n,i){this.prepareLoading(t,n,{},i)}reload(t,n,i){this.prepareLoading(t,n,{reload:!0},i)}loadOne(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const i=t.split("|"),a=i[0],l=i[1];this.read(a,l,"read",void 0,void 0,(d,m)=>{d&&this.logger.warn(`${n}loading namespace ${l} for language ${a} failed`,d),!d&&m&&this.logger.log(`${n}loaded namespace ${l} for language ${a}`,m),this.loaded(t,d,m)})}saveMissing(t,n,i,a,l){let d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},m=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${i}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend&&this.backend.create){const p={...d,isUpdate:l},g=this.backend.create.bind(this.backend);if(g.length<6)try{let y;g.length===5?y=g(t,n,i,a,p):y=g(t,n,i,a),y&&typeof y.then=="function"?y.then(v=>m(null,v)).catch(m):m(null,y)}catch(y){m(y)}else g(t,n,i,a,m,p)}!t||!t[0]||this.store.addResource(t[0],n,i,a)}}}const vg=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Ie(e[1])&&(t.defaultValue=e[1]),Ie(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(i=>{t[i]=n[i]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Cg=e=>(Ie(e.ns)&&(e.ns=[e.ns]),Ie(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Ie(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),bl=()=>{},XA=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class Oa extends tu{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Cg(t),this.services={},this.logger=yr,this.modules={external:[]},XA(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(i=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(Ie(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const a=vg();this.options={...a,...this.options,...Cg(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...a.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const l=y=>y?typeof y=="function"?new y:y:null;if(!this.options.isClone){this.modules.logger?yr.init(l(this.modules.logger),this.options):yr.init(null,this.options);let y;this.modules.formatter?y=this.modules.formatter:typeof Intl<"u"&&(y=WA);const v=new xg(this.options);this.store=new pg(this.options.resources,this.options);const C=this.services;C.logger=yr,C.resourceStore=this.store,C.languageUtils=v,C.pluralResolver=new zA(v,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),y&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(C.formatter=l(y),C.formatter.init(C,this.options),this.options.interpolation.format=C.formatter.format.bind(C.formatter)),C.interpolator=new VA(this.options),C.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},C.backendConnector=new YA(l(this.modules.backend),C.resourceStore,C,this.options),C.backendConnector.on("*",function(b){for(var R=arguments.length,M=new Array(R>1?R-1:0),D=1;D<R;D++)M[D-1]=arguments[D];t.emit(b,...M)}),this.modules.languageDetector&&(C.languageDetector=l(this.modules.languageDetector),C.languageDetector.init&&C.languageDetector.init(C,this.options.detection,this.options)),this.modules.i18nFormat&&(C.i18nFormat=l(this.modules.i18nFormat),C.i18nFormat.init&&C.i18nFormat.init(this)),this.translator=new Rc(this.services,this.options),this.translator.on("*",function(b){for(var R=arguments.length,M=new Array(R>1?R-1:0),D=1;D<R;D++)M[D-1]=arguments[D];t.emit(b,...M)}),this.modules.external.forEach(b=>{b.init&&b.init(this)})}if(this.format=this.options.interpolation.format,i||(i=bl),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const y=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);y.length>0&&y[0]!=="dev"&&(this.options.lng=y[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(y=>{this[y]=function(){return t.store[y](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(y=>{this[y]=function(){return t.store[y](...arguments),t}});const p=Lo(),g=()=>{const y=(v,C)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),p.resolve(C),i(v,C)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return y(null,this.t.bind(this));this.changeLanguage(this.options.lng,y)};return this.options.resources||!this.options.initImmediate?g():setTimeout(g,0),p}loadResources(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bl;const a=Ie(t)?t:this.language;if(typeof t=="function"&&(i=t),!this.options.resources||this.options.partialBundledLanguages){if(a&&a.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const l=[],d=m=>{if(!m||m==="cimode")return;this.services.languageUtils.toResolveHierarchy(m).forEach(g=>{g!=="cimode"&&l.indexOf(g)<0&&l.push(g)})};a?d(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(p=>d(p)),this.options.preload&&this.options.preload.forEach(m=>d(m)),this.services.backendConnector.load(l,this.options.ns,m=>{!m&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(m)})}else i(null)}reloadResources(t,n,i){const a=Lo();return typeof t=="function"&&(i=t,t=void 0),typeof n=="function"&&(i=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),i||(i=bl),this.services.backendConnector.reload(t,n,l=>{a.resolve(),i(l)}),a}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&Xx.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let n=0;n<this.languages.length;n++){const i=this.languages[n];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}}changeLanguage(t,n){var i=this;this.isLanguageChangingTo=t;const a=Lo();this.emit("languageChanging",t);const l=p=>{this.language=p,this.languages=this.services.languageUtils.toResolveHierarchy(p),this.resolvedLanguage=void 0,this.setResolvedLanguage(p)},d=(p,g)=>{g?(l(g),this.translator.changeLanguage(g),this.isLanguageChangingTo=void 0,this.emit("languageChanged",g),this.logger.log("languageChanged",g)):this.isLanguageChangingTo=void 0,a.resolve(function(){return i.t(...arguments)}),n&&n(p,function(){return i.t(...arguments)})},m=p=>{!t&&!p&&this.services.languageDetector&&(p=[]);const g=Ie(p)?p:this.services.languageUtils.getBestMatchFromCodes(p);g&&(this.language||l(g),this.translator.language||this.translator.changeLanguage(g),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(g)),this.loadResources(g,y=>{d(y,g)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?m(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(m):this.services.languageDetector.detect(m):m(t),a}getFixedT(t,n,i){var a=this;const l=function(d,m){let p;if(typeof m!="object"){for(var g=arguments.length,y=new Array(g>2?g-2:0),v=2;v<g;v++)y[v-2]=arguments[v];p=a.options.overloadTranslationOptionHandler([d,m].concat(y))}else p={...m};p.lng=p.lng||l.lng,p.lngs=p.lngs||l.lngs,p.ns=p.ns||l.ns,p.keyPrefix!==""&&(p.keyPrefix=p.keyPrefix||i||l.keyPrefix);const C=a.options.keySeparator||".";let b;return p.keyPrefix&&Array.isArray(d)?b=d.map(R=>`${p.keyPrefix}${C}${R}`):b=p.keyPrefix?`${p.keyPrefix}${C}${d}`:d,a.t(b,p)};return Ie(t)?l.lng=t:l.lngs=t,l.ns=n,l.keyPrefix=i,l}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=n.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const d=(m,p)=>{const g=this.services.backendConnector.state[`${m}|${p}`];return g===-1||g===0||g===2};if(n.precheck){const m=n.precheck(this,d);if(m!==void 0)return m}return!!(this.hasResourceBundle(i,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||d(i,t)&&(!a||d(l,t)))}loadNamespaces(t,n){const i=Lo();return this.options.ns?(Ie(t)&&(t=[t]),t.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{i.resolve(),n&&n(a)}),i):(n&&n(),Promise.resolve())}loadLanguages(t,n){const i=Lo();Ie(t)&&(t=[t]);const a=this.options.preload||[],l=t.filter(d=>a.indexOf(d)<0&&this.services.languageUtils.isSupportedCode(d));return l.length?(this.options.preload=a.concat(l),this.loadResources(d=>{i.resolve(),n&&n(d)}),i):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services&&this.services.languageUtils||new xg(vg());return n.indexOf(i.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new Oa(t,n)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bl;const i=t.forkResourceStore;i&&delete t.forkResourceStore;const a={...this.options,...t,isClone:!0},l=new Oa(a);return(t.debug!==void 0||t.prefix!==void 0)&&(l.logger=l.logger.clone(t)),["store","services","language"].forEach(m=>{l[m]=this[m]}),l.services={...this.services},l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},i&&(l.store=new pg(this.store.data,a),l.services.resourceStore=l.store),l.translator=new Rc(l.services,a),l.translator.on("*",function(m){for(var p=arguments.length,g=new Array(p>1?p-1:0),y=1;y<p;y++)g[y-1]=arguments[y];l.emit(m,...g)}),l.init(a,n),l.translator.options=a,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const nn=Oa.createInstance();nn.createInstance=Oa.createInstance;nn.createInstance;nn.dir;nn.init;nn.loadResources;nn.reloadResources;nn.use;nn.changeLanguage;nn.getFixedT;nn.t;nn.exists;nn.setDefaultNamespace;nn.hasLoadedNamespace;nn.loadNamespaces;nn.loadLanguages;const KA="Seematti Billing",QA="Dashboard",ZA="Billing",qA="Inventory",$A="History",JA="Settings",eS="Items",tS="Add Item",nS="Save",rS="Cancel",iS="Name",sS="Price",oS="Stock",aS="Scan Barcode",lS="Cart",cS="Total",uS="Checkout",fS="Profile",dS="Language",hS="Backup & Restore",gS={app_title:KA,dashboard:QA,billing:ZA,inventory:qA,history:$A,settings:JA,items:eS,add_item:tS,save:nS,cancel:rS,name:iS,price:sS,stock:oS,scan_barcode:aS,cart:lS,total:cS,checkout:uS,profile:fS,language:dS,backup_restore:hS},pS=" ",mS="",xS="",yS=" ",wS="",vS="",CS="",ES=" ",AS="",SS="",bS="",IS="",NS="",TS=" ",_S="",OS="",MS=" ",RS="",DS="",kS=" & ",LS={app_title:pS,dashboard:mS,billing:xS,inventory:yS,history:wS,settings:vS,items:CS,add_item:ES,save:AS,cancel:SS,name:bS,price:IS,stock:NS,scan_barcode:TS,cart:_S,total:OS,checkout:MS,profile:RS,language:DS,backup_restore:kS};nn.use(U3).init({resources:{en:{translation:gS},ta:{translation:LS}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});of.createRoot(document.getElementById("root")).render(A.jsx(Vi.StrictMode,{children:A.jsx(SA,{})}));
